<head>
    <!-- LICENSE INFORMATION -->
    <!-- 
      Unless specified otherwise, Trash Engine / the contents of this document are licensed under the MIT license.

      This excludes the contents of the <script type="gamedata"> tag, which are not considered part of the engine.

      Users are encouraged to include license information in the game data.
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trash engine</title>
    <!--LICENSE (game data): 
(c) Niki Gawlik 2022 
The game data is licensed under Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0) 
    (http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1). -->
<script type="gamedata">{"version":4,"resources":[{"name":"tool1","type":"sprite","uuid":"5628e2ad-0e61-448d-92d4-565ce9d4c639","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAARlJREFUaEPtmVEOgjAQROGQHsB4LuMBPKSGDxJQKTTMbtft41u2nXkzlaTj0NkzdqZ3QHB24hCGcDIHiHQyoF9y3Ajfn4/X5+q3y9Vt/XlttwW7EfxL6JK0N2Vzwl0J3hM7kU5D+IjYNIKPip277EnZpMMI3vmagbDh5x6RVphLh+nw2gEOLUWvNmZwaCnMrTm0POM8aWtOGMGKiBVmNCXsTdck0pH7i2BFfSC84WKL/jaN9F8LrolxTW0sTJH8LSG4BmPhtxAWGEmkBSauRkS5RHO7PURwg/ukZeQkHS7VAMIQVh+T5XlEWu03Hc7eYXVizs4z7/DZDarfR7Da0WjzIByNiHo/EFY7Gm0ehKMRUe8HwmpHo817A1R8nD2H4KjnAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":17,"bBoxY":9,"bBoxWidth":22,"bBoxHeight":39,"behaviours":[{"name":"config","type":"behaviour","uuid":"ecf08709-74d7-4dd0-b24a-a3be73be3fb1","props":[],"code":"// there can only be one >:(\nif(find(tool1)) return null;\nsetDepth(me, 1)\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"wall","type":"sprite","uuid":"a2861379-7380-4892-a55f-e757955553e3","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAR9JREFUaEPtmdERgkAMRKEzG3CkD+uxEMcCde5XvTnOTZzdsHyTkLcv3Aes22l7Lge6VgMXt23DxQUvNmzDxRLwShcT+oFjw7OGz9fLbEn3/sftHtar1wgyHAnbBqQGjoalAc4A660bhWEDD46Vf1hCTrbhoTVjmB22BRUGrAC7CxhZH8baoWHGoZGZDIykp1BrwwqWkBltGElPodaGFSwhM9owkp5CrQ0rWEJmtGEkPYVaG1awhMxow0h6CrWphme+eNL8eUCszQKPnhXxZZTK8Ag4YgvkgFFoA+9Zq6h7fn3HkXc51TAaTC+QssAtsG/QpYHRLXmvp17paNjWz8AZqTL1tGEmGxmz2HBGqkw9bZjJRsYsNpyRKlPPwxl+AVhioIFaRH11AAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"visual variation","type":"behaviour","uuid":"9b38610b-f707-46a6-b847-ca2a3bde8918","props":[],"code":"\nsetDepth(spawn(wallBG, x, y), -100)\n\nconst r = drandom();\nif(r < .5) {\n  destroy(me)\n  if(r > .1)\n    spawn(wall_alt1, x, y)\n  else\n    spawn(wall_alt2, x, y)\n}\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"helper walls","type":"behaviour","uuid":"2137aa89-1ed4-4533-b2d8-3a226cf5b17e","props":[],"code":"// spawn walls outside the room to make the magic yoyo work\n\nif(x == 30) spawn(wall_alt2, x-60, y)\nif(y == 30) spawn(wall_alt2, x, y-60)\nif(x == roomWidth - 30) spawn(wall_alt2, x+60, y)\nif(y == roomHeight - 30) spawn(wall_alt2, x, y+60)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"slab","type":"sprite","uuid":"5317b395-5036-4268-af58-ca781dfcb2f5","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAYAAABwmH1PAAAAAXNSR0IArs4c6QAAAKNJREFUWEftmFEKgCAQRPVmXSDyHp2ng0QHLPoIpBDUNV309V1LM2/Gjayb3GkGuiyCO6cN4c4BmyqE53X5+Hhse5a30llBwdLBvhpNsxD8kNFEpWRaIAxhL0+tTlYi/VpoKSDoMB2mw+lfhJp2Oh2mw3S4TIfvKSn7s1TymnUYwZHBkZ74zf545BKO9CV4G4KlDmp/vgphTSYgWBONP95lOMIXMNrdQfX1R/EAAAAASUVORK5CYII="},"originX":30,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":30,"behaviours":[{"name":"custom","type":"behaviour","uuid":"62366d34-5272-4361-a27f-fe5832d4a3fa","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"edge thingy","type":"behaviour","uuid":"e55301a6-1906-4aa6-bb0a-0a318761befc","props":[],"code":"// spawn walls outside the room to make the magic yoyo work\n\nif(x == 30) spawn(slab, x-60, y)\nif(x == roomWidth - 30) spawn(slab, x+60, y)\n\n\n// if(y == 30) spawn(slab, x, y-60)\n// if(y == roomHeight - 30) spawn(slab, x, y+60)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"particle","type":"sprite","uuid":"14ea421d-70c4-40c0-8504-241175cf32f6","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAClJREFUGFdjZEADAQ4B/zcc2MDICBIHcZDl8Uugq4bpJGwUyFyYbhAbAIFWGeYdIZz4AAAAAElFTkSuQmCC"},"originX":3,"originY":3,"bBoxX":0,"bBoxY":0,"bBoxWidth":6,"bBoxHeight":6,"behaviours":[{"name":"config & despawn","type":"behaviour","uuid":"7a909016-e087-4c61-bafa-77982536666e","props":["xspd","yspd","t"],"code":"xspd = 0\nyspd = 0\ngrav = 0.25\n\nt = Math.random() * 20\nonUpdate(slf => {\n  if(t-- <= 0) \n    destroy(slf)\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"9939d41c-17ab-474d-af6f-74873eb6d13b","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"door","type":"sprite","uuid":"3cfc8a91-b124-4099-b51f-575fbc401ffa","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAgJJREFUaEPtm9GywyAIRK///9Hp5M5kJrUoK7CKbfqalHhcWDCdluM4jr8f+pQH+MvV/lC4lFJ6zLtnhJjSGrSWBNemeONoz9GuS+KEA2eBPTeDDpwJlg6cDTYEOLNhSX7hSunMsJd51dBm4B1gT+gHWBiboba0g8KhNSzWgjKRaUPBdf0eO3pQgWoY3qkAYCYs3JZmAbNhUwHPgDUDtwzLWm+zYE3APXe2ANfxLDFQMxwGvs/GES49A7bOHtil64OAF3gFLKywNJd6gD3fRdO35QuQwvBMCvZhtro9E4SAI/swG/Y+rcHrRtqEJS1nwkpZCdVwq02MAmeAXQbM6rV1J5EMTq3hCIWREkHdt3UfAjtF4RmpjMJKx8//WkcV0e7LCCupDAOP/PzCqNtRZe/rfRNLU06rt6zKUoBnwGobjlwPU9ibHchiI+4JAd4FtjYuk2ntBOsG3g3WDLwDaKt1Ddfw6OFBGwlbpxuPQaHnYqiGI4CZGaLFnq6wtiCWstI8TVd4NazJtKwpnQF2GnAWWDowe762bCTVtCwLQk3LGpsGbF0QAuyJPQz8UQfCS3jPgjRgb2wTMPrGI9vbDpNpaQpcQTPCdoGtM+6ZMllhw4Gzw4YDI+m++p6maVlTejWQ9vwHuN4hhgFpKjCvdxX+xrRWgZm7vTr280et1Qqwn/8CCjhrejp4KywAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"config","type":"behaviour","uuid":"1b1d1d12-267c-48d6-85fe-64f9d453e925","props":[],"code":"tag(me, wall)\npersist(me, 1)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"opening","type":"behaviour","uuid":"82bb8a99-9930-46b1-9dc0-96200770be55","props":[],"code":"onUpdate(() => {\n  if(collisionAt(me, bullet, x-1, y)\n    || collisionAt(me, bullet, x+1, y)\n    || collisionAt(me, hook, x-1,y)\n    || collisionAt(me, hook, x+1,y)\n    || collisionAt(me, player, x, y)\n  )\n    y += 1000;\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"indicator","type":"sprite","uuid":"77404981-58c2-49d9-911c-f275012bc64a","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAALJJREFUSEvt1kkOwCAIBVC5/6FpXJgYwvBBo4vadfXBNw7ULn10yW0PPpb8UtTMzFqlRBTOG/4wT2xBFRyGM+goxOscghF0IPJfCw9hBJUdzmO2w/OEGhThpY61LiR0De7xe7jbcWafZuOG4B5tFN2Dt6zx8ahl1dpRaJ1U0QlW2sfW3Zk5NkPY6lriGbSPhWAUt4pRr83KkyO6OLY/BJBHAYKmoq4k442B1/jBqwn8L+oPHyu0HwqN1noAAAAASUVORK5CYII="},"originX":15,"originY":15,"bBoxX":7,"bBoxY":5,"bBoxWidth":19,"bBoxHeight":19,"behaviours":[],"_type":"Sprite"},{"name":"player","type":"sprite","uuid":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAyCAYAAABLXmvvAAAAAXNSR0IArs4c6QAAAXVJREFUWEft19ERgyAMAFDZwE7QDbpI67S2i3SDTlA3oAdnOASSABK56+mvyCMEAqqh4Fn0pAuaD6OaFdYefeF/UAr632I4Ce8BOTwJtwIpPIIlUBiAP+0bWBI1eDfYx13EqWhHNbs0LXoq2UloW4gahX0UemmJ/ydMpUosx1yqSHjPasqCJfZvN3jds+h2VBLR5qQoC84tJLntzMBYmMuVdwBEgVIFpwo2gt9panBhm/CI7AevI0PvUlg0OQsIm2pzUNgCwq3sGpzKr4M5XBRuiXPR2u0U5oqa9pzIuTM7ugi0ukdTiw69c0ni4cVe/EJ/+J8E9d+UXFww3d/7zRYV9bzm1IpNG/34DJfXm5zN5EtAobcUbjrnHgqP4BDlOufeY/gGbo3CoFK4g6VQDLewNJrCD4XNAGDa1VHR+ovQ4F1gWx96RHzCXBFq+v7McdPppDqrnmqoQLXbcTdcW+ur4PCYq4m6+JDADvZSvOg85u5RJfgPl4gMVateLN8AAAAASUVORK5CYII="},"originX":15,"originY":25,"bBoxX":0,"bBoxY":0,"bBoxWidth":30,"bBoxHeight":50,"behaviours":[{"name":"abilities","type":"behaviour","uuid":"1cfcf519-9f45-43ed-8752-08735548086b","props":["downjump"],"code":"downjump = true\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"497fb56c-396a-497a-955d-5714cf543481","_type":"BehaviourLink"},{"name":"movement","type":"behaviour","uuid":"c782ead8-41a1-4dd7-a5c1-83cd531715d0","props":["xspd","yspd","onGround","jumpsCount","maxJumpsCount","jumpUnits","loseJumpOnFall"],"code":"xspd = 0;\nyspd = 0;\nmaxJumpsCount = 1;\njumpUnits = [];\nloseJumpOnFall = true;\n\nfunction spawnP(n) {\n  for(let i = 0; i<n; i++) {\n    let p = spawn(particle, x, y)\n    p.xspd = (Math.random()*2-1) * 3;\n    p.yspd = Math.random() * 1;\n  }\n}\n\nlet airtime = 0;\n\nonUpdate((slf) => {\n\n\nif(jumpUnits.length < maxJumpsCount) {\n  let h = spawn(jumpUnit, 10 + jumpUnits.length * 15, 45);\n  h.enabled = true;\n  jumpUnits.push(h);\n}\n\nfor(let i = 0; i < jumpUnits.length; i++) {\n  jumpUnits[i].enabled = i < jumpsCount;\n}\n\nconst spd = 9;\nconst acc = 0.4;\nconst jtime = 30;\nconst gbase = 1.15;\nlet jmp = jtime/gbase/2;\nif (_hat) jmp = jtime/gbase/1.5;\nconst flatfac = .7;\nconst airframes = 5;\nconst maxYSpd = 20;\n\nlet tspd = 0;\n\n\nonGround = \n  collisionAt(slf, wall, x, y+10)\n;\n\nif (onGround) {\n  jumpsCount = maxJumpsCount;\n  loseJumpOnFall = true;\n}\n\nif (!onGround && airtime >= airframes && loseJumpOnFall) {jumpsCount -= 1; loseJumpOnFall = false;}\n\nif(onGround && airtime > 5 && yspd > 5) {\n  playSound(sfxLand, .25, Math.random() * 2);\n}\n\n\nif(!onGround) {airtime++;}\nelse airtime = 0;\n\n\n//if(!keyIsDown(...B_KEYS))\n\ntspd = (hp > 0) * inputX * spd;\n\nxspd = lerp(xspd, tspd, acc);\n\nif(\n  hp > 0 &&\n  (keyIsPressed(...A_KEYS) ||\n  keyIsPressed(...V_KEYS)) && \n  (airtime <= airframes || jumpsCount > 0)\n) {\n  const f = keyIsPressed(...V_KEYS)?\n    1.5 : 1;\n  spawnP(12)\n  yspd = -jmp * f;\n  airtime = airframes;\n  playSound(sfxJump, .7, Math.random() * 2);\n  jumpsCount -= 1;\n  loseJumpOnFall = false;\n}\nelse {\n  const cutoff = (jmp * flatfac);\n  const grav = Math.abs(yspd) < cutoff?\n    gbase * flatfac: gbase / flatfac;\n  yspd += grav;\n}\n\nyspd = Math.min(maxYSpd, yspd);\n\nfor(let pickup of instancesAt(me, maxHealthPickup, x, y)) {\n  maxJumpsCount ++; \n  destroy(pickup);\n  spawn(textHPUp, x, y-30)\n}\n\nfor(let pickup of instancesAt(me, jumpRefill, x, y)) {\n  jumpsCount = maxJumpsCount; \n  destroy(pickup);\n}\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"collision","type":"behaviour","uuid":"c7fd2826-69f8-4bc9-8f7f-1301e24642a1","props":["xspd","yspd"],"code":"\nfunction spawnP(n) {\n  for(let i = 0; i<n; i++) {\n    let p = spawn(particle, x, y+18)\n    p.xspd = (Math.random()*2-1) * 3;\n    p.yspd = -Math.random() * 7;\n  }\n}\n\n\nonUpdate(slf => {\n\nfor(let i = 0; i < ~~Math.abs(xspd); i++) {\n  const dx = Math.sign(xspd);\n  if(!collisionAt(slf, wall, x + dx, y)) {\n    x += dx;\n  } else {\n    xspd = 0;\n    break;\n  }\n}\n\n//const prehat = _hat && collisionAt(_hat, wall, x, y-45);\n\n\nfor(let i = 0; i < ~~Math.abs(yspd); i++) {\n  const dy = Math.sign(yspd);\n  if(!collisionAt(slf, wall, x, y+dy)) {\n  y += dy;\n  } else {\n    //spawnP(yspd/2-1);\n    //spawnP(Math.abs(xspd)/8-1);\n    yspd = 0;\n    break;\n  }\n}\n\nlet _boss = find(boss)\nlet wallcol = _boss && !_boss.dead;\n\nif(wallcol) {\n  x = Math.max(x, 15);\n  x = Math.min(x, roomWidth-15);\n}\n\n\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"inventory & items","type":"behaviour","uuid":"82027842-16f4-4b75-9829-9836beac9019","props":["inventory","_hat","_tool","_hook"],"code":"inventory = new Map();\n\n\nconst shootDelay = 20;\nlet shootTimer = 0;\n\nconst pickupTexts = {}\npickupTexts[hat] = \"Found Hat!\\nYou now jump higher\";\npickupTexts[tool1] = \"Found Sword!\\nPress X or K to attack!\";\npickupTexts[hook] = \"Found Grabber!\\nPress C or L to use it!\\nIt allows to break glass and grab walls!\"\npickupTexts[sunglasses] = \"Found Shades!\\nYou just look cooler now!\"\n\nonUpdate(slf => {\n\n\nlet cols = \n  instancesAt(slf, tool1, x, y)\n  .concat(instancesAt(slf, hat, x, y))\n  .concat(instancesAt(slf, hook, x, y))\n  .concat(instancesAt(slf, sunglasses, x, y))\n;\n\nfor(let other of cols) {\n  if(!inventory.has(other.spriteID)) {\n    inventory.set(other.spriteID, other);\n    persist(other, 2);\n    if(other.spriteID == hat) persist(other.hatVis, 2)\n    showMessage(pickupTexts[other.spriteID], []);\n  }\n}\n\n_hat = inventory.get(hat) || null;\n_tool = inventory.get(tool1) || null;\n_hook = inventory.get(hook) || null;\n\n\n// SHOOT\nif(\n  hp > 0 &&\n  keyIsDown(...B_KEYS) && \n  _tool && shootTimer <= 0\n) {\n  let b = spawn(bullet, _tool.x + facing * 30, _tool.y);\n  b.xspd = facing * 9;\n  b.imgScaleX = facing * 3;\n  shootTimer = shootDelay;\n  playSound(sfxShoot, .7, 1 + Math.random() * 1);\n}\n\nshootTimer--;\n\n// GRAPPLE\nif(\n  hp > 0 &&\n  keyIsPressed(...C_KEYS) && \n  _hook\n) {\n  _hook.x = x;\n  _hook.y = y;\n  _hook.shoot(facing*15, 0);\n  playSound(sfxCrunch, 1, Math.random() * 2);\n}\n\nif(_hook && keyIsReleased(...C_KEYS)) {\n  _hook.unshoot();\n}\n\n\n\nfor(let held of inventory.values()) {\n  if(held == _hook && _hook.active) continue;\n\n  const yoff = \n    (held.spriteID == hat)? -45 : \n    (held.spriteID == sunglasses)? -15 : \n    5;\n  const xoff = \n    (held.spriteID == hat)? 0 : \n    (held.spriteID == sunglasses)? 0 : \n    15;\n  const tx = x + facing * xoff;\n  const ty = y + yoff;\n  const f = \n     (held.spriteID == hat)? .8 : \n     (held.spriteID == sunglasses)? 1. : \n     0.5;\n  \n\n  held.x = lerp(held.x, tx, f);\n  held.y = lerp(held.y, ty, f);\n\n  if(held == _hat && _hat.hatVis) {\n    _hat.hatVis.x = _hat.x;\n    _hat.hatVis.y = _hat.y + 5;\n    _hat.hatVis.imgScaleX = facing;\n  }\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"room transitions","type":"behaviour","uuid":"6dc0e7cc-af5f-4c20-9f3f-1c7d2ecc8045","props":[],"code":"let f = true;\npersist(me, 2)\n\nonUpdate(slf => {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  let px = x;\n  let py = y;\n\n  if(x > roomWidth) {\n    deltaX = 1\n    x = 0;\n  }\n  else\n  if(x < 0) {\n    deltaX = -1;\n    x = roomWidth;\n  }\n\n  if(y > roomHeight) {\n    deltaY = 1\n    y = 0;\n  }\n  else\n  if(y < 0) {\n    deltaY = -1;\n    y = roomHeight;\n    yspd = -18\n  }\n\n  if(deltaX != 0 || deltaY != 0) {\n    for(let itm of inventory.values()){\n      itm.x = x + (itm.x - px);\n      itm.y = y + (itm.y - py);\n    }\n    \n    let rname = nameOf(currentRoom);\n    let [, rx, ry] = rname.split(\"_\");\n    rx = parseInt(rx) + deltaX;\n    ry = parseInt(ry) + deltaY;\n    rname = `room_${rx}_${ry}`;\n    if(window[rname]) {\n      goToRoom(window[rname]);\n    } else {\n      hp = 0;\n    }\n  }\n});\n\n\n\n\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"trail","type":"behaviour","uuid":"3eae381c-6574-4a4c-9cc3-46485fc7c993","props":[],"code":"onUpdate(() => {\nif(keyIsDown(\"KeyT\"))\n  spawn(indicator, x, y)\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"only one","type":"behaviour","uuid":"f7ea419a-dabb-4b9c-be2f-52ce890b6db1","props":[],"code":"// there can only be one >:(\nif(find(player)) return false;\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"health & damage","type":"behaviour","uuid":"b4cb317e-08ee-47b4-9487-27073498be07","props":["hp","maxHP","hearts"],"code":"hp = maxHP = 1;\n\nhearts = [];\nlet t = 0;\n\n\nonUpdate(() => {\n\nt += 0.01;\n\n// hearts management\n\nif(hearts.length < maxHP) {\n  let h = spawn(hpUnit, 10 + hearts.length * 15, 15);\n  h.enabled = true;\n  hearts.push(h);\n}\n\nfor(let i = 0; i < hearts.length; i++) {\n  hearts[i].enabled = i < hp;\n}\n\n// pickups\n\n\n\nif(collisionAt(me, ene1, x, y)) {\n  hurt(1)\n}\n\nif(collisionAt(me, spikes, x, y) && hp > 0) {\n  hurt(100)\n}\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"squash n stretch","type":"behaviour","uuid":"75382968-42e6-445e-b30d-f55458d49431","props":[],"code":"\nlet mx = 0;\nlet my = 0;\nlet mxs = 0;\nlet mys = 0;\nconst f = 0.5;\n\nlet t = 0;\n\nonUpdate(() => {\n  if(Math.abs(mx-x) > 60) mx = x\n  if(Math.abs(my-y) > 60) my = y\n\n  const tx = x;\n  const ty = y; // + inputY * 10;\n\n  mxs += (tx - mx) * f;\n  mxs *= 0.5;\n  mx += mxs;\n  mys += (ty - my) * f;\n  mys *= 0.5;\n  my += mys;\n\n  if(onGround) t = 0;\n  else t++;\n\n  const s = 0.03;\n  const fx = onGround? 0: Math.abs(x-mx)*s;\n  const fy = t < 10? (y-my)*s : Math.abs(y-my)*s;\n  imgScaleX = 1 + fx - fy;\n  imgScaleY = 1 + fy - fx;\n});\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"checkpoints","type":"behaviour","uuid":"a865fa58-d785-458e-ac66-8ee9253534b6","props":[],"code":"let check = null;\nlet checkRoom = currentRoom;\nlet checkX = x;\nlet checkY = y;\n\nlet respawnTimer = 0;\nconst respawnDelay = 40;\n\nonUpdate(() => {\n\nif(collisionAt(me, checkpoint, x, y+1)) {\n  let tc = instancesAt(me, checkpoint, x, y+1)[0];\n  if(tc && tc != check) {\n    check = tc;\n    \n    checkX = check.x;\n    checkY = y;\n    checkRoom = currentRoom;\n    spawn(checkpointFX, tc.x, tc.y);\n    hp = maxHP;\n\n    playSound(sfxPowerup)\n  }\n}\n\nif(hp > 0) respawnTimer = respawnDelay;\n\nif(hp <= 0 && respawnTimer-- <= 0) {\n  // respawn\n  if(checkRoom) goToRoom(checkRoom)\n  x = checkX;\n  y = checkY;\n  xspd = 0\n  yspd = 0;\n  hp = maxHP;\n}\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"cheats","type":"behaviour","uuid":"1dfef487-bfc9-42b8-9bcd-c5f0640eb250","props":[],"code":"let enabled = true;\n\nonUpdate(() => {\n\nif(!enabled) return;\n\nif(keyIsPressed(\"Digit1\")) {\n  spawn(tool1, x, y);\n}\nif(keyIsPressed(\"Digit2\")) {\n  spawn(hat, x, y);\n}\nif(keyIsPressed(\"Digit3\")) {\n  spawn(hook, x, y);\n}\nif(keyIsPressed(\"Digit4\")) {\n  for(let e of findAll(ene1)) {\n    if(e.hurt) e.hurt(100);\n  }\n}\nif(keyIsPressed(\"Digit5\")) {\n  spawn(maxHealthPickup, x, y);\n}\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"},{"name":"pop up messages","type":"behaviour","uuid":"71cdcd0d-319a-4d32-bb23-d93d9a3ca595","props":["showMessage"],"code":"showMessage = (str, keys) => {\n  let msg = spawn(message, roomWidth/2, roomHeight/2);\n\n  msg.text = str + \"\";\n  msg.keys = keys || [\"AnyKey\"];\n}","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"destroy","type":"behaviour","uuid":"856659a9-cea7-4f02-9ef1-2574262aa5fb","props":["destroyCustom"],"code":"\n\ndestroyCustom = () => {\n\n\n\nfor(let held of inventory.values()) {\n  persist(held, 0)\n  destroy(held)\n\n  if(held == _hat && _hat.hatVis) {\n    persist(_hat.hatVis, 0)\n    destroy(_hat.hatVis)\n  }\n}\n\n\n\nfor(let heart of hearts) {\n  persist(heart, 0)\n  destroy(heart)\n}\n\nfor(let bg of findAll(hpUnitBG)) {\n  persist(bg, 0)\n  destroy(bg)\n}\n\npersist(me, 0)\ndestroy(me)\n\n}","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"open menu","type":"behaviour","uuid":"b367f0d2-2c91-4e38-a6d5-485f925f6a0c","props":[],"code":"onUpdate(() => {\n\nif(keyIsPressed(\"KeyM\", \"Escape\") && !find(escMenu)) {\n  spawn(escMenu, roomWidth/2, roomHeight/2);\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"bullet","type":"sprite","uuid":"060983c8-7503-4654-9171-db8af97acce6","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAJ5JREFUSEvt1W0KgCAMBuB5grpYHTYvVidY+EMQ5jZf8IOg/ho8+jq3QBO+MMGgdcjNByMn3EM0NysWE7DRhRj00EkWJBBmhk6Rd2NBa5C0s96ngarLw7XIICTnr2FdES3SH1EfZe1evhfX8OpCgZQ39E6sxzi8d0Fd2GsbtVLzABEXirQAAkEGVitQvfjW0euN3DJaqLqgmVz8PAV5AYEIdBpPLSOFAAAAAElFTkSuQmCC"},"originX":12,"originY":12,"bBoxX":3,"bBoxY":3,"bBoxWidth":17,"bBoxHeight":20,"behaviours":[{"name":"movement","type":"behaviour","uuid":"c6c69ba0-a7dd-4bcd-b95c-8484494de177","props":["xspd","yspd","ded","collides"],"code":"xspd = yspd = 0;\n\n\n\nonUpdate(slf => {\n\nx += xspd;\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visuals","type":"behaviour","uuid":"ba26dfe6-36d2-4765-a369-c047966903f6","props":[],"code":"imgScaleX = 3;\nimgScaleY = 3;\n\nonUpdate(() => {\n\nlet tsx = 1 + Math.abs(xspd) * 0.07;\nlet tsy = 1 + Math.abs(yspd) * 0.07;\n\n\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"despawn","type":"behaviour","uuid":"e50163c9-5a45-4fa0-8e59-453da7751b6e","props":[],"code":"let t = 5;\n\nonUpdate(() => {\n\nif(t-- <= 0) {\n  destroy(me)\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"dmg","type":"behaviour","uuid":"ab5d39d0-a842-42c2-977a-558f57e6adfc","props":["dmg"],"code":"dmg = dmg || 1.5;\n\nonUpdate(() => {\n\nif(!ded)\nfor(let other of instancesAt(me, ene1, x, y)) {\n  if(other.hurt) other.hurt(dmg);\n  else other.hp -= dmg;\n\n  if(other.knockback) {\n    other.xspd += xspd * other.knockback * .5;\n    other.yspd += yspd * other.knockback * .5;\n  }\n  ded = true\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"mainMenu","type":"room","uuid":"31f4c624-c8be-44ad-a1fc-83a1d3d8886b","width":540,"height":540,"instances":[{"spriteID":"57477da5-e472-422f-afb4-77b6840b9de1","x":270,"y":330,"_type":"Instance"},{"spriteID":"84c6f14e-9cc4-4e98-a8e5-7cb8cb893baf","x":270,"y":150,"_type":"Instance"},{"spriteID":"13a5e539-73ab-42ea-b1ef-f8f9d1d71ff9","x":420,"y":480,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":60,"height":60},"_type":"Room"},{"name":"intro","type":"room","uuid":"5acb6e82-4571-4cb0-b210-b1f46191b220","width":540,"height":540,"instances":[{"spriteID":"206b4849-f430-4aaf-b9b0-f27216f3aecc","x":270,"y":270,"_type":"Instance"},{"spriteID":"ad28b818-67d9-4c97-982d-d2f15996ee43","x":450,"y":510,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_0","type":"room","uuid":"8776cfc4-6d2a-4bca-be60-ecf0af25aa1b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_-1","type":"room","uuid":"5f692753-148d-4923-b8a6-89baa5c89075","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":390,"y":330,"_type":"Instance"}],"backgroundColor":"#271f27","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_1","type":"room","uuid":"fb63e526-6120-46cb-b2ee-c06889e7df48","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":-30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":405,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":465,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":465,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":465,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_2","type":"room","uuid":"e84d9585-2e58-44a4-8a3b-959783711b46","width":540,"height":540,"instances":[{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"9e018373-06eb-4dbb-b3c9-437f0c951ba5","x":150,"y":270,"_type":"Instance"},{"spriteID":"3cfc8a91-b124-4099-b51f-575fbc401ffa","x":390,"y":270,"_type":"Instance"},{"spriteID":"3b2306a0-f081-425f-98a8-bf38aafa5e89","x":120,"y":270,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":150,"y":330,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":390,"y":330,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":390,"y":210,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":150,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":30,"height":30},"_type":"Room"},{"name":"room_0_3","type":"room","uuid":"be9ab9a0-2e63-4b9a-b87a-581e98181b6d","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"3cfc8a91-b124-4099-b51f-575fbc401ffa","x":510,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_4","type":"room","uuid":"54b4ed17-8a69-4555-8792-c55b17063707","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":405,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":150,"y":375,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-1_4","type":"room","uuid":"d4fdfdb6-cf8b-420d-8415-d2b9bd05f79b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":345,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":465,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-2_4","type":"room","uuid":"fdb3e7fa-27b4-41d2-b859-addde6337be5","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":270,"y":30,"_type":"Instance"},{"spriteID":"3cfc8a91-b124-4099-b51f-575fbc401ffa","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-2_3","type":"room","uuid":"6b91e89f-b21a-41db-9560-64b2d238dd3c","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":210,"y":390,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":210,"y":390,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":210,"y":390,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":270,"y":330,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":450,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-1_3","type":"room","uuid":"5f62a73b-a1ec-4d68-a9d5-27864518a20b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":30,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"hat","type":"sprite","uuid":"8bd17221-0b3d-4f6f-ab3e-8e1bbaf5ecfd","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAJxJREFUWEftlEEKwCAMBPX/j27x0NKKkaSLJcJ43sVhEq0l+anJ+QqA6oQwiEHVgNpnBzGoGlD77CAGVQNqnx3EoGpA7bODGHQYOByZZyS0VqFwBxIFu+qhO73hrzAzua67PaEVcG6bM8CVYL1ZkyMLoGl0S8A/R2s9olvcyCCAjo99X4MZxtsEvwxmgRpOvpEC6HgUZgSDir3WPQG5HREkGWcYcgAAAABJRU5ErkJggg=="},"originX":20,"originY":20,"bBoxX":0,"bBoxY":23,"bBoxWidth":40,"bBoxHeight":17,"behaviours":[{"name":"there can only be one","type":"behaviour","uuid":"a53e086e-3290-4b9a-bb9a-22845caaa0a9","props":[],"code":"// there can only be one >:(\nif(find(hat)) return null;\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visuals","type":"behaviour","uuid":"8ad852c1-66eb-494d-bcff-b2ad03a8862d","props":["hatVis"],"code":"imgAlpha = 0\n\nhatVis = spawn(hatVisual, x, y);\n\nonUpdate(() => {\n\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"ene2","type":"sprite","uuid":"299a0738-f078-4018-b783-762dd3084b5c","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAtZJREFUaEPtmumRwjAMhUMJNEIj1EsjNEIJ7JhZZ4TR8SQ5jjn258bXp/ekKAmH5cv+Dl/GuwwHvp1P9xrk4+U6fP+hG1LYvaB/wFvm9E/hZVlG53HY0q1ayMHfVmHu4EgRkuYhweqVaiGFNWB6sBbk44E9qoxSOaRwAUFV7gUdTaN2/zDwVtBl3aq2J6ioQ6YE9rgCKZZ0vR+wJ7oey3nW9Y5F7VzWHa7w8XJdeW7nk8iGjPOA1o2GAlOIegAKzV3nxnnzdrccloA10I8DRvO1tX/EzqkcjhQsREkpANMCZ6BQWNqcoA4JFy3lAeBl7/t9fX31uHY4xGqkVM0jtmZP4LUrp2oLmwGmkcxa+wU4A8tBPt0Sggpztm1uZ7B1ugFr9q3XPJZGHBKBTgFXKyO5WsagwJpT6BqR3E7lsBcYyWNPWmitKU0DWtxE7yO5HAHWoC3Ydi4KTFtRNdktaAm4PRhi+TKHy3VtrhcY6rSMVyuP4CHKrDd+pVJLeU7XR3JYa0agcm41GyhwW7SqQtQpXGGbDhhRWYL9bxNXp0wNTA/r6WmZbukpNSh0zxwu1RqydDmNVcA8wO1Yrfi1Yz05zPXaMPCW0L2BtYcKF/DW0Fbx0+qA1Gi8OMRrRatiI+spLaF4i+OKGbeO9ciYUjj7sC8cGIlZqSnsuK7AzQ9SoINZgzS1pblRWKjTqpsyH8AtFvh6pEXkFrfUhYGFL/cwkDVwCmDkvivlcE+bWsFCq3Mdl3oe9hymjvUGybNH2NKIup6DSJ0V/X8PW/+AGVVSbzyiKlsf1RLrmn2FOQDZ3JsCbw/c5OLz5wYmYh5g9KdPZZtwDiOqamMsxVFgCSDze68ulubgPdDeh4ApgUsQLGjJJZY1pwWOQFuwUm+/aw63yqFKo7BSIJH5m+Wwt3KjCn2Mwog6mnPQ+dMojB44e8ucAngUbAnW7sAjYYcBZ6pq1sLt/D9ufQL3TM4hhAAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":4,"bBoxY":2,"bBoxWidth":56,"bBoxHeight":58,"behaviours":[{"name":"config","type":"behaviour","uuid":"6d61ab32-9b39-4576-bce5-1f4bb5dfb0c9","props":["knockback"],"code":"knockback = .3","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement","type":"behaviour","uuid":"4e248e83-2436-489e-938e-4732e54855bd","props":["xspd","yspd"],"code":"tag(me, ene1)\n\nlet piv = null;\n\nonUpdate(() => {\n  if(!piv) {\n    piv = findClosest(pivot, x, y);\n  } else {\n    const dx = y - piv.y;\n    const dy = x - piv.x;\n    const dist = (dx**2 + dy**2) ** 0.5;\n    let angle = Math.atan2(dx, dy);\n\n    angle += .03\n    x = piv.x + Math.cos(angle) * dist;\n    y = piv.y + Math.sin(angle) * dist;\n  }\n\nif(!piv) {\n // alternate AI\n\n let p = find(player)\n if(!p) return;\n\n const d = distance(p.x, p.y, x, y);\n const spd = Math.min(.3, d/500);\n const angle = Math.atan2(p.y - y, p.x - x);\n xspd += Math.cos(angle) * spd;\n yspd += Math.sin(angle) * spd;\n xspd = lerp(xspd, 0, 0.1);\n yspd = lerp(yspd, 0, 0.1);\n\n x += xspd\n y += yspd\n\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visual","type":"behaviour","uuid":"8b427711-08c1-4f77-96cd-f483a92f1fdb","props":[],"code":"imgScaleX =\nimgScaleY = .7;\n\n\nonUpdate(() => {\n\nimgScaleX += (Math.random() * 2 - 1) * .05;\nimgScaleY += (Math.random() * 2 - 1) * .05;\n\nimgScaleX = lerp(imgScaleX, 1.2, 0.2)\nimgScaleY = lerp(imgScaleY, 1.2, 0.2)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"health","type":"behaviour","uuid":"76976c6e-e197-429b-a609-4cebba3bcd3e","props":["hp"],"code":"hp = .8\ndmgCooldown = 10;\n\nonUpdate(()=> {\n\nif(hp <= 0) {\n  destroy(me)\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"ene3_slimy","type":"sprite","uuid":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAApVJREFUaEPtms1ZwzAMhpsN2IFbz3SLsgHjsQHdopx7Ywc2CI954mKMJX2S5Tgk4Wy5evXpzy3DYWN/w8Z4Dzvw2hWfReHz9Th6BPJyulX7W31BDlKCe316VPO+vH+QNjXgbsBeoBRlKQAWcBfg1rBpEHJwLXQV8JygufJWcDNwT9gAb01xE3AOa2lK6i5WMLCovCrgEBOpptXAqbq9lK1pYjswV1tLU7fUvNxSeimNiktntxruPYI8ty+ohjcFrIV9GN5+CfI5PqtGbm4fjEt3UI+L6hpGgUuOpqQSuGSfg3cFRpyllIpB0d7xL4ApaBQ2te8GrHHWAzjesSjgcfz5RmcY/g6CvJ7zoCH2iwFOnY31mUNzwIj9+Xosdn6pQwcjcQ5TX8DFhwOnzg48RaCFwoi6VQoH46ByqWkhNZjnZHqPZF9KaTfg4Bj3vfLldFNtUh6duiswpTIVBW7jQkZcDSyU0pLC05MMVnkVwCi0tE/HB32pTGpGUaqGOJbiYfT3oZKzHCj3kwqSNmizuo9I5FIkrdF7vM/twEJE4ZRei8o7MJcRaOPyrlPkPrSWVQq3TGvNKOICIIE3B0ZAuPWUmr8UdHPg1NnUOWnHjmelc1NWffPlZy3LSJXClHoIBFKXyBntbg0DlxrWnGAUfBNgqjuvEtj7LSyMvWKtatSdap3MXDGlPYBD2iHZoGl6aTPLA8J1ahZYWjQQiOgYcnZVwMibOW9A1vncTGELREw/ZCGh7peWkabAHDTg2L38pLPITE6CaWtaUg2nTqBbkMZxy9nq1VIDbXHQ22ZTwBJsCK44h1s+Cb3URUDjZ0HA8fDS0lsDagIW1kL23/wtznllQHqPSuEWDsx95w48d8Tn/rzNKfwFHWDYTINBHgsAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":7,"bBoxY":4,"bBoxWidth":46,"bBoxHeight":52,"behaviours":[{"name":"config","type":"behaviour","uuid":"95d41d33-776b-43b7-89cf-ce1231c4a792","props":["hp"],"code":"tag(me, ene1)\nhp = 3","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"},{"name":"visuals & AI","type":"behaviour","uuid":"a81e2d16-ad45-4be2-8da6-30437a7dadef","props":[],"code":"let t = 0;\ngrav = .7\nknockback = .1\n\nlet state = \"idle\"; // \"windup\"\n\nonUpdate(() => {\nt ++;\n\nconst stop1 = 8;\nconst stop2 = 80;\n\nlet phurt = hurt;\nhurt = (...args) => { phurt(...args); () => {\n  t = stop1 * .75\n}}\n\nif(t < stop1) {\n  // windup\n  const f = 0.2;\n  imgScaleX = lerp(imgScaleX, 1.5, f);\n  imgScaleY = lerp(imgScaleY, 0.5, f);\n} else if(t < stop2) {\n  let p = find(player);\n  if(p) {\n    let dx = Math.sign(p.x - x);\n    if(t == stop1) {\n      yspd = -12;\n      xspd = 5 * dx;\n    } else if(t < stop1 + 25) {\n      xspd += dx * .2\n    }\n  }\n\n  const f = 0.5;\n  imgScaleX = lerp(imgScaleX, 1, f);\n  imgScaleY = lerp(imgScaleY, 1, f);\n} else {\n  t = 0\n}\n\nxspd = lerp(xspd, 0, 0.07)\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"health","type":"behaviour","uuid":"724cedf6-97b7-4f1b-9a85-7327b56b06d4","props":["hp"],"code":"hp = 1\ndmgCooldown = 10;\n\nonUpdate(()=> {\n\nif(hp <= 0) {\n  destroy(me)\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"9939d41c-17ab-474d-af6f-74873eb6d13b","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"ene1","type":"sprite","uuid":"6070a257-da9f-4330-954b-661d18d7d9b1","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAwtJREFUaEPtmuuRwjAMhKEEGqER6qURGqEEbsLEnDGSdvUwZI7jL46sTyvLip397st++y/j3f0D/3XFUwpfT8ebFaDD+fL4+3o6UrE8nC8pn9AkIeMIdJm0h21OsNC909UBcAEzoM3ZKuDOnstXTWnaiAe2UuFqtSGwF3SWwlVKq8AIVEpZVDAiaxjZ9K5xEXgG7OJ4BbBW+VnwF+BZsBlgK5v6IDLQLuBIGvcpGVEYzTnaRNBPwJa6aGK01iIKM3NKQbSgKeBx4ttNb7D2e7vwsypHYdctUXUCAntge5U1cATMgDKdm6byA1hK5yjs4pAX2APK1AU3cAa2OcRAR0GRypsCZgqcZ4yncKkpXaGwldoeIGYsC30Hrl6/o4OocjNAy5hld7BsMXtyCrifPLNVMcDNPgoegg4DSxNr0MhJC9gKpLZkrHZzs8AIFO35GvTHgKX16IFEdaIceEwn7xrOwElLYFw2aeBWJZkCg9ItasuaOw28NuHiHKw6VrHqbbDVfjpwFBrtlUtTY20zbECtTNK2J7Vo9cay/e7a3DxMbh7YUhqtaaXl27bCDcqrtPbu2+xIaR1J53HHsPpqKqXZ9EYv91LgooCe9btm6J3VDYxSmPm/6k2MaS27IG8HeAwSozpzuDBkJgaOXHdGFGaeYccYdeMXeN02no4iq2//2DrAgknjrBrSjnzoE482AVuYkOPeio/sjXv9OP4FeFSZvd5gHLHGVIEjIVLAKJrvDgIL+9iWegf78y0m+miyLHzF8/2RLbxMY6BnK56BHs+nIfDapdBzbklx6TCevhBnla6u5nSkhYEpYK/SmqOeDMg2PjSw1IgI+1om+KFnncESs9e8zEWfP1SpztJPB2aUbs561zgLOWyZ9GPw9tCyxCj9DrVZhelPHiqgNRvZDGBh18BznzygfGGVRnZm/u/6iodxZMvQCHbhg99aSkHYIjQDGwbuuinzA3EmY7JjWNA2T0hho4t6awC8sGmFPepULoMI6BSFZwcgA/pxYE9wKseWruFKx2bZ+jrgH6S0ElujQoYuAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":1,"bBoxY":4,"bBoxWidth":57,"bBoxHeight":53,"behaviours":[{"name":"config","type":"behaviour","uuid":"2b3bd486-7444-4971-9ec0-3a5edcc086be","props":["xspd"],"code":"xspd = 4\ndmgCooldown = 10;","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement","type":"behaviour","uuid":"b4b367ab-ce96-409a-8c93-4eb0bf985b40","props":["xspd","yspd"],"code":"onUpdate(slf => {\n\nfor(let i = 0; i < ~~Math.abs(xspd); i++) {\n  const dx = Math.sign(xspd);\n  if(!collisionAt(slf, wall, x + dx, y)) {\n    x += dx;\n  } else {\n    xspd *= -1;\n    break;\n  }\n}\nfor(let i = 0; i < ~~Math.abs(yspd); i++) {\n  const dy = Math.sign(yspd);\n  if(!collisionAt(slf, wall, x, y+dy)) {\n    y += dy;\n  } else {\n    yspd = 0;\n    break;\n  }\n}\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"health","type":"behaviour","uuid":"d8d05dd4-c803-4072-8507-2dcaa01a09b6","props":["hp"],"code":"hp = 1\n\nonUpdate(()=> {\n\nif(hp <= 0) {\n  destroy(me)\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visuals","type":"behaviour","uuid":"39eca8e4-973c-404f-bfe4-6ae3cec1cf5a","props":[],"code":"\n\nlet lagspd = xspd;\n\nonUpdate(() => {\n\nlagspd = lerp(lagspd, xspd, 0.35);\n\nconst f = 1 - Math.abs(lagspd - xspd)*.05\n\nimgScaleX = f;\nimgScaleY = 1/f;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"bossButBlue","type":"sprite","uuid":"3935a5a6-65ad-45c6-9798-d80b6d2089e3","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAABNNJREFUeF7tmkt22zAMRe2lZJIuIN3/DrKBTNKduEeu6UNRIPAeAFJS40zDD3D58CHl6+X1FyJwDc1+Tb6cDeCtc2a7+bHbxqR4e+DaZab7M33DQeDqZaf6NHUzAh6qOGnJqT5N3WwSwGWbaX5N22givB8NMBK6u+TBoykwC+A0Fe4NMBPYLi3NHgBHQpsexrMApkF7//i+fH2+oTVpuH+jNkgDVpNa4C1/AwHWdkNsoEHocV8ulyHglv0LvGJLMkTNbpVRFsBh4AqwAECrIiO2dzmdFmBSKCPwyhmKrDIAMkYQ2WA9tFUgCbBVodfmDa9TAyQhLr56wXXbo1MAlNTnKCZu9TcTV8xOD5BUYTrEqQBrJaFtiKa+I6hwCsBIAQABZuU3RqF3dgxAdwKOAJSaaMlLVNEMIWNsF6AbVG/DswAkr4obgOngbjd5yV+//7B32s1VLlOFzlvOOIA9cK3T1yueQaxcGAnhDIAp6kPBPe9GBMDenTjaxjjhPetHkUAIIAtu1daTED2tkFYMAuutQtgNMALvfowkwKwqGixsz9wTVuAZAQbhrdq/EEAEXq0wafxeCmz7S6IIde/CdBhrADUw9bw9ARaIBLzN5aOm+SMBkjnVfA+kIPYUiKiqzG3Hkl/dTP9bGxHbOovCL9IwxCMDtPKzAyQEEIa3nFIUoOQEeR9dicWCFuk/ew8vu+bALIAMuABEU4GU+oohHhX28p/0dIVUSC9AopE3P2u64GlhLN13kfbFejQo6xawyAEigI2cOA4gAlGqalr4mqW1+nkHU2Wdfav6ZBS6ibSORk8aVV/9ApMFEAhnNQdSIRyplOjLiKVCKYSR1sSpwmdGau1iFbg6hfeP7xuS5C0YUvGw5tT7akWJiRLkANp2hgKY8IrR5cKEbx3CdQ5GACBFxzq8GiLdB/Yc9SqRBddW4badQh8xNqHIvUtu3gPvBwmQhz7uIOtEx7QHhoRxkvpW+bCtLKeG2AvnYOHonbX4XTgFYKsOb5haKtXShtVSJbwCbQEyVdVTUEaA9Obe9nCq1gz9mUgMoNR6WM6MANhWZEu10v+bL3MxgIxBnk+C1hwvZOvwLHBVdfcDfKiKao6PcCup4WggkcP5+nyLA/So0KMAK9wQh7U1FhhLXrf2aQ4gBrBaDN54lAqlPIvAeKho6VlhH9JCuDEQMmAkwAhEJ0DkjJYxYh8oTYYhjgjjGqC1fiTkrbUFMOcBiEqijGNAOsCpVzm3AotSAgaxnLrjXwATUFoQgwctvsb0zIZyYBs+QQMTEP5bIvv57WHYOICBqpkGrV7Ic2c3DOn+OitFgUcDKNkTjA4KIBW+1slrJxt0ShVNq0LnXuYvE0IVWPPASuhlrtMxM/SDAKHvwmnhGwGJAmR+ApeUA81fJhwCoKZELwhBfehjQc3kGAC9BcaKUUm5SvtCfcqt9t4vB0aKiwWv9380HRDruwAu67srsWQc+3KDFqDRhQj5geWUPEic+GrooBsFY45bgWWTVCUylpex1vcUz5rEnDDAI4D0FgCCkzjUXYXRjXdXJ2qoc9wLoBPcMi10E2H2/d9UqIIrYKBBIMWzAgwxCE0WwB4RYraPK7dHLM5CrG1g52rBMcK3zX4jN9FgaPu6IT5eaUb6tAH4F6b+Sm/l+OERAAAAAElFTkSuQmCC"},"originX":40,"originY":40,"bBoxX":1,"bBoxY":2,"bBoxWidth":77,"bBoxHeight":78,"behaviours":[{"name":"config","type":"behaviour","uuid":"5328a0e1-363b-4fe3-8cbe-31e385a9f5d8","props":[],"code":"tag(me, boss)\ntag(me, ene1)\n\nhp = 6\ndmgCooldown = 0.5;\nknockback = .1","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement","type":"behaviour","uuid":"a03286b9-d8cf-4802-a116-8829094b98c9","props":["xspd","yspd"],"code":"//xspd = 10;\n\nlet state = \"jump\"; // idle, jump\nlet actionTimer = 20;\nlet piv = null;\n\nlet speed = 1; // 1,2,3,4,5 ?\n\nonUpdate(() => {\n\nspeed =  8 - ~~(hp/maxHP*4)\n\nlet _player = find(player);\nif(!_player) return;\n\nif(!piv) {\n  //piv = findAll(pivot).reduce((a, b) => a.y > b.y);\n  piv = findClosest(pivot, x, y)\n}\n\nif(state == \"jump\") {\n}\nelse if(state == \"idle\") {\n  \n}\n  xspd += (piv.x - x) * 0.1\n  yspd += (piv.y - y) * 0.1\n  xspd = lerp(xspd, 0, 0.3)\n  yspd = lerp(yspd, 0, 0.3)\n\nif(actionTimer <= 0) {\n  // state transition\n    actionTimer = 20 + 50 / speed;\n  if(state == \"jump\") {\n    state = \"idle\";\n  } else\n  if(state == \"idle\") {\n    let ps = findAll(pivot);\n    let pdist = distance(x, y, _player.x, _player.y);\n    //ps.forEach(p => p.imgAlpha = 0);\n    ps = ps.filter(p => \n      p != piv &&\n      Math.abs(p.x - x) < 190 && \n      Math.abs(p.y - y) < 100\n    );\n    //ps.forEach(p => p.imgAlpha = 1);\n\n    if(ps.length > 0) {\n      state = \"jump\";\n      playSound(sfxBoss1Move, 1, Math.random() * 2)\n      ps = ps.sort((a,b) => \n        distance(a.x, a.y, _player.x, _player.y) -\n        distance(b.x, b.y, _player.x, _player.y)\n      );\n      //piv = ps[~~(Math.random() * ps.length)];\n      piv = ps[0];\n\n      playSound(sfxBoss1Move, 1, Math.random() * 2)\n    } else {\n      // wait\n    }\n  }\n}\n\nactionTimer--\n\nx += xspd;\ny += yspd;\n\n// wrap\n\nconst d = 80;\n\nif(x > roomWidth + d) x -= roomWidth + d*2;\nif(x < -d) x += roomWidth + d*2;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"death","type":"behaviour","uuid":"32c39b73-0808-47e1-bb32-8a6600724989","props":[],"code":"onUpdate(() => {\n\nif(hp <= 0) destroy(me, true)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"},{"linkedBehaviourUUID":"43aaabaf-5370-4595-b6d0-a7974149dbf4","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"boss","type":"sprite","uuid":"2fd96861-9175-4a7e-a070-d8b683147cec","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAACShJREFUeF7tnL/uHDUQx+8EHU14gkjQUVBBDzWJlAcACd4kb0IBDxApoaeHKgUdSDwBaeiQDnkjn3w+2/Odf/6zt78mitZre+Yz35nx3t6dT8ffrj1w3rV1h3GnA/DOg+AAfABezgMXcMcPEdx7MhIFW+O/J19cbdyDUWyw7y7PqyJ/cn69B5/sBnARbgsgmL5PewG9arRewVrAbEFfHfRSgN9dnrPTMapYatyqoKcHPBJqCfpqoGcDfPFOuZRSkesAZDTTuPvffYGGw26csALY1JYn59dILKBj3Dh4TQxF8D/ffL454PzmKeqIqcatANkCMAQzkolQ4/9XheukZgseNyKQTsiCGlbcI1gHyFIe1czGnZANdlW4pfSL9AkGaZvLpFm2OJOp4a6UjqWAg7dngowCfni4ARyi4Ciny7O/Tx//8lbTFKJsTBTMArxyvW2pjwPYCLQaMjLBw8Cl0qsEsBI0wketYBjwCOV++/ufdwb+/MWnotRI1U4NYAVoFWTk5ikBl8DmVLmgewAOexTUZ4RTMaipG5eFG61FIVvXXiqF9IK8FGBEtSXHUpB7KTffGxMyxWpuBbfOnVKwqIpHAaaaugIxNuTWDXB6tnha1XLys98+ozIeeb2m4pFw46apPWTGsSCbAM6757Ah7lMrykgvyNS6Fp0zFX2eqXoZwMFJFpDDPFHNvRurFmgvyG6AOSoONfbNl39Qgb5dt4JMrddDubnBVDaRpGo14FJ6jhuh0nTePFFOj/NaQKbWGgGY2XRBtdgVcEvFrc6Ycr4GNDI3BbemNOo+KEXxPo0iIbsDLkFGjj0ICImSqXlzSMy02WSIBgBzzSZkFeBWes4tjekagRvvpWBIanJrzhAwSAOGKrE2DgFtBVkMmAM3NfS7l/+x/ENB5qqYAhw2R63JMqAymIK8JGAuXA8l1+DFQOkBN9rVgsw8Nm2VsBRLIgX3Um+6YcTxiJpL86T3UetcLvUHfOcz2fPcMJgSsBRusEyqYG7aRECXor0FtwX2rt9ggG5B/v7rD06vfn3FqQh3EcZSsAZuDphSSukohN5T8ggCvTY/B+71GQAImarFTMgw4GIesgAshaStkVLAErgcyAjgMB+oZDlgLdywSeVbhpvfAihJkIwAvHU+hJIpwGEOhorHALYAm6ZdiZolgDXqTffbgowCBlXcH7A13Lw2o2p+AMCsY9JdDZakaC+4pQaM02rWxubBYqXgVqrmKJhQcV/AKNySE6m6VUrXB2Degw6VghG4HHVQwJH0iwTAjAoOT7TC3w//frL9S3TTfWowBZgDF2lWPABL91gLpFqQUil6OsBecKmzpQXkVMHoI0k0ECSAI9xoe1DxcAV7A641LBrAP738cPNhuvcauBIoBDIXcA43pmk3wGEBpJNuAUYcgdTKmrMQyBFmaZ3egEvpuQSWoeAt/m/KWsHQ6sclswCuqRjZXyuAegOW7JfKkCrAiIp7KLgH4LAGkqaRrFTLOFMCpiBrAKeOoBxXcprEYbmiERUjZQTp/iX7dVewF2Bu89IDcEvFKOTWGV4COG8GC/uQ1+A42YuvXpx+/Oivoo1SBc8CuORAKptwz76USKjgIVTsC7gVYejZMhqI1MDUGVJFtNJ0eg0FTT15WwJw2KSnirnBoHUaCplSF3LdIhAbKrZRcDSECxlVQe+0V1oPaGgQnjdjAtzwRKrmN3TCyt6gZ9HQ94JDHe4N2aNhoRxqCTkq1wJwpRT2BVyrxxIVU3XNIu21YGtA53tbAnBwRlRxK93UHMOBPBoupXLJdQvIBd/aKRgFLO2qo9P2CDfY5gAYfqMDqsEp4FZH3QLcOg5RYK27ZokKR9+TKRgGHPbNhkx1hZoaVnKkd80dDQ9ZP/Fp9QsMtQtswJSKESUjRnkpN74SQwUqusce4zSAXVSsheypWoua2ANqukY3wJyGSwLZE2xvKJbraQGzVBwhc1IcVZcPsO1w0DRZ6cxwPfaqj1ZRTwXUSs0ccgYO9qDfWF4WsgTqCqA1z6JbgoFAz5BarcCmzpjBLqKHgZ5kURmRhDzaER5wZwHN+bCfk6Jz6E3IIwF7wx0JGrDNRMHRRtXrtVSakFwHHCCZtnlPr2AGbTMFXAXdy+jKod8cIjWhp70g2HSL5BsdlD2161dFexpcWlzgBKmNxfs87AW+h1SzwQ1wWHCD7GFwi8howJY2x2fiYU7wh1dKrrlCRs/BaMR3BzwDXAvAKdjo7AOw0S/3oNFLjZNkrhJYA8DXE5KlgrvX4FnUm4JPX0akAoK6rlBwnBr8OTZqJ++v3xybJNGMLfN+1Ixww74OwByKjbGzAraEbKBg+MMGCovLTx/WFp0Z7kMBbn1JjYqYHsei9EV05bHkbrsWqXoWBVcfWSLvTUtAWyi4BsDCqVYqttiLRRfd/ODBA7InYCsl70XB5EeHuaGcV3q8ajDlfAvlUGsgmctiH1oFk4Br6UoDWqNg1PFa56LrtEBr93B92oFEU2UMBNiqJsU9aAznOL7XOjX/a9aPc2oUDMONi3Gc6xXZnD1IHRzXCPdz1sttlq6fzKN6ksUGbKVkjeFch0vWCmvE+7jrpZAla2dB0h/wSMhSZ3McncLV2spZt5DxtuzcNUWnm5A6W1OHNWsizk7n16Zn5XHN5PNgUYoeBVkDl0qbVnMb1WCzNzrUgLUpDI1yLwCK0wd0K5I10oaqNOmwFG2p5BroVcEyyhDJjxxAhJqJiq2PUZA8FhjE/W1oawWH+UwBW6TsBbjBW2wAhoUJD2zsyhzyAbr5RiWLGWtwb8hwqBcG7rT+snmxb+hZkzWAV67rFqk52m8N2KUuW4BeBbgl3GCzB+DpIc8K26JrzsXgBTiu49KAWSo6n2tU7faA66ng3G/Lge7ZyXvB7Ql4WUWXsoWVyoFHkeoMq55AkS6XVLVVSu8Bd4SCS/HwUKABsKZcRio4hb0LyIps5tb8zgJ4VzVaCdqUielkSsN20XkrfWDOw3xCpYG7rdGAX1xYuEwKGCMZstc67crAdXIJRfCePcDu4vsui4DQJMNWBN3V510XkxDseA8VLLmvqPFuRx+OTw7AHG/dj0UhD/PzsIV1fp3u7hro4f4dvoHpUO1sQwfgnQHNzfkfQKmIrdJrp5sAAAAASUVORK5CYII="},"originX":60,"originY":60,"bBoxX":4,"bBoxY":4,"bBoxWidth":116,"bBoxHeight":114,"behaviours":[{"name":"config","type":"behaviour","uuid":"158b433c-ac22-4658-b724-2d02e629ac1c","props":[],"code":"dmgCooldown = 10;\nhp = 1.5;\nknockback = .2\nsetDepth(me, 50)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement","type":"behaviour","uuid":"9700b5ac-6b3d-4468-a913-b2785864638b","props":["xspd","yspd","hp","dead"],"code":"xspd = -3\nyspd = 2\n\ntag(me, ene1)\n\nconst w = 60;\nlet t = 0;\n\ndead = false;\n\nif(find(boss)) destroy(me)\n\nonUpdate(() => {\n\nif(dead) {\n   persist(me)\n   destroy(me)\n   return;\n}\n\nif(hp <= 0) {\n  dead = true;\n}\n\nx += xspd;\ny += yspd;\n\nif(x < w) xspd = Math.abs(xspd)\nif(x > roomWidth-w) xspd = -Math.abs(xspd)\nif(y < w) yspd = Math.abs(yspd)\nif(y > roomHeight-w) yspd = -Math.abs(yspd)\n\nt++\n\nif(t % 60 == 0) {\n\n  spawn(fireball, x, y);\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"},{"linkedBehaviourUUID":"43aaabaf-5370-4595-b6d0-a7974149dbf4","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"fireball","type":"sprite","uuid":"ffa41a80-8891-493e-b98a-edf567d47888","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAb5JREFUaEPt2EFygzAMBVB8nmx7jZy218i256HjzLhD0mBLX1+OIOoaXJ6+ZEzK8mF/5cO8S4LPnngmnAmfrALZ0icL9B8nE86EwQqs67qCty6lFLfOoy9sgT4XyANOAzOhWzgbTQF7YT3gJvAMKBsNgxHs9XYZ7mPfXz/da6wtDoERbFNI0PXaHtyCDgtuBdqDo+jp4AqRpuyBVoMt7axt6+0wv0oaSfnQ4FoQLVoFZqSLtHSvtd3ALCwbrE1ZnDALrN2wRnOc4MHRRpRwhHR7hxHNHJvBtUVHx0HL3L6lpXsJb2fyFdwys8/dyTh1URIefhEILpAU6xRgzTgcHizBCppDddp6W0uzsC7vYemmJUlj9AWkWaNdS38t1YX30MguzEzXJeEeGHnHHgLMTJkJ1rTzvRu0M8No7UOBGUmzwNp0oYRH8yydaSsawcJgCXpvVNqubgGjWBPYgtbuG9vrLVgzeDbaiqWAZ6EZWBp4BjocuM0Z6+cg5tw+rGXZQPbuZaJZyf59aHiAGWmzoVPAnsVE11afpdF/FOW+BEdJwus5MmGvykZZNxOOkoTXc2TCXpWNsm4mHCUJr+f4BTEe6z3x4cutAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":9,"bBoxY":11,"bBoxWidth":40,"bBoxHeight":37,"behaviours":[{"name":"basic","type":"behaviour","uuid":"ed166224-a6d0-44c6-af46-6413681f5a33","props":["angle"],"code":"setDepth(me, 55)\n\nlet t = 0;\nangle = Math.PI * 1.5;\nlet spd = 0;\n\n  let p = find(player);\n  if(p) {\n    angle = Math.atan2(\n      p.y - y, p.x - x\n    );   \n  }\n\ntag(me, ene1);\n\nonUpdate(() => {\n\nif(t++ == 30) {\n  spd = 1;\n}\n\nspd *= 1.1\n\nx += Math.cos(angle) * spd;\ny += Math.sin(angle) * spd;\n\nif(t > 120) destroy(me)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"collision","type":"behaviour","uuid":"b4b87cf9-eff6-4a8a-901e-c13567b2b8c8","props":[],"code":"\n\nonUpdate(() => {\n\n//if(collisionAt(me, wall, x, y))\n//  destroy(me)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visuals","type":"behaviour","uuid":"5bf82464-d51a-4bc7-bd6e-1a20dc9a1edb","props":[],"code":"let ctx = getCanvas2DContext();\nlet sx = x;\nlet sy = y;\nconst dx = Math.cos(angle) * roomWidth*1.7;\nconst dy = Math.sin(angle) * roomWidth*1.7;\nsx += dx;\nsy += dy\n\nimgScaleX = 0\nimgScaleY = 0\nlet drive = 0;\n\nonUpdate(() => {\n\ndrive += (1 - imgScaleX) * 0.1;\ndrive = lerp(drive, 0, 0.1)\nimgScaleX += drive;\nimgScaleX = lerp(imgScaleX, 1, 0.01)\nimgScaleY = imgScaleX;\n\nctx.strokeStyle = \"#fff\";\nctx.lineWidth = 5;\nctx.setLineDash([10,30])\n\nctx.beginPath();\nctx.moveTo(sx, sy); \nctx.lineTo(x, y);\nctx.stroke();\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"bossDoor","type":"sprite","uuid":"d6ac7dd5-de39-449a-93e1-aafb765f259b","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAmFJREFUaEPt281RwzAQBWDnzIkWKIAacufiFqiMFnLhTg0UkBY4cYaRZ8QIRZZ29721LTscGcfaT7ta/0Q5jefxZzjQ3+kO3nm27xneeYIHUYYvH5e/eRjPY9dzUgWn0FzZK7wIrkFz+NfL8/Sv1++nLjL/D6yBzsG91JIJzeMvVSENHKAx217oeN4c30pUCr8p6daHa5ilwDGGx/dP1dwGOBUcR/eGa6HprBSb1tvDdUBO6lneSFzFDIdgA9haNulsemR602CPTCPgkIDZkk4zhQ6i6iyVgxlxiMAhBmQwNNPMscVgFG1Zz0xoLBwVGEVrM42A5yZYDV6qe3tgQ+ybBHthVwPXStsTC4E9Stsbuzo4zfQSWAqYlelDgZE7Me313dylS0EiWbKgtVhqSTNKW4O2YF3AjLuxFtyKdQN7ZRuBmu+lW7PPeqzMx2Fgw8s/atPyamQsrHtJs7LdHRi9XHUFRrGxShB0+uLedQ2zsNoXB3kvcQczoWnw1iy7gr2wVnj+PRS1pJfAatZ06RvHbsGSde0KXjK70vJ2AyPY2IgY56h1Z9q9NDNQ5rkCkJphJLja+mOdd26LhKlpIUFJr6XoGBQwEoSkq+ZrEBlvbluVKMPIwJrrJvvxsrmLJw6Y7gBAX9lIS7j2YgGd8OounjBwBKMDMbCsZ+qIhnfilTLDhjLR1I1pMTDLPsx8GXmV+ARGNqOlgVmgmpeC6bHWmCngJaH5BGng0z6tYRjMP/JYE6qB33RpzSyFgbYErcGb1+EWfMtQaS8QXZb2AK0+Hkpnq8fjRD/y6BE2F/PhwL8WOLZwxPACqQAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"custom","type":"behaviour","uuid":"92225fe0-6cfe-4979-b0c7-352b9b3cd8f2","props":[],"code":"tag(me, wall)\n\nonUpdate(() => {\n\nif(!find(boss) || find(boss).dead) destroy(me)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"checkpoint","type":"sprite","uuid":"6b88148d-f844-4ae1-80d0-254d423fb21d","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAYAAABwmH1PAAAAAXNSR0IArs4c6QAAAiFJREFUWEflmUtOw0AMhskRuAIH4AzdI0Q2HKBiyXlYVhygmyDEvmfgIqxYg1zqyHH9+CeZoAS6apMZj7+x/c+jzYXxaTftl/V8Lc+6Q9d4vp69sGC7Qzfo327aVbBb4CGwBtWUSwdPgXV0pwJn/X9jAjX0IMISWDv7cXPd+3f59t5/t6JcCkrGLPtRBtEYss/288otMwkNAUvDbJWhpVMS1OpTUvjepPIYln0EugeO0jkC3u2fjxwP99ueZyosGZLAPIYcpxSY+lKkXeBTgyNEBlwbVgPTb4LOxqFJSsrgB9haim4f7/oBUOAakfVgkSzKgMlG420yUGDO47lh/wywrFUtarJ2VwkcwWWwKDBN0uvTi7sgzJ7SJZDspY4sP0dE66RJ6wH2YNEIFwOTWOkZjVQ6Ey2OcATCMFmbbB1mhY/SepDSFmy2DtcClpOMRDlaFaId16zA3m7JKjBZn/J9qVJT30UAW4LkQaLAXvZNBtaGLeVFNx6RansnMmsvLSdF94u2l1BKuxovXqDAiC1uYwkekhWrB5bl8O+A9XqsUzs7QEApbdWWPq55AlKSwrptdia26rgImA1kNxfaaNZ+DLQWN/SiwbqJkeObe+kMYG7g6M4M8S3aXlYH9qKZqbiOqKe0swCT055hr0bG3FRak4PcdUcXeaNqWANrx7Lr07EgaK1HwYjSmd6552FLwJDZR52u0W7MX0ApcA3HlmTjG/ph21iOBeEEAAAAAElFTkSuQmCC"},"originX":30,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":30,"behaviours":[{"name":"custom","type":"behaviour","uuid":"373a6db3-3b8e-4c9a-b8dc-0caa5f6347c2","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"checkpointFX","type":"sprite","uuid":"53218398-71cc-4065-84cb-5d4d38ec3a8e","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA7NJREFUaEPlmjuS1EAMhscxCVyBA8AVIIZg9wicjCPsBhDDFeAAXAES4qHkKm1pVHr8UrfHnmUi79pu6+tfr257OTV+d+/uztZtj98fl8ZwV72lbKAHy1YfHXoY+OHbw+n+/f2FSh3o8/m8es2yLGWbKi5SHlwqTLD8k9BVYIY9HLB25xnAEpaAeeKqk4aqDCtsxe4osIaVwHS8BfRuwBYsCiwnvzopZeDPL349ec/LLz+ejv98fHv69Pf1+ndmhAer84E1juVp2fOku0PA/BAJS4N4wBF0BpvF8WgPcFVgBFaqjCpc6QGmASPxdxPA0oUil54N7NXkqNNDYjlUOILVMXxk4N8f3qxd3KuvP+M2zktWFuxRgRkWBtZu7MEiwHRNJY6tvtpzaW6C5D0SFgLWN0Swsg5HWbMCzONIiKi9lXFv2b6el0VZHldg6T4Cph83H6O1+KJZECsob/Eir2dbLDYYWDYZ1kBbAWu3vklgNJajGJYLFy3A4RRGgL2NAFI4gpXhBbt0NX6rMZwBR7seSNIrKexlt5kxHAGPwpYU7sJ6Clczdbafhai7O3AELZXOYDkeEWjYpbdQOAP2+gDv/5sDZ7HLhll1mM8hqxgUfBpwJzNb3Y3stKrAum20JurZADMs11hvu3ZXYHJjdvkRl9aw7BkErVWeAtxNVjOBre6pCxyVpnXxsDdwpJouV4jCOpFerLz2Bs4AtMrZ9REsnVs8delkVpLYpWWhr2RpxPgOcNh4jALr+okCI7A0dhU4gp2icAcYha0CZ7AhMOLOVnekFfa6LBQaVRiBbQNHg28NbG0AoLAt4GxwFFiulKI+Wiusm5TMHjn2uhFfqcHZ4GjCqiz1PGAaw9ozjyavBJzB0oNuAljPCCuu3/0iy7eKOyObcVaWzt53pQpnwIiyPAayCc/XdoHp/uidVxsYUTSqwdmi/zDAUW+dTcIWCkf7062kZUFE7WYEfWRgytBrHfYAImgC82aXzmXuzHGYvUFg27xXLmxDZA+NwbAtYFbxCMBSLM8eCVsG1mXHeshshaP96qxEadgQmGdPfh+hdxW3Bra2eKSqEbAFCwHrGM9mdZbCyEemni2RDdB3Wh70VgqjnzFaDUj2+ePhgPV2b5TxO58hDgHrFUs2u1b8ydKk98ay8tb50LQFLPtZq45nhsr7GVj37EguuEngkXr+bIDR0LgqcOTWFZf2Mj2NXxkHvb4dw3Jdq+O4YugocLaC0+d3A2YP+a+ALWg0fqvK8vX/ADaTQFNrQjA1AAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"coolFXAnim","type":"behaviour","uuid":"d52ba50d-f4b2-4c63-a8f9-56114fa5ada1","props":[],"code":"y -= 30;\nimgScaleX = 0.1;\nimgScaleY = 15;\nconst f = 0.5;\n\nonUpdate(() => {\n\nimgScaleX = lerp(imgScaleX, 2, f);\nimgScaleY = lerp(imgScaleY, 0, f);\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"moveUp","type":"behaviour","uuid":"fdf7bd7c-1d4f-4e52-9671-7617c14b9c0e","props":[],"code":"onUpdate(() => {\n\ny -= 8;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"maxHealthPickup","type":"sprite","uuid":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAfVJREFUaEPtmuFxwyAMhc0G7SLtIO247SDtIu0GztELOR8F9CQElgH/jQL69J4RkLhtssdNxrst4NEVXwovhQerwLL0YIL+w1kKlxTe93236ADnHCwcFGgVNC4+Aj4UsC8ABU0Ca6t7dF+LN0QM3BI0tqI2eAk6q/BUwD1hg9qaKrMVXsCVzRdpk+YV/n1/hcvw/PlNxiLAfs6njy9yrCaW7g0c5jMNHJKrtfSxuCaB46RqgGMnmQNOJSQFTr02poBzySDA5Eq0bdvP24udRYvzviJwxDGVHCK3Uie3lsjGI9gNaTlkdswApIWpA2vZlMn6CJdCixWeCvhsWC9zV4XPBkZgc7cfIktfBTgFLQK+DyRdb8TfQ5U9ThCv1uaAJVClCkLA90WBvIP2vTjXh/2u6Pgg/VobFrY0Bxj1pzaw9GxcdYnX+0wciltzNq4C9gmg0ByF0TElJydzwCisL7YqsPZ7jCjs54wXu9IaMTQwApcqDtyWzlRYCmcK2CeD2Fq7F6srjPZhdDs6FDAF3Rr2b/6SQshVD0fhKYFDgc76Yby7wlxHcOPF/wAIE7WwNRcCiadAH86iBrMGjILluMg/taAbEKpwks9r4ZIbEU4irdRuAValMKco1mMhS1uH4OS3gDnVumLsUviKqnFyXgpzqnXF2BvZMl9M9R7zJQAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":5,"bBoxY":10,"bBoxWidth":51,"bBoxHeight":42,"behaviours":[{"name":"custom","type":"behaviour","uuid":"8f120c49-5cb9-4e61-9363-e546f174a77f","props":[],"code":"let t = 0;\n\npersist(me);\n\nonUpdate(() => {\n\nt += 0.1;\n\ny += Math.cos(t) * .5;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_1_4","type":"room","uuid":"c7775d03-b9a2-4e2e-a511-c356900aa94e","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":165,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":165,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":165,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_1_5","type":"room","uuid":"0718ea18-c2cf-4de7-b8a6-1c3713bab3b0","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":405,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":495,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"3cfc8a91-b124-4099-b51f-575fbc401ffa","x":450,"y":390,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":150,"y":270,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":390,"y":150,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":390,"y":90,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_0_5","type":"room","uuid":"6313517e-f604-412e-8069-a08e3724548c","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_1_6","type":"room","uuid":"ff41e710-f2df-472e-869d-1da22064bc01","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":135,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":165,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":255,"_type":"Instance"},{"spriteID":"3b2306a0-f081-425f-98a8-bf38aafa5e89","x":120,"y":270,"_type":"Instance"},{"spriteID":"9e018373-06eb-4dbb-b3c9-437f0c951ba5","x":150,"y":270,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":345,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":345,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":345,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":195,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":210,"y":90,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":210,"y":135,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_2_6","type":"room","uuid":"cfe488bf-df71-47d2-8d0c-94fcc90637dd","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":450,"y":390,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":90,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_3_6","type":"room","uuid":"0a80f482-300b-4d29-aa7e-246f346acb5a","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":210,"y":90,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_3_5","type":"room","uuid":"ae282988-d4ce-464d-bd18-ab51808695da","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"d6ac7dd5-de39-449a-93e1-aafb765f259b","x":30,"y":450,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":495,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":495,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":195,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"3b2306a0-f081-425f-98a8-bf38aafa5e89","x":60,"y":90,"_type":"Instance"},{"spriteID":"3b2306a0-f081-425f-98a8-bf38aafa5e89","x":480,"y":90,"_type":"Instance"},{"spriteID":"3b2306a0-f081-425f-98a8-bf38aafa5e89","x":480,"y":90,"_type":"Instance"},{"spriteID":"906c805e-2807-412e-98be-634e9cdf1723","x":30,"y":90,"_type":"Instance"},{"spriteID":"906c805e-2807-412e-98be-634e9cdf1723","x":510,"y":90,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":270,"y":375,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":270,"y":255,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":270,"y":120,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":390,"y":450,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":465,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":90,"y":195,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":450,"y":315,"_type":"Instance"},{"spriteID":"3935a5a6-65ad-45c6-9798-d80b6d2089e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":30,"height":15},"_type":"Room"},{"name":"throughJmp","type":"sprite","uuid":"b8cda910-4425-4831-b34f-0bfb06832a3d","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAYAAABwmH1PAAAAAXNSR0IArs4c6QAAAJlJREFUWEft1cENgCAMBVC7mQsY2MOZjAN4YQQ302BiogYTevz9n3MPfF5bLI/5GIiOUQae5kRjbMu2crW0Agdv7mtpUc0wy5a+UTm/peBj+4on4ejaEq7CZS+GLv33+zSFFRiQm064GrVCh23p7sAR5vc5gV9l+G3sXS8K7H0xtHoJo4l57yth74uh1UsYTcx7Xwl7Xwyt/gREd0HWdC6vlAAAAABJRU5ErkJggg=="},"originX":30,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":19,"behaviours":[{"name":"custom","type":"behaviour","uuid":"5912b3db-f345-4874-9115-988fdf05d91e","props":[],"code":"setDepth(me, -1) // to be executed before player\n\n\nonUpdate(() => {\n\nlet p = find(player);\n\nif(p) {\n  if(~~p.y+25 <= y-15) \n    tag(me, wall);\n  else\n    untag(me, wall);\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_2_5","type":"room","uuid":"f9886cbf-70cf-435d-bc16-81d400ffa9cf","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":285,"_type":"Instance"},{"spriteID":"5628e2ad-0e61-448d-92d4-565ce9d4c639","x":270,"y":225,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"spikes","type":"sprite","uuid":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAYAAABwmH1PAAAAAXNSR0IArs4c6QAAAkFJREFUWEfdl0lOxEAMRVM34wKIXsCeYcl5WDLsYdGIC3CzIEdy5DjfVbarkLo7y3Q8vP9dTrpMzuv1831+unsozsfhYyNyUOKePG6AniJMPyJHN7C3CXqOivW4PCIHA2d7KR5gbjRbRDo8Kkc2Txg4W6jXGS1ato+zApaTxgJEjhjFL8AttXoLjXKH+ni8vZ/evj7Wt8BFA8/zvJhDF0MPB0butibCelf3LD92dxiwBSGbpHHKqiuXVvb8cf1sD5sz3AKWxbhgZJwkMJ/DSLzlcGTadsAoWBfKqsvAUrhSiutLj6cMOfzvwHJDRoohYMrlcXkoMG2+2pqvjVIGmGKiLo8A5hyFV7215i8W2DqbLWCvy2jbU2zrHCN3Za/ejb9z+JyA9R7xiG6OtA4+RYejwHK6dmdYA8vPOTRKHnX1R4d+vdQ2dWtheUZ6B2wppouh504dWDOs/5ZYKamY9R2tn/VA61zyX4/lcC0G9avvoekwgRFU7Z5nLK14FBsR2xLcBfzz8j1dP9+4eeXzXqci7qBGqCZduk9dX78K6UhuHOZEKJlVWBbl+OPvcfON3HKr1qiua8GitwvqGQJ7HLYK0/0osBbKEgjVtCbMyrEC15RDKtdEkQAtd+VUsVAoxoLl3qgfOSmHq8OMelyAa8l0kOeMS4ja8fAeoRYsQ7NgElbHFvpRN6Ublg5Hxl2qb51FWdsrfK0/lE/2sQCjxWOt6QxwTVDOh9z2OosMQaJQLXNLe4AjDXnAUM2MGdYEUK4/k2fY9dATytoAAAAASUVORK5CYII="},"originX":30,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":30,"behaviours":[],"_type":"Sprite"},{"name":"wall_alt1","type":"sprite","uuid":"0cafdb1d-f4ac-4404-8972-e629b28b8853","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAp1JREFUaEPtmuFNAzEMhdvNWADRPZiHPYpYgM1AqRQUQuz3nNi+61H+Xs7O52fHTo/z5enydfpHf+cHcKP28+tLqvYfb+/QH7Mnzc5QYcYo3JlhAQNazFn3NbL7B9hq1MA1XJoJWzbwC3hPsGUvJRgre4IKrxi3Ki0p67kHFdjTkQafAVr8S35uKX002BpwUeEM4JFzL7/Vdm9vM+DesRdon7q7AG5hPUERrFTHoTW8JWwqcFYKo+krvIYzDqa25aESCQOOBJVSE8GGpfReYUOAI2G1iUzqu/2E55rSUbCetyc34AhYDbTenKqCTP26pbQ3LFLUE/bnPjwbMfa90e2JAWWmKattetLymppY0FFKogAj22aFrZd87Zo2stUCWaY1qczcDi0LOBP1fkT0gHU7tFjYGVBrGqMDNEXhWdBR+ms1i2BVhdGtg1F1FdRyIjOwocAMrEUty1pNLDGlZxVeBfWuWXqW9hjZemeoZ67AMrZhSjMqI0VXNsK+y5wnWv+nPrUgUCZYUsTZdy2gmi8IjGAZZbS7rRWEWa/tWf16iK5syPnq+8j+6DkSSAReUQU5ZbIiArbYHALPwm4FqtVsHzjqfzyQIgg06mDSTuP+h4O6VgX2AI2G1fq5Omm10ltHO6neUMBm6hRNU9qdWqxhaSNM6mYoKtUs/fUQqbsnUBZWWjfdh1GQPNIVpW99LpUOVcP1ZUbVjBpFLcd63pj6MIqot6rWSY0RierD2emLNi71WCbgJuDIFEaQDEwvDFXDmT3VG7ItOck2pbCnslGQ/fkyDewFGw3aDzw0sBcgaifWmkTrmSnLPFoip+3zDEW1Npmq8F5hQxTOhJXmA9NvWpa0vce1VFu6RzBpzw/gI6k5YnkofGSFr5/X0zfgy0C/juUh+QAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"custom","type":"behaviour","uuid":"865ae33f-db58-4ab4-90e1-16140d594b31","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"wall_alt2","type":"sprite","uuid":"747a440f-4205-40e8-bb96-fd2255282f3a","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAIVJREFUaEPt1AEVABAUBEGaiaB/GQJosEYDt/P+3Guf8dGbPhyvrXA88FBY4dgCSMeCPt9RWOHYAkjHgjpaSCMdWwDpWFBXGmmkYwsgHQvqSiONdGwBpGNBXWmkkY4tgHQsqCuNNNKxBZCOBXWlkUY6tgDSsaCuNNJIxxZAOhbUlUa6TvoC0N9wgRUAz8MAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"custom","type":"behaviour","uuid":"78ee030c-8b9e-476d-a4a3-7f5b2f1b77cf","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"wallBG","type":"sprite","uuid":"bfd8bbec-d6b8-4ef5-819c-202449806628","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAAXNSR0IArs4c6QAAAr1JREFUeF7t3GtSwzAMRtF0ZyyhS+0S2BmMBzL0YVuSJaskvvytH+nxh2KnlMvGT4rAJWUWJtmATgoB0EAnCSRNQ6KBThJImoZEA50kkDQNiT4Z9FfQ+zlsMGZceBRq0NqYh5lhEnYyPDqutBpufPcA27adHbm2CGY3c4e7Wd3A14+rlKSw12+ft7Cxfgcy2Vkaq2EzAUf1WvDl2gcWRXQUG/RKwxFARxfivp8SvmspQTdTvApybaE68E3PIeiVkXd4KzbQjtpiwTZDk+bHlWlgv7gC7Uh06Qq0E1DbHWitlKMdNdqBZ+kKtEXL0VZbNsoU5pth6cTOo3kT3JfNv+sA+sdSOJYD7agUD11ToEm1mOiXsjxUo4EGOqoyiOMoHp0+hJhEi6T1BpHQ3U9UVt/iAT2YUGs3oK1ig+1ToFcvG4oDi2l7x+eFnbRPTzRpVh3B/YkGOgmaU+FfPbE87+gdWKjRwo5kOjSpVpUP9RGckyGJHjxlTOim/dyQh0pO/Cjo/TJeygjbPLFOq2v0/VoD3Uj+9ESz80hKNNCJ0KtjRx1YujV6f3Hlm6K2Pr88YersdDiOV3CAdu6Ntd2B1ko52wHtBNR2B1or5Whn2XFwMwTaIZDUlUQDnSSQNA2JBjpJIGma1ETznKO5qubvsOwjVZ91AA309AJC6ZhOLD7wrx4EpU/BKR22x6N7a2q0N/CKP9cl0V7k0h/oCEXFGOnQK27tlMixpWM1aANyLHQZ7b9gGxEUBcLdJHbXsV9OBvg/xGytRnXL7NpH12aKQj8Q7DODC7oMpv4nsO5fvGMP4IYGWxeAEGiwZeww6O7zD/k6TtGidW8r5TUc+llslRoufWVwOnRUWdHuhLJ/NZpp1VzIu95UK/3vuh6NlavNad+YS2VCZ6AnoNaGBBroJIGkaUg00EkCSdOQ6CTob5ltCWqeORO+AAAAAElFTkSuQmCC"},"originX":45,"originY":45,"bBoxX":6,"bBoxY":10,"bBoxWidth":80,"bBoxHeight":73,"behaviours":[],"_type":"Sprite"},{"name":"room_-3_4","type":"room","uuid":"510590f0-4afb-4187-8dc9-8b6acc77a8bd","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"hpUnit","type":"sprite","uuid":"eae36b97-93d5-47e3-ac63-fd0960d5d79a","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAAXNSR0IArs4c6QAAAPFJREFUSEvllssRwjAMRHEJVEAHNALlQiN0QAWUEMaekdBnFdmDOJFb4vhlJa2ltEPx1RZ4G3jX7d8DIkD0feYgIAS9LmcFO94fFj5YFuhgFmQpApwDCdZuJ8XZrk++N0qbVKjURTAiBVAMzGAdGqmECkuBsgg2dyjc/kzm0SnM1MlQLczaZhSlCsgVXgECc7Oxp4BZuDJkBxyLwtAWhvJHQGjomS4UhQzV/QEwa1M7bUst9ZOiDD2Tu6jCqspFCkf7qlT4AcpznIWN/EfjhBX+BEjKUD4DVTIYHlIr83dqLpcDubNnxQjW1Wz/9lfE7X8DNJCAETQDdocAAAAASUVORK5CYII="},"originX":10,"originY":15,"bBoxX":0,"bBoxY":1,"bBoxWidth":20,"bBoxHeight":29,"behaviours":[{"name":"custom","type":"behaviour","uuid":"db66c616-dac6-4295-881c-45bc68b4f9c5","props":["enabled"],"code":"persist(me, 2)\nenabled = false\nsetDepth(me, 100)\n\nsetDepth(spawn(hpUnitBG, x, y), 95)\n\nimgScaleX = imgScaleY = 0\n\nonUpdate(() => {\n  let ts = +enabled;\n  imgScaleX = \n  imgScaleY = lerp(imgScaleX, ts, 0.25)\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"hpUnitBG","type":"sprite","uuid":"a25b4947-9cb3-4ce7-826f-c87e4f3815ef","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAAXNSR0IArs4c6QAAAOpJREFUSEu11lESgzAIBNDmZj2CR/UIvVmdOEMGye4GrPW35oUAJbbXw08reF/w7rRegQhg+w8HgRXIb3BaEYTY9t7Gwv2zyygl6KGoELh5cIrOQFuciJSDCuvRsqPTCDuIIlNYLMqyICtsCcaixGP6U1jRUkVBkcUcR5BWWGHoN4vwAqr2WKVBgihnvsFR63QQRncHsypP4F0sBbKcoZaBoM+RwliTTzk0cIWVwAyWAtH8Kw6Ic3yNKquBWhmw9F/CZj2b1rRt1NWauVMemYN24dG2KXwAXObqX0AL5qcLHk3seMrMBtOXxwHNbY8RUwkBEwAAAABJRU5ErkJggg=="},"originX":10,"originY":15,"bBoxX":0,"bBoxY":1,"bBoxWidth":20,"bBoxHeight":29,"behaviours":[{"name":"custom","type":"behaviour","uuid":"0b77d8a2-9356-4d16-986c-6b544b8610ba","props":[],"code":"persist(me, 2)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_-4_4","type":"room","uuid":"b8ca0022-b9f5-4497-a322-bfad30be2c50","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":270,"y":150,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":210,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-5_4","type":"room","uuid":"75dcb887-ad11-4bf9-a2b3-7f2d842c4377","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-4_5","type":"room","uuid":"3c8d7f8c-12e7-4e17-92d0-538aef113c00","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"c152e60b-fb48-4da7-affa-8bf711b202d5","x":390,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":345,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_-5_5","type":"room","uuid":"70fb61f5-fd63-4dde-a182-0375e044d963","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-5_6","type":"room","uuid":"7073000a-dd2a-462a-8190-cc744fefdb4c","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":345,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":270,"y":315,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-4_6","type":"room","uuid":"38183ddd-6dbb-4380-aaf6-1f7e1eb8a0dc","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":270,"y":390,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-3_6","type":"room","uuid":"e7786de1-e04a-4111-8014-9f9ca828de7f","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","x":450,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":195,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_-2_6","type":"room","uuid":"ee8e7784-8125-4054-8654-fcd20c1288f0","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":465,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_-1_6","type":"room","uuid":"bf75fd04-7426-4fac-b798-c2666e0592d9","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"bf7867a3-2e22-4f09-8f0c-5d1f8abbe053","x":90,"y":435,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":90,"y":255,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":255,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":210,"y":255,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":330,"y":255,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":255,"_type":"Instance"},{"spriteID":"2fd96861-9175-4a7e-a070-d8b683147cec","x":270,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":45,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":495,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":525,"_type":"Instance"},{"spriteID":"5628e2ad-0e61-448d-92d4-565ce9d4c639","x":90,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":375,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":150,"y":195,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":390,"y":195,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":150,"y":255,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":90,"y":375,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":450,"y":375,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":270,"y":435,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":210,"y":435,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":330,"y":435,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_0_6","type":"room","uuid":"d3426de1-90fa-45a7-8ddd-7c99b3db8807","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":225,"_type":"Instance"},{"spriteID":"8bd17221-0b3d-4f6f-ab3e-8e1bbaf5ecfd","x":150,"y":180,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":30,"height":15},"_type":"Room"},{"name":"room_2_4","type":"room","uuid":"1ebfd546-d7e4-440b-adb4-94ddc602ed9e","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":225,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":285,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_3_4","type":"room","uuid":"11985892-d5c4-48f4-97e6-9cf0a5a6196d","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":90,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":465,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":465,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":330,"y":450,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":210,"y":450,"_type":"Instance"},{"spriteID":"9e018373-06eb-4dbb-b3c9-437f0c951ba5","x":270,"y":390,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":345,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":345,"_type":"Instance"},{"spriteID":"d10a3e26-20b6-45e2-b7f1-dace1fbc1302","x":270,"y":450,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":345,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":210,"y":390,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":330,"y":390,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":270,"y":330,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":315,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":285,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":315,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":135,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":225,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":105,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":405,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_4_4","type":"room","uuid":"48e4e67a-5125-46e2-84c4-c0747b4a11d6","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":390,"y":210,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"button","type":"sprite","uuid":"3b2306a0-f081-425f-98a8-bf38aafa5e89","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAWxJREFUaEPtmUESwiAQBDff8e4vfK6/8O53tKImUhFSSHqhEsZzHKZ3dgniYJ19hs54TcBHT1wJK+GDVUAtfbBAf3CUsBI+WAVatvQjo5a4P1xwBSIHMPV1zCcmtHC6BS4GjfnEhD4uadAQHvGKiASuosCX2yljXM2u5/vac4hXRCSVbi7okjIBjnhFRARsZqXpTmlHUkbCQURiCQs4a9v6PrSrhLemO2IL2JgLR5cZVsJ/zq9a+l0wpBsRkeVryaGlMZ+YkJnN52gBb59hLBhMSAkXpBp+ZXHwwILBhMKNq5cZHplfG5eAC9pbLV1QNNfbQPLw4fVLCTuuxS7xtszxLoGnIvwD7nl5N/lxeS1B4+bikQaeX00QNO4PFwyPmAA07g8XjG1gheAu3lxEMwFT/0O5enIVzwSv+piAq5a7wWJKuEHRqy6phKuWu8FiSrhB0asuqYSrlrvBYkq4QdGrLqmEq5a7wWLdJfwECyxlPVckWP8AAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":18,"bBoxY":12,"bBoxWidth":24,"bBoxHeight":32,"behaviours":[{"name":"custom","type":"behaviour","uuid":"2b899800-c997-4653-ba4a-f3c3ae5db167","props":["pushed"],"code":"setDepth(me, -10);\npersist(me);\n\nlet ox = x;\n\nonUpdate(() => {\n\npushed = false;\nlet tx = ox;\nfor(let p of instancesAt(me, player, ox, y)) {\n  tx += 15 * Math.sign(x - p.x);\n  pushed = true;\n}\n\nx = lerp(x, tx, 0.25)\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"autodoor","type":"sprite","uuid":"9e018373-06eb-4dbb-b3c9-437f0c951ba5","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAo1JREFUaEPlm2FuwyAMhZcb7GI77S62G3RKJCpEjf09B6qQ9mcWXt+HjTGo277sz6PzfLXHW2u4fXAX0C5nDXxX2AJ/sBbgu8M+oT8S+FOie0R5j7AM/Pf4cav19/aLqnmtQ8cgYeclGXgGrOVPnYDiKxonAZ+FjcbX4JHx8q6l6Y3FwJHZyGA0fhRs0en5QcDErAdMxkdG27QnmoanLQROCj/9kfEzYHdNKwguMDF7xch6E9gFXh1WivAdYIcCXzmNo3pgprQX4RGw0RaWqch0W5OAV4ft9tJq90LWfG9Neb0x1Y3SuP6OMMIk/YgxolMbI5rtZJHvCBuP6HRCjREzXn8c+aD6p4BXg02fh5VI0JnfNekE0opsZUU6wsTc1WDTER4NOzq63k2KHOGVYK2tUAImsOp+SzXJuiX9AwamxpR1m0nlnn7PX/s+Al4VNpXSM2CpZjaNvXGnbzyutmajdvPUjcdqsNJpyepalAL1zjT2AvESYcUYAVb0RqzZ6KiYBl4R1kxpEpFZsJHuCG9yhCNTmWaCFL8RsHLRWh1WAp4BO1KTaGFgIkZSjlTh+h1Fk3hEwESIGiNaym1KtAXhG48CQAyuBJu+8VCjQCZO1exV9uhMjI6HVmpcMbLkTJwCXgm2zQQZeAas0qxYy8PzlLrxUNeXsmZnwlpVHEd4dGSpnrf1EI1UhIkw6YfVTBkNi7alO8GGwFeEJWveqyGnL/FogaKTR9pFpSq3PUQamIKSiBBIcqggnsIqHbVqVhdGzLXjiFlv8uh4GZgK08iO0FM03v4vAHXGKEbbTFPGVtl0/Lh0/8i/io9SefTfsxPV+HgCLwF9chKP4JYIF63LRzoJ/eRsge8G/sL3D9zN7xty9zipAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"custom","type":"behaviour","uuid":"6976991f-cbfe-4c05-bcbe-af8b381f9773","props":[],"code":"persist(me);\ntag(me, wall)\n\nlet _button = null;\nlet open = false;\nlet oy = y;\nlet bdy;\n\nonUpdate(() => {\n\nif(!_button) {\n  for(let b of instancesAt(me, button, x, y)) {\n    _button = b;\n    bdy = b.y - y;\n    break;\n  }\n} else {\n  if(_button.pushed) {\n    if(!open) playSound(sfxCrrch)\n    open = true;\n  }\n\n  if(open) {\n    y = approach(y, oy+60, 1);\n    _button.y = y + bdy;\n  }\n}\n\n\n\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"wallTrans","type":"sprite","uuid":"e409f16f-d7f5-421d-a976-3136469f7d89","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAdZJREFUaEPt291twjAUBWCyWRdAZY/O00fUAfpC1QW6WStXsoSQ7fjc3xMSnsHk87m+cRJYrp8fv6cdvZYD/ORpHwk/ecCnbsLf719q+/ntVT2G9QBNsAV2dKCZE5ECbk1G1CTQgGcmoVaeZnKmwbef22K9npDxLi+X/w2SBls+vwmwFXYTYEssPbhiLUq5Lh/akvbA0iasKePSyUeNjS5hLbaWbg9NBbbCjtY8DdgSSw/WYAuutfenLWkPLHXCmltMa1d1rZTT17AEvAYddeo0sATaW6+9ixBVwmVQqysmKXZz4CioSUlbJOwNLhW4tgeHbuJpSlqKnW1Q9dgowFHYUoXp4EhsKtgb2uspKQlnYdMSloBnm9Pa2SI8YW8sFTgCSwNmwIatYRZsCJgJ6w5mw9KBkVNPveJB9+9upyU03QisS8IoFL1olyZbP2easOShVlSyanArGcnDaBSMrtnH+1nihLVgFLq2g+rdqHMDo+miYG2y5iWNgBGsFfSxQ/f6zfCnh5JfzWRhU8CZWDOwRylblvF907rv0KKSnu2M6OZiV2AvrElJzyaMrN3ZMS3eN/0wDf2yXYFZsS5NixnrAkZLn+H9x588GFLwPIYjYc/ZZRj7D/JWmEPa2PCzAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"custom","type":"behaviour","uuid":"afb79330-10e9-4a83-af63-55ad42bab25d","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"pivot","type":"sprite","uuid":"8b7ac7cd-8125-40cd-88b1-282b4814549c","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAKFJREFUSEvtlOEKwCAIhPP9H9rRYFBM12lSDtpv1+edelQ2fbSJWw54mfMuq5mZnw6JyPWG+acWOgP/B1hSW1V77DYpTgX2qL1dku5HUybVhoEtUOTotcZeiqPB2vLlAdcOo1VLdkPnNNMIPOOvhYmKS/WcNHiqAFkSmdrieUIEWq7W+qg5HzASv13AeOZrPieoK7DIPGPw3WHZAQ8tiiq4ACB5UB/wcF6OAAAAAElFTkSuQmCC"},"originX":15,"originY":15,"bBoxX":4,"bBoxY":5,"bBoxWidth":21,"bBoxHeight":20,"behaviours":[{"name":"custom","type":"behaviour","uuid":"b600fbe0-2705-48dd-a415-ac9537a02dee","props":[],"code":"imgAlpha = 0","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"yellBox","type":"sprite","uuid":"906c805e-2807-412e-98be-634e9cdf1723","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAndJREFUaEPlm1FywyAMROsb9GI9bS/WG6TjTPEQDGi1kiiQfCYG9LSSEEx8fNQ/j8b3q319lAaXX+wC2uTMgXeFTfBP1gS8O+wFHQb88/hyz/fP49s653ECi+rmxvcWjYCsEVrAu8CjAKyypfGII7YCRsCbwBHq5gpEzD8VcC3c/gN6mMIewJoIaeXzMsBahy0N3DK+lxLLArP7vgtwOYmm6GhD8qy4LGxvLJzDTFjlDYUWWGoiJGebFR4JbIVdSmEPWBfg3iRSeLXG1sZZ8ta907IYg+SwNW1oYGZ/S4u1xkowFmeWp63eXNUqLYUok2cssGSL9rx8A0YXkKBLxRlg1BaTwppFPKBbtykaO4YBS91QLa81Jx72JkSVw6xnkaIzAlYSgc5htFicDkScwaqJ2pFfTr/cWrIK9wweDazqtLyB0cLmqXBvLjikUcNLh6HjpgLWGo1e3I+CzNeBOi0t8LlAgmbGRjoiHFjaJiLhanObbzxaBqNh7V0kc3tq0QUDS0ogTQXyjLSO5vdQYI0hrWe9HTIEGDG69ox0mmIcGg7M3mpI7Wde9bXgpU1uOdyqxkgjggDXTl4I/LTAmu1LU9mnBtZAo2EeBowWHTbPkf0eOSq65bAnsNQ85L9L4T1UYfSiXTK6F+rS2CmB2XyUYGuOCg1pVGEUGNmGymeWVnhJYLRBYeBMVZoJM6SPTkZpnrXAwyHNAFsMixirOjywvWuE4eycFPCqSrcaIejvwytBS5eGMPCMIS7B1VJBDazpY9ncQ7YXdm4TsFV1RiEW9G/c8xWA8yO+BmBcaJbhF/A7QL+8xpMU2FXp6/2s26tqm4X4je8XqM7sGhgA1yUAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"logic","type":"behaviour","uuid":"7540cb13-56a0-4167-b237-0b31eb54b6ac","props":[],"code":"tag(me, wall)\n\nlet but = null;\nlet enabledPrev = false;\n\nonUpdate(() => {\n  if(!but) but = instancesAt(me, button, x, y)[0];\n\n  if(but.pushed) {\n    let b = spawn(bullet, roomWidth/2, roomHeight/2);\n    b.x += (Math.random() * 2 - 1) * 30;\n    b.y += (Math.random() * 2 - 1) * 30;\n\n    b.collides = false;\n  }\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"damage control","type":"behaviour","uuid":"24f99798-ed72-4278-8ae0-68630ce2be94","props":["hp","dmgCooldown","hurt","maxHP","knockback"],"code":"knockback = knockback || 1\nhp = hp || 2;\nmaxHP = maxHP || hp;\ndmgCooldown = dmgCooldown || 50;\n\nlet dmgTimer = 0;\n\nconst white = colorRGBA(1, 1, 1, 1);\nconst transparent = colorRGBA(0, 0, 0, 0);\n\n// define hurt function\nhurt = dmg => {\n  if(dmgTimer > 0) return false; \n\n  hp -= dmg;\n  dmgTimer = dmgCooldown;\n\n  if(spriteID == player)\n    playSound(sfxOuch);\n  else\n    playSound(sfxImpact);\n\n  return true;\n}\n\nonUpdate(() => {\n\nconst flash = Math.min(dmgCooldown, 6);\nimgAlpha = dmgTimer % flash < flash/2;\nif(dmgTimer > dmgCooldown - flash) {\n  imgColor = white;\n} else {\n  imgColor = transparent;\n}\n\ndmgTimer--;\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"hpBarBG","type":"sprite","uuid":"256f7410-675b-4945-bd17-f9f54a6b0329","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAAeCAYAAABjamqSAAAAAXNSR0IArs4c6QAAAYlJREFUeF7t2dEKgzAQBMDm/z/aEqESE/smZjHjYyh6zh0sV8tnvLaLM0cECBAgQOBOgdLfrD8QRndyuxcBAgQIXAkMYVR/1B4KI4NDgAABAk8KnIJJID1J71kECBAg8PefuhpINiMDQoAAAQIzBfblSCDNbIFnEyBAgMDx+UggGQYCBAgQiBAQSBFtUAQBAgQICCQzQIAAAQIRAgIpog2KIECAAAGBZAYIECBAIEJAIEW0QREECBAgIJDMAAECBAhECAikiDYoggABAgQEkhkgQIAAgQgBgRTRBkUQIECAgEAyAwQIECAQISCQItqgCAIECBAQSGaAAAECBCIEBFJEGxRBgAABAgLJDBAgQIBAhIBAimiDIggQIEBAIJkBAgQIEIgQEEgRbVAEAQIECAgkM0CAAAECCQKlBlK9toRq1ECAAAECywoIpGVb78UJECCQI7AvR78NyZaU0xiVECBAYCWBI4faQBJKK42AdyVAgMBcgT5/ThtSW5pvSnMb5ekECBB4u8AQSF99Bh4NLCw3hQAAAABJRU5ErkJggg=="},"originX":210,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":420,"bBoxHeight":30,"behaviours":[],"_type":"Sprite"},{"name":"hpBar","type":"sprite","uuid":"2bbb08be-d6e6-492e-af34-90344baf8ac5","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAG5JREFUSEtjZBggwDhA9jKMWky3kB88Qf3eW+8/LbwtuPUSiicZaWURIcePWkwohKgmPxrUVAtKQgaNBjWhEKKa/GhQUy0oCRk0GtSEQohq8gMX1Li8QG4DAb2lgcv8wdPmolokEjBo1Mf0CmkGAEG0MPaAuGh5AAAAAElFTkSuQmCC"},"originX":15,"originY":15,"bBoxX":0,"bBoxY":6,"bBoxWidth":30,"bBoxHeight":19,"behaviours":[{"name":"main","type":"behaviour","uuid":"93034683-7a32-44f1-ab82-af614ecb0e04","props":["value","maxValue","bg"],"code":"bg = spawn(hpBarBG, x, y);\n\nsetDepth(me, 100);\nsetDepth(bg, 95);\n\nmaxValue = maxValue || 100;\nvalue = value || maxValue;\n\nconst maxScale = (420 - 30) / 30;\n\nonUpdate(() => {\n\nimgScaleX = value / maxValue * maxScale;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"use hp bar","type":"behaviour","uuid":"43aaabaf-5370-4595-b6d0-a7974149dbf4","props":["hpBarX","hpBarY","hp","maxHP"],"code":"hpBarX = hpBarX || roomWidth / 2;\nhpBarY = hpBarY || roomHeight - 20;\n\nlet bar = spawn(hpBar, hpBarX, hpBarY);\nbar.maxValue = maxHP;\nbar.value = hp;\n\nonUpdate(() => {\n\nbar.maxValue = maxHP;\nbar.value = hp;\nif(hp <= 0) {\n  destroy(bar)\n  destroy(bar.bg); // TODO meh\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"hook","type":"sprite","uuid":"13407d9f-2c1c-4b29-b3f7-ef7296e8d671","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAR1JREFUSEvFllESgyAMROUGvVhP24v1Bjp0BibEZHdROvopMS+7xEDZrj07+KwoKaUglwhBWyjNSwMMVAEuBc8AvcupMKb4DhSqz8DTwO/+7mpf5UOVLwFbaCMyeAQe1PqkQcJNBA/WWzAEWu8aPAICxTZFaWAZWr+uYARtMWjIVPAUVJlK0XZE3dbBTIWiNnIjKmRQzMDMYrTu4RJYbaaZZoN7bKtUkiox9p+iU2rFFsDmyjqWKWHrUd6T1T5ISarEyIrv2suGSKj439Ba1KMj09r/63Blz5QYNqv9egr302fyOLQOd6tPqpXDwLuTHA7hZYNeBNQCkK3Zfxy9p9NsoiBZcc25CvzY9fYyOHNUcQTe2dmFnm1lVICU8wBjSZAVhZ3NwwAAAABJRU5ErkJggg=="},"originX":15,"originY":15,"bBoxX":0,"bBoxY":0,"bBoxWidth":30,"bBoxHeight":30,"behaviours":[{"linkedBehaviourUUID":"9939d41c-17ab-474d-af6f-74873eb6d13b","_type":"BehaviourLink"},{"name":"config","type":"behaviour","uuid":"1f34b9de-90b4-4d77-b776-68d3c067a586","props":[],"code":"grav = 0;\nsetzero = false\n\nsetDepth(me, 3)\n\nif(find(hook)) return null;","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"behaviour","type":"behaviour","uuid":"0ef51705-975c-428b-b005-8cee5d66d06f","props":["shoot","unshoot","active"],"code":"let timer = 0;\nlet noColTimer = 0;\nlet animT = 0;\n\nactive = false;\n\nshoot = (dx, dy) => {\n  animT = 0;\n  xspd = dx;\n  yspd = dy;\n  //imgScaleX = Math.sign(dx);\n  timer = 15;\n\n  active = true;\n};\n\nunshoot = () => {\n  xspd = 0;\n  yspd = 0;\n  active = false;\n};\n\n\nonUpdate(() => {\n\ntimer--\nif(collides) noColTimer = 1;\nelse noColTimer --;\n\nif(timer <= 0 && active && noColTimer <= 0) {\n  unshoot();\n}\n\nif(\n  collisionAt(me, noGrabBG, x, y)\n) unshoot();\n\nlet p = find(player);\n\nif(active && collides) {\n  if(p) {\n    // lol\n    const f = .4;\n    p.xspd = (x - p.x) * f;\n    p.yspd = (y - p.y) * f;\n  \n    animT++;\n    if(animT % 5 == 0) {\n      playSound(sfxClick, .5, Math.random() * 100);\n    }\n  }\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"visuals","type":"behaviour","uuid":"22f576a3-900f-43b6-a013-f17a117b1d1e","props":["prop_0"],"code":"\n/*  commented out for now, persistence is hard\n\nlet rope = [];\nconst n = 10;\n\nfor(let i = 0; i < n; i++) {\n  let r = spawn(ropePart, x, y);\n  rope.push(r);\n}\n\nonUpdate(() => {\n\nlet p = active? find(player) : me;\n\nif(p)\nfor(let i = 0; i < rope.length; i++) {\n  let r = rope[i];\n  const f = i / n;\n\n  r.x = lerp(p.x, x, f)\n  r.y = lerp(p.y, y, f)\n}\n\n})\n\n*/","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"move and collide","type":"behaviour","uuid":"9939d41c-17ab-474d-af6f-74873eb6d13b","props":["xspd","yspd","grav","collides","setzero"],"code":"grav = grav || .25;\ncollides = false\nsetzero = true;\n\n\nonUpdate(slf => {\ncollides = false;\n\nyspd += grav;\n\nfor(let i = 0; i < ~~Math.abs(xspd); i++) {\n  const dx = Math.sign(xspd);\n  if(!collisionAt(slf, wall, x + dx, y)) {\n    x += dx;\n  } else {\n    if(setzero) xspd = 0;\n    collides = true;\n    break;\n  }\n}\nfor(let i = 0; i < ~~Math.abs(yspd); i++) {\n  const dy = Math.sign(yspd);\n  if(!collisionAt(slf, wall, x, y+dy)) {\n    y += dy;\n  } else {\n    if(setzero) yspd = 0;\n    collides = true;\n    break;\n  }\n}\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"ropePart","type":"sprite","uuid":"decb9ae7-e2c7-4600-86a7-4b55d5d1ec1b","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAGFJREFUOE9jZMAN/iNJMWJThk0QWRO6HhT1yBx8mrAaAtKMVdOH/75wDQKMm7F6DkMzsiZ0HeiGUE8zPlthrkC2HcXmgdMMctrABBhy1BAbzzA9ZKUw9LRAVtrGZwjWXAUA2iMqB/1VZfgAAAAASUVORK5CYII="},"originX":7,"originY":7,"bBoxX":0,"bBoxY":0,"bBoxWidth":15,"bBoxHeight":15,"behaviours":[{"name":"config","type":"behaviour","uuid":"3a4ff1dd-da54-4f77-8183-0535325c5e0b","props":[],"code":"setDepth(me, -10)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"sunglasses","type":"sprite","uuid":"c152e60b-fb48-4da7-affa-8bf711b202d5","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAItJREFUSEvtlsEKwDAIQ9v//+iNjgkeymKC1MPc2Rh9pLI5ir5Z5Dva+Bj5Rv0/1Fdg5a9chPW+SURkc+3MKb01YEQ7c1pfakxPG8gBLFkbtzHE5ApkYrLwNZf1palewysBU4/PA0sVp10uy0tk8/Rb7dO8G4D5aYB6phnzzGBtG0NEWQWNOosk7HMDLOYZFsRRnBAAAAAASUVORK5CYII="},"originX":15,"originY":15,"bBoxX":0,"bBoxY":9,"bBoxWidth":30,"bBoxHeight":14,"behaviours":[],"_type":"Sprite"},{"name":"room_5_4","type":"room","uuid":"8943aaf7-6779-4f00-acc2-9aaa360aca23","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":405,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":285,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":285,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":195,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_6_4","type":"room","uuid":"994b70b1-c6df-49c2-a327-8a65e4c12ca0","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":90,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":90,"y":390,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":450,"y":390,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":165,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":105,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":135,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":135,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":75,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":270,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_6_3","type":"room","uuid":"7fde3f59-faf3-42b1-a84e-1eb3fb3ba06b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":420,"y":120,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":60,"height":60},"_type":"Room"},{"name":"room_5_3","type":"room","uuid":"bde53c3e-3ca0-4a8d-ad43-38d03616def9","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","x":270,"y":450,"_type":"Instance"},{"spriteID":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","x":420,"y":450,"_type":"Instance"},{"spriteID":"3f2447ee-1b6c-4e04-ba12-3ec5de1f43de","x":120,"y":450,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":315,"_type":"Instance"},{"spriteID":"b8cda910-4425-4831-b34f-0bfb06832a3d","x":150,"y":345,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_4_3","type":"room","uuid":"ea713a8a-90ba-4a5f-82f1-914b24b5c2cb","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":270,"y":450,"_type":"Instance"},{"spriteID":"6070a257-da9f-4330-954b-661d18d7d9b1","x":210,"y":270,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_3_3","type":"room","uuid":"1746e39b-c1d2-49c2-a739-9f261bcf8890","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":405,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":465,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":405,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":435,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":465,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":465,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":465,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":330,"y":465,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_2_3","type":"room","uuid":"a2f40322-935b-4084-8bcf-aaf09e2f346b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":165,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":405,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":525,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":525,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":90,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":495,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":495,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":0,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":0,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":0,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":540,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":540,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":540,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":540,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":0,"y":30,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":60,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":120,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":180,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":240,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":300,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":360,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":420,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":480,"y":15,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":375,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":120,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":420,"y":255,"_type":"Instance"},{"spriteID":"5bebff3d-7994-455f-aef5-d0f06326ba17","x":270,"y":300,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":465,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":60,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":0,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":480,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":540,"y":450,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":360,"y":165,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":180,"y":165,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":210,"y":375,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":330,"y":375,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":30,"height":15},"_type":"Room"},{"name":"room_1_3","type":"room","uuid":"d56b2883-37a1-4502-8d14-16cec0cfddf3","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"3cfc8a91-b124-4099-b51f-575fbc401ffa","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":75,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":165,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":330,"y":90,"_type":"Instance"},{"spriteID":"13407d9f-2c1c-4b29-b3f7-ef7296e8d671","x":390,"y":450,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"wallNoGrab","type":"sprite","uuid":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAArhJREFUaEPlm9uSAiEMRPX/P1pLV6YQE9Kdy4DuPm0phBw6F7Bmrhf576Z8/q0fX5vjxz+vD34NtBfoydoD/zLsIXAD/g+wT4FF4Nvtj/96fK0k+mscMrZZaLaRYmCtj9gYxzyA39S1YEeHGadWw7Yc/gDWIFbCRtYeKxeUv5EFUWUrNtoMaSkveoeZEH7YQmBnNiMbLbF85LCnEGhzLFhr8xDYxxjLDhTSrKERegaLOFgBKxatqMJRVfs0QDaG9ZcOaS2fLVCrV1vtkAUb+37bPBrYu/CKeZI4MHA0p88G1moABOxtS6s2SUovM6RnkxC1doLt64eqMNIWZv23osJaG60Vzt4XCJhxvqraZsBO+7DHcc8cCwT5HlG22TEVRtVdBaud1zW/U4BXwpYDj9W3CpaxyxTYqcJjWDBOILmH3LKQlEoBnt1+ECe8wOwhh4GFb0us0V1hIeDoiQuFr1bWbEta9bOueShgPy4Ky/hktiUJIDOHWVhJCMaf6W2JOcGcoSzbc0Wxxh/itVAbJzO7Ki3sLYTeeUtz2Ot0RgGlQzqq7BiWqL0MWLMteZWY5bPHZhYsBYwqkQ2bUah6n6CQls7U7AZ4VfLO0zbeBM64QESc9qTALMqgXy2bAc8hIXJQyIY1c3jWk9GQ3kldGNjrtHdeJCqsE58Z0pHjpTckvfMsWEhhL3DEaW+tKAO28ndXWLfCVY8oVCoLXR7Y4rGzsi7gKmX7jbXSBcnT0MEDCbOIsmfCUjlc9QxV26xqZamQRkP5LKcjR13o4JFxW4rm3jgfSTVpTRNYW+hsNbVzPesHBezd1Ux1oz7AwNFKnAEdhYWqdKRAZEBmrw8rnOk8aytDWbgtsc5lj8+EVd95yHZ6I3tvb3FAT8Zv5Dzrysd7S0d9YC19wXj1zbS3/v4FIJaL45t3lzv1FwQofoqpKwAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":60,"behaviours":[{"name":"config","type":"behaviour","uuid":"69822939-4bd8-43dd-b28a-711a57a3de8c","props":[],"code":"tag(me, wall)\nsetDepth(spawn(noGrabBG, x, y), -100)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"noGrabBG","type":"sprite","uuid":"a16328f2-52d1-4fb9-83d7-f301a04c8318","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAAXNSR0IArs4c6QAAAiRJREFUeF7t3dGSgjAQRFH8/49eiwe3tEAy3UlahbvP0xk8GVlQtva28BMRuEW60GQBOjQEQAMdEgi1YaKBDgmE2jDRQIcEQm2Y6JNB/w16PT87GDMOfBTqoL2Rl5lhMuzO8NdxW7vRjd+9wLIsZ0fe2wTZTQ48db0i8DO6ZKcUXx326PTSdGwWXPTU0Dpny6eTFjRTrJG/9QRag6xU75oCXaHTazauQOuIlQTQFaUBNUAPQKwsAXRFaUAN0AMQK0sAXVHqrOHyrhNQiTPRilZHLdAdeEoUaEWrs/YFmzvDTs2DONDzbF9WBvrboPksum9HyhMNNNB9AqE0Ew10SCDUhokGOiQQasNEAx0SCLVhooEOCYTaMNHfBr0eD7fh/q6UJ/rRAmwPG2jPTU4BLZN5AaA9NzkFtEzmBYD23KSU/LgBl3iS738x0J6bnLKgmWrZefsXya0HaLhp0ZHXBBPtuckpoGUyLwC05yangJbJvADQnpucAlom8wJAe25yCmiZzAsA7bnJKaBlMi8AtOcmp4CWybwA0J6bnAJaJvMCQHtucgpomcwLAO25ySmgZTIvALTnJqV2vx7kO0PJsFTcBb124KnSY+fDoa1O9KMF2PvYTcdmwc66YG9Rmo7NgoN3y5XBZTc5ALz3fxFGQo/6hTn6mEqXCrOLPvWi3p12PnU8s529t8H0ozphg9NO0LftFdChHQEa6JBAqA0TDXRIINTmDnxgSVsP+ymbAAAAAElFTkSuQmCC"},"originX":45,"originY":45,"bBoxX":6,"bBoxY":10,"bBoxWidth":80,"bBoxHeight":73,"behaviours":[],"_type":"Sprite"},{"name":"bigGun","type":"sprite","uuid":"d10a3e26-20b6-45e2-b7f1-dace1fbc1302","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAApVJREFUaEPtmltuAyEMRTM76Ma62m6sO0g0aWZEGIOPH6OShP5EVYzhcM01SFkuf3/Xx+fbfyyfBLuqOYHfvaanwp+g8Me59ASOlPXv9RsN/1p+9jhpTPk9SgiDVtNKUZiCrpNJML3xmfBhYAvoJoIVuDcOCruHhYA9sB6FS6io2m5gL2wUOKq2CzgCmwXsBF/MwNRRrSZEN1Fyd0OZ78DIqSnstvstiEzT2uaA0BzYsvhs4B7MUMAtcKIwVOxSCgHGMIW18wUmelpYbVx1fpJvzeEYlwNMHFPbNGuvtfrJI/8TcNO4MhabkcPjDdVNLB9Y6rMW2Mj1ExyFc4Bb99vWgjwbIs1xOrD2xLOcywzodGCQ8GnjLS3DEiupu44H6+MlDZKJlQwXsrcY7zzwmTgGcFRdCLuGHYDF1kRV8pbakMCtZ11vd8k913mBOEwLRREVPqh8loNm5LV0glZJN8uanBVLqyL5LDHA8JjC0kWdNv6oipYNTAXWoD23qHqM5fVjiS3E4Qr3gMkDvXdHLqvF4tiW2MccNuAWNAUGJWd60JMuoL2Wyu+bP4Og5UTjIgqTTSQlLTp1a2FSj/bAShXU8wYr7P2q1bF99YcuFgemi6M5ab5S3TCw5tzGS8E9nAB7YTVgtax7JV5XDl2kBkzz1Mpu//dK2gS8JWwtmC40Or525Xrj04E9rUurFLpZgh8d+IYDtjh1x3Cbx3UCV7umtiZpl6NvXG8P185vqktnnsOXA67PocV0otXRakentSXFSNDXjleQlFf0J820XL0YUZ0fNIGJaW06uNz6fBG7M7gVfiVo9YiqAcIejqy2yqMGdIpmRHCVRw1QzuEo0JgDB/6zAaVNP4HTtnLQRFPhQYVJW9YNZpiEP3TWuYkAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":55,"behaviours":[],"_type":"Sprite"},{"name":"textHPUp","type":"sprite","uuid":"7d312053-d3de-4e94-9f3d-75c9e31f2c37","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAAAXNSR0IArs4c6QAABbdJREFUeF7tm+t14zoMhDclbCNpJPWmkW0kJWSPciwfSSYxMwBoQwrvzxsZBOYjHqS0b3+u/9/3JsS364e7j/DKAW/BHrleOe5drFcN1IK7CnDV2CfgmwIT8En71S57vz7e72H8/fz360r1FXfxHfAW7kr2APmK8V++RE/AFzk2wEGKyGCrC10iu88YBAS7UgsCvsS0fTbANNyFThLgxdTZdLpXprM53gTcAmnV3sY0jQ4MZ9PplIBT4AbAZ0NWqpF7bfcP0ZYf8PfhgBefjezO0koB25JR8kN6eAA0xeQVAEfhbvWi2FEPKRQGPzsccieDM3R68B3NDuSsYPqW4fhgpjvzUgYgAY+ODyzPMtytbwToLsezAV7ipiEnHZMyNOrej7PZ4YWc4TzrY/ZzEHQQcJY2oewVqkzzvB4NouLXEtXuolMBd16adIcvL+DKX0ucEvC2BLOzAzMQegDDSfbv5z+P3awSXu19MJXBLVgMaATZA4J12GN7COSO0Wf5x+rVdNMJ+R6bGiTl7O1GSLWdBZedtJ/lH6XZLROPPpntxujHJQAfA88WvMqcEAG83fTfVjb3vlRRRaWcBRmMjjeqTyjzXz3pU5ptALXih5n8VMCdcsOWzuZ5DlF80d+ZzRMBDAfaTpnOKdG9kvELAKvln7rJOuhGw71VzOZZWC2HHkfXhVFpPiYh8o3Jnl5iR/o/E0d3WFocshKDmZpbQQ0p0eAqkJoIHRf8avbsBhVQypVNZZkyAVuQva2m18NRQMf1YAZ3FlJul9Y1zWHDEKIXE5N5qP+zNlp2oHYJcB/WrQo4Ainy2+jmavbB2/8cAhh9yO8GDAas405SM9ibvT1ASub1sjhqIx0wgovKUatiKOexFRIMjHFUeQ/c+MxVhdPdoEIZdQ9awhpWxfn5m5LBXlDKprB8UiDBIYcUEW5ScUhUtFjWRjFDfvCBjRDPAGz5g4Kl+x8Jt/mY8BEBbDPCKcR9rBsFGO78VT1PeQb/JNScYAVAD4CFu2CqjxO+KHyaG1IxoGTwA2BiKKPKMyFKF7AIaCcYuoBA72XZSZrc8HQRcgEmYHkAw+MNsa6ZOU5I3Zuno8rkPzBXThQKn7wMJoR+GBCIzHs54E7beCrgxQfwZonOXvcUTcJSSrq7PJOC/PiCMlhSrvFwRgaT8dCuKiVALS0K4JHZu4hREnBv02X2YRawAmvNRuU35pFCGI7MjZKVwQsAok2VmKRPDVjY6d0MtmC16uC6ZgDwvaKcNYM9Z+DuzRMpJJonTMBsfz72WMI3V+sRNi7sxSMyOA1wQmleBYCAoVKNBybgjSjKtRzqleS0ukUyBDBRYs+XwcKu9QxZ5qehhyPECpCpQuYUbbwwgIkN9CgLuHuxPwrw18c7fJlAXge2oEzAN1WaIoslU+7ByH4nc9Fg9VCiiZLaPOKhNDbaT6kMhu8qe4Gi77DYKZWwv32EKc27IUsA/PA7BTJx1aheGqHlu3/fiuS67TFGetiDGa/FF+o9k5mCwlaycaJMBruyF5zXHoRgSvEqDhh8lOxdTFYD3PUp8wy87WEyYPKoImcxMdGqcMsDNiqZJ9adOXogMgYda9iRspiAqwxWkSELdQ+mTDNwLDvM75Gfu4/uGKdbBpEjXruetZ7Rg3cVISn7thohPSHU3iTqAcE447GbCTe7RDMTNqOLBMr7cPeSnzCoBBGBrKxjud2cMxKGmmHZRzCAj8AxvmHBK7gHsnetVuDM+pnrQfGf8cArAnql0MOHmmdAU9Z4BWDFv1HPli6rmUH/VsCZGpa2NQGXxhN3bgKOa1jawgRcGk/cuQk4rmFpCxNwaTxx5ybguIalLUzApfHEnZuA4xqWtjABl8YTd24CjmtY2sIEXBpP3LkJOK5haQsTcGk8cecm4LiGpS1MwKXxxJ2bgOMalrYwAZfGE3duAo5rWNrCBFwaT9y5/6qr82/Q0nDFAAAAAElFTkSuQmCC"},"originX":60,"originY":40,"bBoxX":1,"bBoxY":0,"bBoxWidth":116,"bBoxHeight":60,"behaviours":[{"name":"animate & sound","type":"behaviour","uuid":"362410c9-f142-47f6-a560-95456ddf78e2","props":[],"code":"let t = 0;\n\nlet yspd = 0;\n\nplaySound(sfxPickup)\n\nonUpdate(() => {\n\nif(t < 30) {\n  yspd -= .1;\n  y += yspd;\n} else if(t < 90) {\n  imgScaleX *= 1.2;\n  imgScaleY *= 0.4;\n} else {\n  destroy(me);\n}\n\n\nt++;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_-5_3","type":"room","uuid":"5430fd6e-5d91-4418-93d4-4a13aff6b8ab","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":270,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":150,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":210,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":465,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":465,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":30,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":30,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"bgScaff","type":"sprite","uuid":"21fede7f-9370-4a3a-9c7c-2b592c204333","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAh9JREFUaEPtmtuOwyAMRLf//9FbZaVIKArM+DKOWaWvBHsOHkxD+/lZf34Xw5/F2GreOG0V4y58OC5KaAVmBZ0wKP8Vmo0/jYsSWoBZMV7YYx6bww28SjIGZYSgxQW762+YyXM8FwKeJTqChgUwlMMz4XzsqrOJrvrZ+Cw3q0NS4ZXIbNAzV0tgFezje/iuwkpYS5Xllq4ALQFm9owSlslvclr062EmrBeuFJg9Tqqfc+3hzBV/gcUr8FaYfWPZ1dauCqNzr2uHDr8tzaqcBaxwUdsKK2BbVlgFCnsTY8tMS0dB2UuHFpbOgEWNtEWFo6B3exLFfKTCSBTzZWsmHMUuB0aCECzqLSj+FsAIclykVsBIjOn9dWIFlCNU4dW99FUPEpJ104nylAAjEdF9W2ZppsIMLPppps0ettwHWyw7LpIFltEjsTSy6DhuBUKxkaMeBc6GbV1hBWxbYBVsS2AlbDtgNWwr4ApYKTBq/8qjZ3U0IV2uYwkFhbcL6DC9GWdzotAyYK+Fs8Bm4BJgC6wa8AruAmaaA7LWU+MvMNNwqm3IdHxWk6vCbPCIbVV9oA2wBdByw1HStLzirY7wOM1VYdSl1cAeUNibkOhVUjTXWkmLhY/cLm1ItCtohJT4S/Kp2aWtGzCyMbr53MrSFlh3f4lU+EiK5jPutoKeMcstnQGMYFc5tgJmQNGCbgOcAbvVHkbAbF/4FxVmYd0V/gLku4w9AvDKTAAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":6,"bBoxY":0,"bBoxWidth":47,"bBoxHeight":60,"behaviours":[{"name":"config","type":"behaviour","uuid":"77d88106-1314-4661-a4c7-dda90b7da1d1","props":[],"code":"setDepth(me, -100)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_-6_3","type":"room","uuid":"c36be1a7-7e15-4c1e-aba9-4c49eb075bed","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":390,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":210,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":270,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-4_3","type":"room","uuid":"8c64696c-52c3-40fd-85ac-505ef2f25a33","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":30,"y":210,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":150,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":90,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":270,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":330,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":60,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":30,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":30,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":90,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":450,"y":60,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":510,"y":45,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":90,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":150,"y":30,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":90,"y":495,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":525,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"room_-3_3","type":"room","uuid":"a50788ac-e643-4879-a51f-3fa72b18988e","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":345,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":30,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":30,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":30,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":30,"y":450,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":450,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":180,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":120,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":60,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":0,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":315,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":360,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":240,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":300,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":360,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":420,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":150,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":330,"y":285,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":315,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":150,"y":105,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":30,"y":45,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":90,"y":45,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":30},"_type":"Room"},{"name":"bgScaffTop","type":"sprite","uuid":"156910e8-6fb4-4e07-ace9-b9b564eccddd","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAbhJREFUaEPtmOESwiAMg937P7TePOfNyWgSYKxQ/9qVfk1apstjss8yGe8jgEdXPBS+ucJPsL5TIT0qjEAH8OaMUBickZ5hYelE92OGe8/wakt1f0xlaQR2FXMYSwfwyXURCvdeWuo9PpWlUdghlhYDG8D7+VEvf3UGledYdd0rHMCATVzfw6HwyAor6rpdWiqsS+AS2KrAqUJa3OVTAVuwa4ORmORuQ9XJHYDmAJbrOwQ5axhgBNZqSpUZRgtBVUzFMaoxsT9noXZsDcwCsPFf6FJg9HlLeRaAjXcFnGpqU+DWds4toTMHdQG+ws6XA99R3WbXkmwba0MdvrfOIdO9w6U/AKxCSixt5VYgof/qckVbRTHAVq5SwOPzTRSuXWTNfAG8dbPE0jUVQS2JjoYrhdW7V15aaBcVhdUf72xNsMJMYmZL75vDvswwNZmjeiyaSa4AM7BMLegO+HsjYQ5pCWzVYY3GbSx9BrIvEIG13qfdAKOw1YCPs8DMHLK1U/k2NRjYLsDZXyUI/SeGBd1SS2JYi0ctBuW18uea6goYAbUc5Aa4BqyrGbaArTFzN8OSFRNLQcrzAj+ccD1fnhpRAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":3,"bBoxY":5,"bBoxWidth":50,"bBoxHeight":55,"behaviours":[{"name":"config","type":"behaviour","uuid":"d00f8d69-4181-434b-9fc5-fb242f5844ba","props":[],"code":"setDepth(me, -100)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"room_-3_2","type":"room","uuid":"5bbc074d-5bcb-4bab-a7fa-33e68152e1d2","width":540,"height":540,"instances":[{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":450,"y":390,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":450,"y":270,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":390,"y":270,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":330,"y":270,"_type":"Instance"},{"spriteID":"e409f16f-d7f5-421d-a976-3136469f7d89","x":270,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":210,"y":270,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-4_2","type":"room","uuid":"4ee62347-0d04-4c79-8f28-a4dc4be34778","width":540,"height":540,"instances":[{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":450,"_type":"Instance"},{"spriteID":"ae98aa73-6dc3-4233-83ff-02d5dddd03ca","x":330,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":390,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-5_2","type":"room","uuid":"38d189bd-493b-4911-929a-cd88cda740cb","width":540,"height":540,"instances":[{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":150,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":510,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":510,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":450,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":390,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":330,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":270,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":270,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":210,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":150,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":150,"_type":"Instance"},{"spriteID":"144828b5-744f-44c4-a975-c7cfef8d5dcc","x":450,"y":150,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":450,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":390,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-2_2","type":"room","uuid":"2a5a0cb6-64a8-437a-8b1b-df89639d1a32","width":540,"height":540,"instances":[{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":270,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":210,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":150,"y":270,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":270,"y":90,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":450,"y":150,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":390,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":330,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-1_2","type":"room","uuid":"fdd86bf1-72a9-4a72-9f4f-538c802ba659","width":540,"height":540,"instances":[{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":150,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":150,"y":210,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":330,"y":90,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":450,"y":270,"_type":"Instance"},{"spriteID":"156910e8-6fb4-4e07-ace9-b9b564eccddd","x":30,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":330,"_type":"Instance"},{"spriteID":"6b88148d-f844-4ae1-80d0-254d423fb21d","x":270,"y":375,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":420,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":480,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":540,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":390,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":345,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":330,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":390,"y":225,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":285,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":390,"y":255,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":195,"_type":"Instance"},{"spriteID":"5317b395-5036-4268-af58-ca781dfcb2f5","x":270,"y":165,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":30,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_1_2","type":"room","uuid":"9fe102f6-5047-4568-977a-eaf0e43519e0","width":540,"height":540,"instances":[{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":450,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":270,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":210,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":390,"y":210,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":390,"y":270,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":390,"y":330,"_type":"Instance"},{"spriteID":"299a0738-f078-4018-b783-762dd3084b5c","x":150,"y":330,"_type":"Instance"},{"spriteID":"8b7ac7cd-8125-40cd-88b1-282b4814549c","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_2_2","type":"room","uuid":"2360e7b6-d306-44c5-89e8-f4c3af49cce7","width":540,"height":540,"instances":[{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":330,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":330,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":150,"y":450,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":90,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":150,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":210,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":270,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":390,"_type":"Instance"},{"spriteID":"21fede7f-9370-4a3a-9c7c-2b592c204333","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":90,"_type":"Instance"},{"spriteID":"4d58c2f7-5638-45b8-96f9-d5e776b7759c","x":210,"y":225,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":270,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":450,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"introText","type":"sprite","uuid":"206b4849-f430-4aaf-b9b0-f27216f3aecc","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAcpJREFUaEPtmMEShSAIRfP/P7o3LXzTOKZcuChTtC7kcIjScnzsKh/jPRL47cbTsNXweZ6nNkYpxV0AdQELbFskL3gaMBP2qUMYRTADrwBl2jcB74Ct8FrbamAp7CgxaQxmi6uApYkiFqQxe/DIOjCwNDEkiSeD0rWQNoeAJQkwQNsCSNaVQlOBPWArCAI9gqcBe8JaoFt4CvAK2Huba2xfz195moHRGNr/7N5zKDgMzEyWFQuBfgUw0uqvA57BJzDrvYoQp/duLzE8GypeU/5pXeizNDM3g2PuerS5JPCscqydDfMUA/kpoRnWtrN0l6MR0R1cmkCW7dvu95hieGS3ncKP0xP8r5eIWm6498n5HLDEDOuepYa9fiiQYiTwdQiAVAz5BkcwfOXbWnYDrkcqjIJaYiSwpXr1WeQ7zFgPibHUcIS2dgHuDYe7hZ0DbAvwLtNu3+GI73KIE49VrT0cosjEk9wr3Rd7wEvWpvx4sPbH2iJIQP8HDRJr6D1IAmhsy/2ux7TRoGv3uLS0ZGpbTKHP3l8VV+B7YjuM92bCMuCeFa8ijIbfVmC0NRn3JzCjipFjpOHIdhi5pWFGFSPHSMOR7TBy+5zhH4CKM/SH/N33AAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":11,"bBoxY":5,"bBoxWidth":49,"bBoxHeight":45,"behaviours":[{"name":"config","type":"behaviour","uuid":"ce107bca-e4c8-4bc9-8022-7dbcfdb03996","props":[],"code":"text = `\nThis mod was made by Dzhake\n`;\n\nimgAlpha = 0;","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"textAnyKey","type":"sprite","uuid":"ad28b818-67d9-4c97-982d-d2f15996ee43","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAdlJREFUaEPtmeGOxCAIhPX9H7qXbq6J6YIzCK1by/09Fb8ZEO3W8rK/+jLeksCrO54Op8OLKZApvZihXzjpcDq8mAKZ0osZ+luH1rZtmyZwrVXMPmmONlZae2pK94D3zUogU4C9QQ/lE/iUg+lwKcWbXUM17A0qHSZaercuM2NQlzEDRwR9DPBIG0GKowNsqsMJ3Nhnaf6a672zIaqUTDV8pcO7CKgvizcn5Uam3uC8NXbMv8phtD9rXNphpL41sOWk7kFb4z4a2Ar7uZ+jlEFtY1ZKj8DSwCidtZcNKyYrakQcyuEEVqwbTTOLw97WFOZwRLoxmaT2V7IfLwPMCg6BPaqzm/CmdOs6KqvlgJHIXWCvuyj4uR7ZDwvMvjSnHwnMPDTMwIyKzMUC1VS7BuswU/OhwPtiVzwVrcDIaQma/rp/vjP/CnAPGgIzaXws8gRg6dD8OMyASpOjoUdSmtl/67QLGAWzHFjaWuwarPg0sOXXvNE38qjDFuEp4J7KqBxYh7wOs4dXF5jdLJtOqG97HO715q8aRhth/h/13ZiJ5RkDHw/s4q8DjqhBVlzPuDCHE/jfBvbg87hmmRvqsCXwrLEJPEv5u+Kmw3cpPStOOjxL+bvivs7hP0q4iExs7TLDAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":1,"bBoxY":14,"bBoxWidth":56,"bBoxHeight":38,"behaviours":[{"name":"config","type":"behaviour","uuid":"d47e0ab1-128b-407b-b40e-78febf07d7e4","props":[],"code":"const myText = \"<press any key>\";\n\nimgAlpha = 0;\n\nlet t = 0;\nanimSpeed = 100;\n\nonUpdate(() => {\n\nt += 1/60;\n\nif(t > 5) {\n  text = t % 1 < .5 ? myText : \"\";\n\n}\n\nif(t > .5) {\n\n  if( keyIsPressed(\"KeyAny\")) {\n      goToNextRoom();\n  }\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"draw text","type":"behaviour","uuid":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","props":["text","animSpeed","size"],"code":"let ctx = getCanvas2DContext();\nimgAlpha = 0\n\nlet t = 0;\nanimSpeed = animSpeed || 0.2;\ntext = text || \"\";\n\nonUpdate(() => {\n\nt += animSpeed;\n\nconst lines = \n  text\n  .substring(0,~~t)\n  .split(\"\\n\")\n  .filter(x => x != \"\")\n;\n\nctx.font = `${25}px serif`;\nctx.fillStyle = \"#eee\";\nctx.textAlign = \"center\";\nctx.textBaseline = \"middle\";\n\nconst m = ctx.measureText(\"Wg\");\nconst lineHeight = (m.actualBoundingBoxAscent \n + m.actualBoundingBoxDescent) * 1.5; \n\nlet i = 0;\nfor(let line of lines) {\n  const ty = \n    -((lines.length-1)/2) * lineHeight + \n    i * lineHeight\n  ;\n\n  ctx.fillText(line, x, y + ty);\n  i++;\n}\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"bossGreenEye","type":"sprite","uuid":"f2f75d5d-b9e3-4259-a590-c099676b69d9","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAwVJREFUaEPtmkuS1DAMhruvw2zhFrCYKtjzOMMcZ5jZww5uAVtYc5OmnBmlFEe2Xn87oZssO7bsT78kPzrHA/45BU0eg/1c3ZCDREHrCSPntHIGwvgC9P7Lg8vjpfGndx+kPoi5wYBXakZANc8Ijkg7wWtADNtzwHJnIME9wJvAEjgK2grcLEjnVldRury2MkymtMbdyqvBfnz7XkvT+f3nr4+mto0CZ2FRgUOqeiAlQgt4BrqlsDtfs6A1vAYehTYD98IXDcvhe+ARaAnYtcaeE1YD7wA3c1oFRhYmU1VSGtWKe6FrYNc2cZS6veIGA96bsijopsJbFalI2B+P3e3E4qUI/C/BkoOs0MOAlQkdTqf8cbozxszpAo4UKQ20DuEseGO8McBeWILPQL/5eXP4/up38xaFKzzHlJTDXnWjsHymUXBhbFFhGDACNqO2oPIKWN1weBRGAhdwr9JDgdGwIOB5b01Szwq//vHicPvnbpH0W6obCe1e4SrAi3C+YOBJ5QVwgS3PhSp8lcDTJd4ify9cYTzwU9xol6H+M5FnaWoUrfnWEqrwf2C/mGKPq1LYA1u8NTyk0WF9VcBeWM3Z4rJUL02erSVPwGy1jsD2wpk21KsqjQLWvN2rZxFYLX/nEwRtPmhrSRPhW8yoymTLqnYUlMaxKDydwKhDCzoLDFqdumYKbHmEK5653+qKpwbm4b13aE1dHtImlUujvUJb1KXjIQ8TNbT3CG2EfaqhVVKsLgP4e2QRQ+U0wWq5S593qH+XnrNyZ6G9sHUOi6EtVe/MjUgWki8/3FavMvOPd8yfPHDj0lXQqGLGVaU5WWF7Ci+qtqQKD/VRuZ2FTQG3Nir0+7eXv1DROx33pEdRVuTT7mJc/2FKmxYYdWUoAqspTEO4oDXlEQ4wwDbZNIVT0Gh4I2hXSCswBDzjAASsNaSlKAyFeW3IkvMOUBOPV2E+Zwg0IqefbZhYTI06k9oDtIvB1bgBvhV0aO6hTgL4aOjwvMMdN1I7Pd+0AWDRGWLq6oD/Ai7Ekj+htgzHAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":60,"bBoxHeight":58,"behaviours":[{"name":"config","type":"behaviour","uuid":"6ad5bdfc-de28-4f67-b7f4-9c9d4dc16b01","props":["angle"],"code":"tag(me, boss)\ntag(me, ene1)\n\nhp = .3\ndmgCooldown = 10;","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement","type":"behaviour","uuid":"dd523af6-6512-4b7e-9a51-2ef8c8639cc1","props":["xspd","yspd"],"code":"\n\nonUpdate(() => {\n\nx += Math.cos(Math.random() * Math.PI) * 2;\ny += Math.cos(Math.random() * Math.PI) * 2;\n\nconst f = .1;\n\nxspd = lerp(xspd, 0, f)\nyspd = lerp(yspd, 0, f)\n\nx += xspd;\ny += yspd;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"bossGreen","type":"sprite","uuid":"5bebff3d-7994-455f-aef5-d0f06326ba17","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAoBJREFUaEPtmuGSgzAIhOv7P3RvdEZPI7ALJGlSe79uppjwsUBi4vJ62N/yMN5XC+B3pyCGfI881AuIjZuLgTUeDfIcDJZhewYZjwwqZQDi+TpgKCKKyGwK76qrXN8KrCptAc+qrtnQNOBvgBXTuxnw+63HbFn+py3tzr+xCzGwuzBKwGF1LchLnhnA4lpzsg8EwQR2w66QlmIIIBIkJ3Qd4LOjswKb6kZrsobCZV3vvjjq/VB5/ScMerTBRE2ilNZgtZ6gpDsGRo7UakJoHrZcCLU3aFFh5EQZRdapSEZkxtbeLm4pPQqwF5ZJc7WGPdBex1h71g41xnKvKTatmYGteja7NAstTSA9azlibTFZP6Qeces3tZcl5y6IMvcAo24N1+HdI69iFInDiIFGsOqy5PCju2k28LTC3ckaTfgDbhTYYYb9KTyMFI0cgQpnu2Ijv8PDpvbSzLoX9qzRg+nXw09AZ7LuBszsaJg9awuBGN+QANWBM9G3gsTAMkJcgD2DbvvSxFnWGQ4dxnv9Kn1T34e9A2eBa56E3l4DlcP71PtwBhgFlzmtRH1Cqme4Dq+Das61BI6UjJXKR32jA4Ayip+8cWBLwFKeUlgaYJ28tcJS182uAueLJvdFmtVppSB5A9QaeCtX1Ai031ETitakVJdaWTG+l/fDYeB9Mk+dMUHSNhNlSTGwW/AEwzR0zc5+2TTkLsa3oZoBa9298+cONz2bfePBplhvOw041cB6Q3jmexLwcT+srjSeyA1ue/kCwPK1SsceIBg08LG8DuB01AXzsyU06IyKp4BnU/zWlK0ujdQeeelSubLAIypuMtUCHqHTUyyUEZPbs9g8DvgPdMpPLdmlSwkAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":2,"bBoxWidth":60,"bBoxHeight":56,"behaviours":[{"name":"config","type":"behaviour","uuid":"80ff579b-5f2d-470a-bb11-320b4deb2c4a","props":[],"code":"tag(me, boss)\n//tag(me, ene1)\ndmgCooldown = 10","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"movement & logic","type":"behaviour","uuid":"934c1a13-278b-4b2f-8f23-9914513088d3","props":["xspd","yspd"],"code":"\nlet t = 0;\n\n\nlet inited = false\nlet eyes;\nlet body;\nlet walls;\nlet pivs;\n\nlet spawnEyes = true;\nlet phase = 0; // 0, 1;\n\nlet targetX = x;\nlet targetY = y;\n\nlet curTransformID = 0;\n\nlet fillPivs = () => {\n  let ps = findAll(pivot);\n  const l = ps.length;\n  pivs = [];\n  for(let i = 0; i < l; i++) {\n     pivs.push(ps.splice(~~(Math.random() * ps.length), 1)[0]);\n  }\n}\n\n\nonUpdate(() => {\n\nlet p = find(player);\n\nif(!p) return; // the easy way\n\nif(!inited) {\n  inited = true;\n  eyes = [];//findAll(bossGreenEye);\n  body = spawn(bossGreenBody, x, y); \n  const d = 40;\n  walls = \n    (new Array(~~((roomWidth*1.7)/d + 1)))\n    .fill(0)\n    .map((_,i) => spawn(bossGreenWall, d*i, y));\n  fillPivs();\n}\n\n// lerp body\n\nlet centerX = eyes\n  .concat(me)\n  .map(e => e.x)\n  .reduce((a, b) => a + b) / (eyes.length+1);\nlet centerY = eyes\n  .concat(me)\n  .map(e => e.y)\n  .reduce((a, b) => a + b) / (eyes.length+1);\n\nbody.x = lerp(body.x, centerX, 0.3)\nbody.y = lerp(body.y, centerY, 0.3)\n\n// add eyes\n\nif(spawnEyes && t%15 == 0 && eyes.length < 8) {\n  let eye = spawn(bossGreenEye, x, y);\n  eyes.push(eye);\n}\nt += 1;\n\nif(eyes.length >= 8) {\n  spawnEyes = false;\n}\n\n// move myself\n\nif(pivs.length == 0) {\n  fillPivs()\n}\n\nif(phase == 0) {\n  if(t % 240 == 0) {\n    //let piv = pivs[~~(Math.random() * pivs.length)];\n    let piv = pivs.pop();\n    targetX = piv.x;\n    targetY = piv.y;\n  }\n\n    xspd += (targetX - x) * 0.001\n    yspd += (targetY - y) * 0.001\n}\n\n// walls\n{\n  let dx = p.x - x;\n  let dy = p.y - y;\n  const l = (dx**2 + dy**2)**0.5;\n\n  dx /= l;\n  dy /= l;\n\n  for(let i = 0; i < walls.length; i++) {\n    let w = walls[i];\n    const d = (i / (walls.length-1)) - 0.5 // [-0.5; 0.5]\n    let f = (d * 2); // [-1; 1]\n    f = 1 - Math.abs(f); // [0; 1]\n    f = f * .6 + .2; // [.2, .8]\n    f *= .1;\n\n    let tx = x + -dy * d * roomWidth * 1.7;\n    let ty = y + dx * d * roomWidth * 1.7;\n\n\n    w.x = lerp(w.x, tx, f)\n    w.y = lerp(w.y, ty, f)\n  }\n}\n\n\n// eyes\n\nfor(let i = eyes.length-1; i >= 0; i--) {\n  let eye = eyes[i]\n  if(eye.hp <= 0) {\n    eyes.splice(i, 1);\n    destroy(eye)\n  }\n}\n\nlet da = (Math.PI / 2) / (3 - 1);\nfor(let i = 0; i < eyes.length; i++) {\n  \n  let eye = eyes[i];\n\n  const calcAngle =\n    -Math.PI / 2 + \n    (eyes.length-1) / 2 * da - \n    i * da\n  ;\n  const angle = spawnEyes?\n    calcAngle\n  : \n    eye.angle = eye.angle || calcAngle\n  ;\n  \n  let tx = x + Math.cos(angle) * 60;\n  let ty = y + Math.sin(angle) * 60;\n\n  eye.xspd += (tx - eye.x) * 0.1;\n  eye.yspd += (ty - eye.y) * 0.1;\n}\n\n// hp\n\nif(eyes.length > 0)\n  hp = eyes\n    .map(e => e.hp)\n    .reduce((a,b) => a+b)\n  ;\nelse if(phase == 0) {\n  phase = 1;\n  hp = 2;\n  tag(me, ene1);\n}\n\n\nif(phase == 1) {\n  xspd += (p.x - x) * 0.001\n  yspd += (p.y - y) * 0.001\n  \n\n  if(hp <= 0) {\n    persist(me)\n    destroy(body);\n    destroy(me);\n    walls.forEach(w => w.destroyClean() );\n  }\n}\n\n\nmaxHP = Math.max(hp, maxHP);\n\n// my physics\n\nconst f = .1;\n\nxspd = lerp(xspd, 0, f)\nyspd = lerp(yspd, 0, f)\n\nx += xspd;\ny += yspd;\n\n\n//x += Math.cos(Math.random() * Math.PI) * 2;\n//y += Math.cos(Math.random() * Math.PI) * 2;\n\n});","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"43aaabaf-5370-4595-b6d0-a7974149dbf4","_type":"BehaviourLink"},{"linkedBehaviourUUID":"24f99798-ed72-4278-8ae0-68630ce2be94","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"bossGreenBody","type":"sprite","uuid":"c7991575-86c3-4e9c-90ee-267d1d0f6f94","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAABXFJREFUeF7t3c2N1jAQBuBvJQrhRB00gFjq4LxV7JkjogAOLKIB6uBEIUiLjBQRQpIZz7xjj513r+s4zjx+nZ/v7+7Gv6krcDf10fHgbgSefBIQmMCTV2Dyw2OCCTxOBe5f3z+fjfbp+1OTCZ1lHKUWTQ44eopIBd3uvxa6tn/t8daOQ9vvut3wwFHFtxTTsk008tDAo+MuEyISeRrgX48/LAGq2ubFw6uq9trGUwN7UxgB++7ng9bmT7tvH75Wtd9rHIXcLcFe2FIkNG4t7Bbqy8vHmzXlUwHPiLvGtkBPA+zFRae2wHiTe7Q+W5ZuNHTTJdqDGwG7wEQBL/33hG4C7IG1nmuj0bxXVRp0RJpDgb2wVtx18UeH9iKHAXtxkUvyyMgpgWtwkZBny2Z25LP7aQ9ySIIl4Faoe+DZoffOzamAz3B7wlouinpNBiQyNMEz4fa+UNsiW1PcBHi05GZY2tMBH6V3Blzt8o5e0hHIkATPujRrYbftUNCIc7EbmLj70wCFvHf7VHM+JrA1portMiC7gDPf7yrq36RJFLI2xQRuwNwTmcANgJGvOddeWRO4EXAUsrRUE7ghcA9kAhN4vwLSFTTixfrGtW+2O9RF13I+PlumTQnW4BL4eL6kBiauP+hpgbW4TK88CRDI61umo2W6aonWAl/pFSSZMu5ZNRRYi8v06sjRCS573UuxOsEE1sFpWw0LzOVZRxwBvJdiVYK16SWuDndp1QIZBkzcOlwUsvSuDwgwcW24COSjzzgtF1wE9tlAtvYs1eHATC/E2PwZZQJj6h/eizXFbmDpCpoJxth3AZZw+dQKg1t6ITCulml7siCbl2hNeplg7FwhMLae6XojcDoS/IBqkblE4w1CeyRwaHn7d07g/gahIyBwaHn7d07g/gahI0gHzHthrDeBsfVM11tKYKYYN08IjKtlyp6aAZej1z6PZoJxc4XAuFqm7AkBvH4DvPieLG2K+cI/Zr6kBCYuBrf04gXefnwFkmACDwwsXWwRF4fbJcEExgJKvTVfogkskWD/T2BsPdP1lgqY51/8/GgOzK8LxiOe9egBNn3Cn8AEbluByffGBBP4nwpI37TjepLFiyzsbKtNb9l7V+Ay4PJjyfzTVYDAujoN2cqCmyLBZRBM8fmci8Itew09B68HTuR9ZCuuJr1NgZnk/4GjcZsDE/kvMgq39Oj6QnDPk6y9g+BSXf+ujXX24b+6gga+eoqRyZXS22WJvjJwa9xuwFdERuNq0tsV+ErIHtzt7dByPpZ+EGtp1+w++OhWf/aLrghcbXrDE1x2oD3A2aC1xy09V5W+ZEXaXkxw6SDiSnpvYCMgo+AkmKOluSa9qgR7gWtSnP28nAE3BNiLbClMpjRbxq9J6FGbo2W5Fled4GUgrZbq7YH3xG6JewZbe/Wsvorem2UWaEShWkMjxqxNcgRudYK3g62FjihYFHrEWC1LsjW5rgSvByp9fnj9vq3IoiGhI8e5hyylV/tQY69v1W2StMxIyOvt37x/K3Xn+r8HujXs2a2QN7mwBGsuwLZi0ciuGdJw48jkwoFroa+MLMFaboeO5iVkiT7qXLN0Xw1awvWcb8POwdKqJkFfCRn5EEOqu/s2SbMD7a3VFZC9LxxY6h26REsD2iZ7ZuQeuF0SvIe+hp4RuRduGuDtg5NZkHvCht0mScuy9v8fP3961rbN1k76Td+W4+16DtYc6CjQmVDXdU0PvF2+NZMiQxv0/az1mIYCrn1aZi2KZ7sssOnPwZoiSw9QNH0g22TDTXkVbSl4b+iMsFMk2DIZrrbNkOfgqyF5jpfAnuoNsC2BB0DyDJHAnuoNsC2BB0DyDJHAnuoNsO1vTBshtSSG06AAAAAASUVORK5CYII="},"originX":60,"originY":60,"bBoxX":6,"bBoxY":6,"bBoxWidth":112,"bBoxHeight":107,"behaviours":[{"name":"config","type":"behaviour","uuid":"4679091b-4d86-4a06-bbcc-f895f435e5b3","props":["f1","f2","f3"],"code":"//tag(me, ene1)\nsetDepth(me, -1)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"bossGreenWall","type":"sprite","uuid":"700cee5f-c053-4e98-a4a4-fa6544db3d4c","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAptJREFUaEPtmrFZAzEMhckm1PRsQcMwTMEwNGxBT80m5HPhfM5Fst6T5LOPQMudrV9PkqWLTw/Jfy9fT7/JS16W+3z+PkXXDi/QGjAStt0nAp4CHAF9/Xm7sHw8vlMCesDDwB7YFlIiHAnuAvZAFjALtIVnocu7iOIUsBe0gowGrvv0wGHgPWGr4R6VLaX/JHAPGgKOqsvmb1ThEHAG7N45fEjgYrQ3h3tNSjekM9VtjUCqdQaspHQ6sAQjGd+DzoKVjikV2KOupdwWBHUO1W8KD7fn8g2wB5QpSi30YYEtZbdO16CzQ9kMaa+6dwXMwm6bish4iOa2msMehf+BQbfXfD2Uwl512y5qu8aIwpUW0ncHnDEFZZ3FVmpUla8aj72KlpS/vbNaKwtWhLXpkQbMqmx1Wgi4BSrN0zfAHnUjExBqNFj01ceqg6+Ao7AWODstRSHb94cDo8ayCnuddjhg61xG5+phIY0ojKprwVoFU63SvRwuxiEbI6DeuRlZmzqHLeCsD2qWIlKxQWCRZ+CQtjyHbMYom+nc1jYXcMQYNG8je/Sc7waWupjeRgwouzYTXXCn5TGYMQRpJSPrlXfF8VArXHsCZ58G1VHUPDwTOGt0pICZoyQSehlTlLb/0sBMRKEpQAPvoXIxnoFlKvpdAW/ve1CfeDwKRPIafbcX2iHgPUIbhUT77jDwitBuhQsM+rlnpfDWgKX7WuHfh1cADwEzKrd5NBNcAtZu46VeeZiR3wxssS/9UotWZUdFwLLA6HHDOIaFNRX25jMKF4kGDywEPAtaqwdMRZYcCl0unQmNRAtyMbyuAwPXF9DGBDE04xkGFg5pybAVwFnYEPDMMPeAukN6ttoR2LDCVg5mhn0UNFVhC3yl/58B4KflTO+fjyAAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":1,"bBoxY":0,"bBoxWidth":57,"bBoxHeight":59,"behaviours":[{"name":"custom code","type":"behaviour","uuid":"55fce702-d219-48e3-aced-5764a7f94af2","props":["destroyClean"],"code":"tag(me, ene1);\nsetDepth(me, -50)\n\nlet _shadow = spawn(bossGreenWallShadow, x, y);\nsetDepth(_shadow, -60)\n\ndestroyClean = () => {\n  destroy(_shadow);\n  destroy(me);\n}\n\nonUpdate(() => {\n\n_shadow.x = x;\n_shadow.y = y;\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"bossGreenWallShadow","type":"sprite","uuid":"c657eb04-befb-4835-8ba2-5e90e63e62fb","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAi5JREFUeF7t29l2wjAMRdHw/x/drqRAyWTLurLIcPpWlqXgjeSYtH4M3/v5Cb70IzifKd1XLjoMQzTea7Lp88m+YC+4z2pJnVPmxTLwRsjMOaVdLAsvvZWzPi0ATbek7UHZeFvvoluhdEv8nMUR8LreYHoCHg2vy/oYDXhUtGVbh807KtFZ4MLbOQLwjHhh7awCnhkvBFEBvAKejAjg/6rosnAFdXyaIuzX5VCXhSvoooCudvYAXmnt2ytbs4t54EG/msl9W0hgsjENuiGeuZ0tgHdoWXcr1wDvjGeqwhIgeIY94h4geOum3rTaehG8/Vvzymv5AnjljVEREDzbrnKG+PkLgAIgeDa81dbmVYEAtgGOoyc7ANvhZn9XAVADpAJFPwABVAXEeNZAAEUBMXysQPaAAiKAAt5rI00FCohUoIBHBYp4AAIYICCmYA0EUBQQw6lAAEUBMZwKBFAUEMOpQABFAS38QQUCqAmI0VRgBOCYg2eCPsmpAgH04U1PswD04wGo2U3R7wqkjX2aAPrc3lEzQKqwXRPAdrNZxAqQKmwT3QQE0YY4+xffZQjfTOqIRUCqsAz4Ph7Cac16pS1H7B60KaWipf90qmflap/HnSHNpzVBnAsUl7naGnj3tq76VAfUyvHCD2NNNqZBBsSrbXvMLuaBRsTPYWe84TR7NAc0Qp4F0e3gDmyAPCpiyNxDkhgxjwQZNu+wREbErWHZsKFzDk0mIGbcfLrM9RdYp1A9g6Ud2gAAAABJRU5ErkJggg=="},"originX":40,"originY":40,"bBoxX":0,"bBoxY":0,"bBoxWidth":80,"bBoxHeight":80,"behaviours":[],"_type":"Sprite"},{"name":"poleWall","type":"sprite","uuid":"144828b5-744f-44c4-a975-c7cfef8d5dcc","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA8CAYAAABxVAqfAAAAAXNSR0IArs4c6QAAAUpJREFUWEft2OsNwjAMBGC6GQsgugfzMAhiQFB+BEUlft6ZCgED+OPaxHWyrMf1cdjhtzDh0+X8inC/3tQ4IbgX3hYdwa7RYClNBm1/zpV4W7ynmaGtqJXWBUuJJJQCa8WlleNJqybOoN60IpxFIRhB/7DWut728Vc+au9Wmq7qbOII+v1wNC0lcQaF4SwKwQi6C9x3TbqBeBOP49K4VUthrSdMRx9vE9FSWxNKCWyh8CAwS+xB6bAXpcIRlAZH0XJYW/XiScKzpVrh7GkCgpGhng57WykV9qLUI0wEpcFRlAJnUBjOoh+BpXsTaFVbibVboDJYujfpTacEtlD6O470bdroE0GhuXq8dqB9j1tR9LNo3YdAi0u7avg92GouJY/aQuF9PHvHHpQOe1EqHEFpcBSlwBkUhrModIRB0PRHAkVTMAMNwyy0wU/x92OlrVL5SAAAAABJRU5ErkJggg=="},"originX":15,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":30,"bBoxHeight":60,"behaviours":[{"name":"config","type":"behaviour","uuid":"39c42f82-9f7f-4839-9f7a-6e22d74f4c13","props":[],"code":"tag(me, wall)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"edge thingy","type":"behaviour","uuid":"f2c99fbc-bb2f-43b0-aeb5-e8792bccad5d","props":[],"code":"// spawn walls outside the room to make the magic yoyo work\n\n// if(x == 30) spawn(slab, x-60, y)\n// if(x == roomWidth - 30) spawn(slab, x+60, y)\n\n\nif(y == 30) spawn(poleWall, x, y-60)\nif(y == roomHeight - 30) spawn(poleWall, x, y+60)","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"menuMain","type":"sprite","uuid":"57477da5-e472-422f-afb4-77b6840b9de1","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAfFJREFUaEPtmVtuxCAMRcMKOhtrF9vZWGcFVJaKhKhfPOLgjPvbIfbxvdiQpOPN/pLEm3PO3G9SSuIzpBiW/xeTlYAhWU/QS4A9QQdwu580lg6FO7sQVtSz+sIyS8+oHMAndv5QeLRp3drS0FCo7j3SbFY+S+qXQ5a2Bv7Jn+jx9pGeYv5tAcQFVAddpQo356GwFCyAuAPmYF/Hl+ROW2DIZnZ+ugbmFKGshwFrlC3Sm1q6VViTaJvg7YHrRkPZWVM4NwoX4Ba2B7LuZNtb2j1wvY+1Kn0c3//GjbQWlMTmsbnCI8CwpoaWYIsrtgEu0JrEa2kLtLSuqOgeuChNAZeClMvIVsCQPHfmFc+IyA9cAkPSkmWxYtR73JXC2n3aQrsHBqAepd0C13NSu8fbOc1ZeuROPPwCoLWhpotqoHuBe6G3AsZOYZLCvRcJU2BpfN0SmIPGgOH30rutHlubK8wdQqQXelyxtBcJN8BFaQo6gAkrbaVwfd3E8l1xzNwOWAOtmflUrxCBtTedmSSwGNyXjZlYAaxVdORo2fPsUPivWtQhZNlY0qoys6+oGNS3q5lY2+5hrtAB3PGtOBTW7tmzu3RYelSJZp1LS8+wLwOeScJybQBbVvuKWKHwFVW3jBkKW1b7ilih8BVVt4z5dgr/AhI1TlvsZbNxAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":8,"bBoxY":1,"bBoxWidth":42,"bBoxHeight":49,"behaviours":[{"name":"custom code","type":"behaviour","uuid":"9e18e3b2-4909-4de1-be54-86493428db1f","props":[],"code":"let options = [\n  \"start game\",\n//  \"credits\",\n  \"remix\",\n];\n\nlet callbacks = [\n  () => { goToNextRoom(); },\n//  () => {},\n  () => { openRemixMenu(); },\n]\n\ntext = \"\";\n\nanimSpeed = 1;\n\nlet selectedOption = 0;\nlet prevInput = 0;\n\nonUpdate(() => {\n\n\nif(inputY != prevInput) {\n  prevInput = inputY;\n    if(inputY != 0) {\n\n    selectedOption += inputY;\n    selectedOption = Math.min(Math.max(\n      selectedOption, 0), options.length - 1)\n    ;\n\n    playSound(sfxInput)\n  }\n}\n\nif(keyIsPressed(...A_KEYS)) {\n  callbacks[selectedOption]();\n  playSound(sfxInput, 0.5)\n}\n\ntext = options\n  .map((x,i) => i == selectedOption? `[${x}]` : x)\n  .join(\"\\n\")\n;\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"},{"linkedBehaviourUUID":"497fb56c-396a-497a-955d-5714cf543481","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"input","type":"behaviour","uuid":"497fb56c-396a-497a-955d-5714cf543481","props":["inputX","inputY","A_KEYS","V_KEYS","B_KEYS","C_KEYS","facing"],"code":"facing = 1;\n\nA_KEYS = [\"KeyZ\", \"Space\", \"KeyJ\", \"Enter\"];\nV_KEYS = []; // disabled\n//A_KEYS = [\"KeyW\", \"ArrowUp\"];\n//V_KEYS = [\"KeyS\", \"ArrowDown\"];\nB_KEYS = [\"KeyX\", \"KeyK\"];\nC_KEYS = [\"KeyC\", \"KeyL\"];\n\nonUpdate(slf => {\n\ninputX = +keyIsDown(\"KeyD\", \"ArrowRight\") - +keyIsDown(\"KeyA\", \"ArrowLeft\");\n\ninputY = keyIsDown(\"KeyS\", \"ArrowDown\") - keyIsDown(\"KeyW\", \"ArrowUp\");\n\nif(inputX != 0) \n  facing = inputX;\n\n})\n","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"name":"gameTitle","type":"sprite","uuid":"84c6f14e-9cc4-4e98-a8e5-7cb8cb893baf","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAB4CAYAAAC9x4bVAAAAAXNSR0IArs4c6QAAFgNJREFUeF7tnWG227YOhJMddGNdbTfWHeQd3We5Mk0SH0BQouzpn54TUyQwGGAAyk5+/9J/QkAICAEhIAQWQOD3AjbIBCEgBISAEBACvyRIIoEQEAJCQAgsgYAEaYkwyAghIASEgBCQIIkDQkAICAEhsAQCEqQlwiAjhIAQEAJCQIIkDggBISAEhMASCEiQlgiDjBACQkAICAEJkjggBISAEBACSyAgQVoiDDJCCAgBISAEJEjigBAQAkJACCyBgARpiTDICCEgBISAEJAgiQNCQAgIASGwBAISpCXCICOEgBAQAkJAgiQOCAEhIASEwBIISJCWCIOMEAJCQAgIAQmSOCAEhIAQEAJLICBBWiIMMkIICAEhIAQkSOKAEBACQkAILIGABGmJMMgIISAEhIAQkCCJA0JACAgBIbAEAhKkJcIgI4SAEBACQkCCJA4IASEgBITAEghIkJYIg4wQAkJACAgBCZI4IASEgBAQAksgIEFaIgwyQggIASEgBCRI4oAQEAJCQAgsgYAEaYkwyAghIASEgBCQIIkDH4fAv3/+/rM79dfvf8Txj4uwHPpUBJSsnxrZL/TrKESl+xKmLySEXL4dAhKk24VMBrcQkCCJG0Lg3ghIkO4dP1n/QKAnRrq+E02EwD0QkCDdI06y0kBAgiSKXIGA3lfmoi5BysVTu/UR+PPvn7/fVmS835EgiXpnIqDr4TloS5Dm4KpdXxGoClEJ0ogwSZDSKPf8huJhR9WJAl6LbyNcTovkDTcS0W4YtJuZ/FPgapNRoiBRwduOPIvztcK+u3yWDR6q9OydYXfrvAxspmJvidEGlgTJQ73/1mYEP3aynvoGBLAY7WAEEhmf8dfvf2YU1mMcSVE/rl8h/862+S1eh7iMYkP3HmpMiCA9RGnonJUKhOVzIG+r7q2QECvhLltyEcBicXNB8hb10cKbFaWo3dG60Z1kK8LkOce7d1gsrOJ84PLsBiiLB819qK8D+ftytifgKc57HSwPzVLiFGe0SQ+BZ7Ej13VFElNeus4oCh49A/k4SAXLlhnvdaJi5C7kNOcHJiWz8Wns7fblEWfPFfFtRYnGLbNGW4kwmGf/PR51rmVApJuiNkj0UsL+UvCoKD3iSnl5lSCFfKuhavhLRINiVR7/UlQ7BbtFBvNcmm/HAwJ5bYpRZWIpfTJ9KR74aEGKxK0SQy+mP1tYD5GEMKsXLUbmRocFsONBxOmInoWPx+RvWxsq2osLUsgnEviK357cc/HU+MoyMZfUju2LLB4ffs4NTEkZgoT82aej7f+kpgXE9Yj9zC99NGMciVmj0XJxct+j9ZCr86QMzl7X6+oIYYg9s6clSoDZdhAsnGveEorGxOGri6cDV3bThKjXvR/xAhMMLgBnCBLldckppyC54g8mJSJMIwK4xcgt0jDvcPxb+0VjltnQ15zAgEOgpi2rkZcWPa9RjiKJto4GP8OOgbNL33pJ8CmCNF2MjqBunO5xGN4MDHXAQPzMwh3lWGNKmtI4B7HE9RHi+BJv+kynyISFaSRmWaJUGh/qOFAFnrDoroI0GviIKI2eWRbNIpzNxqYMO2kYHP65+BqYkE4Vo70YBwXJFIltAeEBLIrdwkfO6RQx2vi44l87LyBKaYJEcmGkbDryCPEiYovHhhqBMdgR47KfKcm0UoAbvg690ypEAXVCI4XBUTCaXLqxIJ0uRjQ/AkX0uTXhAxCk6dyDzcOwIDUmsmMoqk07qTUWjmQPyoneOksUCCdG7LDOb4GdEtwRwz3Pnjkd7XZ5gK34kir21JZZZAN3/dW7cpKE1LfjfTzct1dojp+Frxs9HI6ujQoS5YJVSMGXoX5co+eByWXKlV3R4PXCcTwf5/EZ77gJh6x8GolTxvkfKUikIBHwRjqN1lS0/3m2jVcS7ZsEKTtuozzsdPUp12iGIKHp6OBj+FbgYMd0QXJMSrcTpIdvVQy9YnTkBs0Lq06ZgvTobjLyZsoeV0xHvaB2nJw6dRqBDhcCEjTQpd91Qlr2qg509MOClDUdHQVppCF72HOKIHlEiRTjVSakDEFq+QJxwE3M2yg6Qh5SyEbWZAU4KmhGcpSunVLYGqKEu7hIPGAH/ZWCZBV0ksA0JpWzVhOk4YbsbEGCooSavax6Rfngvd3xTEcjguRp5puCtJIwZSX5KEGigpRZhErStQRp8pk97u+cuqMghZsIi6Mz8ukbBMkoZsOC1yKycQMwLEhn3kK1blKoII3Wzaggbc8N/2iLFEKavLQzIGdanQ/ZA9xp7yanFDZiUyXY06YjGLevEySIyw83SEy3/ci6CqdXmpDSxKJzNZ12RqXR65YfEh+LF2QPWgOvmI48TRZ9j9T8HVIUCAKyFSjv2RlnOvew7kRDglTiQmzasToE3CVI2bE4fAPrbhNS+Jt1HgxJTCVI7xWgdzVNhd5bV0YnA8oLwgmv7dZUkjEdnSFIw1MSAZcGigYh40znHqsKUqhjTIxHyhUw7aaSv/YdEiQvdh6eedY+cmWVCSnUkHm7/Ej8CaaHJq9pEtnHy43ysMEzzuCCa+onPxcwv71CRcGplt5tlxifZ17Z1chLCHkE5riH59nRxDnYcFdBColR5crsGI7q315B4rLHw7O2EYOXvCFdMeCCqxnLnF4qjYqrAfPgasQWXakCLIcEr2OjFSP0GzFqv5OnXdssw93vlJzGpQhTxpnOPTBuZN8e+enz5R6e56zkg0FC17/ErgsmpHBH30jaZqMH/cedZyV2TW5eIUjEX8iv2j8LHhIkj0i2ijLxixb0mv9k/0beWrVp55ZZ26n9xFbazCPjG4Q59R1Bj7QQkG73DvfYzbBwcyXKCoK0O0ZJWMSjOg1EE+0uguQUow0O17ezCCc9RSlBkDDvPUWfCtLD12oeE6wiNwgrC1JhmxWbGdMybpyorS4nCuLcWZB+isPuDyFzkfgWbq69iQgQG0e+FNEqCoZtPRxG+OGpURlJ4YpXR7xNXnjiSNY2bKnacaYgeW13rn/7Jid5fiQ/Is+SvH68VwldGT/2tzhXzaUELjz3DWDftDnkzMOS0YJDzjbHSgJGpbOSIDlLfkCYRvnhstDBg9qU6xakwHTknpA8U0bFnrf8GixCOF9pLEoxpc+V3yilOEVE5UhC74Tl4IgE6QE0IVmrMGQUHOv86YJEk8AxIbnfR5BOitpZ24s+aykAsDPlSw2WHSOfV+6y3fEquFATuGbOkFh4Cx+xh4hRYx/qn1vUy/MINgcR27jmOjMjN/Y9iK1RQSJ7H7CzaqgmJKtg0Bdc1g91aeBaE5Lz+aNb6KqK7g8KPfpWT6+gUFt6sSN2ZvwOyeLP6OfFVYdbkByFpjTV9Q5pf5jErmcTFaMMQSK2tqYOOumUkxV9LkOQdoyInw6euDl4N0GqcKtaQ0Pq+iBExoS0bYWKe60IEVKMFq8a+Ts2jxDLNJX42xMN8rxlBBSl5jYZNlg2Wp+3fKC2OQrNtwiSa1Jp5NTPH9MYlAWOPDcad4tX5ecOnrjxczT1NbNDjVHLf4K9BMnLns56cj9finQwSF2ryZ6WYJA9CHTWOaPkJTZE14wWJkeheTGRTirRdx2jE4ARU9Q4Un5lNU4JV2guEfRwzsGTJQXJ4ytZW+Cx7ITUm5K675Ao+QlYrTUOUm1bjBDLNJP4S4SC7GMa8+vX9rsQsqwsyu5nsh8YKdwdn83bhhsL0mlitMeacjRDkLyTGeWjo3a46gYp7IaNaEKifnrWWZOdmUSdw8JXdnR8y3yH5AHtuNZBqpAgVbBomkqS1CMSZL8ebp6zvIUmGi/rudWnoxYfSKwmCW2vYXxynti3x4bwhu6XJUgz+OmoHWcK0s9ZFF8rn7yfzxSklwLsDShU+UsnJGc3HHp/BMTvuYSSiCR8SSS6d/mc96zoOV7it9aPCJKTDy8mRKejwbxChWfkqi4ST8oZuve2H1lLziX7UC5WzmsNAKcKUqaPFItKM5J+ZVcVJKq+HyZIw2JEhIkSiSRei0j0DGJv7YzI/l7SQzFK+drw4yzzpuEDBSl07ePhJuVKpiB5G4AeNyVI7+hYdd9MJFAMRn7UtW9vdg5ZHT3wp7vkAWj39zY0kSxbolcwnqTPEA3PeVnYWNjVPq8kw0hnejzCzCMiSBaOFLvjPuSZwOQXEqMNMMvHSJ7PECTaWEuQfJl4hiC9TUrBJKgldfPKjpzhg8q3uvZr8QwSW9098dub9GeK0iz7A/ueOSGhAm7Fjfh4LPre9RUeNHOS7h2dpD2TigTJVbsQF107OhafJUgvokTICsfZZQWp1e0R3x3xCy21CptnU+oPPZPsR/c6+hHY9yxBwi+Rid/ET098jamlFCTsi9eGkfVBQdp9m/aeGta4Z+2ksbWKegfLJeJ3sP+t4TGvGhxEGb3+SJ+QKFEdPlaX7gBTQo2eZz3/mN7Mv3bJ2scz8ZFiSveje3m66ErhlSD1r9BSpyPCtdlrHIU87Z0wPNMlFHDPGpyuc2bF4wxBcgcQdg9DE1J5xizB+GRBoiJidNpPbpMYfJAgjTZpbzWB4OcpJI73R0sUM49v5VpnIXfXtJptHi6T2ML9us194jmuvD7i8/Bj2oTkDt4VguTtqEfIf+WzkLTYRELgZEEik/tosX+5siE+Oor3ju2ojfs+z2mO2EkDa/Dk7Ys7mWdTGzPXOQVpO9oVv5atNB8JvnSvhy0vtwCe+uc8xy1MMwUp41t2m0NTrux6hCYEyEyIfa/ZE1WUTKNYkXMJ5vAf6HMVi04DhDv/qCARnw1BP1uQPk6MKviSpidFlEhebAcRntC9zsjl2hnEh0MspkxItxUkT8eQJUxnXCO2SHski5fYhGhkT7gPKRZYSBrF/qXoQrt6NKh+AYAWmo4gue2kXIUC68KZnn3FusCE9CJInlge/SN5Qfeme42IhdEcmaEjufQ4Q4Jkogk7FbJPbQ0Ri+je5QRGBJcSnJCM7AX3mS1Ib/tn/E6omPJdhRyKw9ZFp3xZBZ7n8uGsG4BofgQFaViUSF6MCBJtNEnutWqIB3N6Tu0mhCS+ZcvpE5LDYct29Dk9z9osk5i9szxTWKZNZC+CpefKDu5XwjVLkN7CQuyD09HP3hIkK8van2cJEhUPOmlQjpT79Z7z1ABP40zRJz5JkCialXUEYI9IUFMi5x7JSJ5PFBLTLWgPaZTwD/w674+e9tJCT7A6ggD9reFWxYDa2QoEsD98RXjG9G8SzFhwsJFw7LhbdTK14tvD23rWEopZggQ4YoaB+DZLkDbjTv2WHXTWBC2ygJxd7psR4H1Pcv4XCJLrKukqQSKx8kxHBw6Y13ZBzr29Bxv0YTPZKvymL9QGks8DgvRW58rz6NWZJ5dbtYRg4q0D+1mVSdKMUQ+LTnM05R1SSJAqiYi/ZecNBiFqZA2xA/ppkt1D4igRIxgcnyFFkGAGruxGpqNmkaTTB/FzO4T42hCkbhG37KT2VeIdEiT4PqpFL1zsKJ49Hs8UJE/+ZPhinRe5tmtca+IYOevUNEF6KagUbHin656+Ol2nFUP8edBHq2M0A0/OlSD9F8ZGsUy5Dsu6oiITXI2YpTANCFGLl2gS9WBc8cPkvKfIWQk8KEi4cbTsIHls7WF97hWkTj3GMfLEauaV3W7HyG9DWl3hJwmSdX1hEp4QWYL0fzpGOndr+rCKgPfzqBgdznEXi4aNzfzzvKt47E14/lYzCHaE/xMnpJDNjWaCuDu0hjZMkIMunpE4SZCGwvv6MAS8PJEkajfwkXPJM6PQ0O6c2JJ1ZRfp3G8oSGYTA2Lb42W1yTTiTXgeKu6EPycIUsj20q5RX6y40pws9kGDgXU28e0MQXomBzRo98sisHtKKkZzl7pbYO+fWz7CK8nyONNWb8dq2Un9hYne3Y7YAgTph2deHGj3fpYoRQSzAa7JmU5QrNzzCh7Zz815mnMWlxOu7KwjcCxILliHtT5PFiO3ABPfvkaQsl7MWWRwFkRPooanJDqmW755PveQP0rUij0RQUIxOEOQEsXIXSwOWCI8HutJofXsdwwp2ftnPeEPaJyidtK0OM2fkwUJNyckTmcJktm97iA+kpKSA09JRheEyULZdwQ/qdAgG4tzX34/UtpOCEL9Pa4z7p+jP5p2cQLgv5lM99wLH4pBBLPtmSSeRCcNFxbFITVcRvZzCeoIj0+Yji4R2ZIErX881OCqN4bhpvlQ/6d+y+7FX9JlwquZLmGNYkRBnll8qA3R4tIqtiExoAUWxi5kA9zbU8hCMSAcpngZIu4WTOPcFp9DOER8DD5j5mGCIJ2NARLwDK418sbE1NusPWJ7L0HajO6B7Cw6nuKzr40QjwTPm2sROzz+WvuHRKHlZCBurvMD+/ewsrBBscwoFoeusHZmip3ImXssChe7fQpqNKrL4xzhGswZJIwOepi1ErzSOG9CmiRI27YmEEHFJ7EgZx/3yUqAbDIRXzPXeK5bszDLtD/l75CbdE2X6udim1V5bzS6WYLvzfXFoAuZ48k9Ex9DkKpneQwIeVgKE1RzctZVRdoMxMP4U7AlQC20pilMibyY6m6wg23ZJI4MROsYiw5/aL4OWPIVj9a4irD1TKtKiDiX7npPH/dYTx4RQMnYgEx5F+fSCO7xU/XkTASe+aDEmAmz9hYCQsBCQAJjIfQ9n/+WIH1PsOWpELgCAZfgjHyL7grn7nSm5/eCV/klQboKeZ0rBD4PAVN8JDhrBn0VsZIgrckPWSUErkLAFJXNMAnLVeG5x7lRgZMg3SO+slIIzEIACdB+uIRoVhg+d1+POEmQPpcH8ux7EHCJSgsWic33EOZKT3sClSpIxe8CzvA51f4zDNYZQqCCQIqgeJGVAHkR0/pMBGrClFLQA7+czvSr3CvFp5kGau+vQeASoamhK/H5Gs7dxtFvEaTbBESGCgGJhzjwzQiUojQ8TZC/SsXzUuuTgqOu9JOiKV+EgBDIRuASQcp2QvsJASHw2Qh8axM7I6orN8YSpBkR155CQAi4EJDguOCatvhKsZryDolc2U1DUxsLASFwOQJfIi7DrzcuD9S7AelfuvEIXO1fmx4GWYK0IM1kkhA4AYGbCtFwzTsB2hWOGBarljjVhGh3OCM4fzyquALSskEICIE2AjcTmowaJjosgkBGMCVIiwRTZgiBCAKLCVBGTYrAoGcWQCAr+BKlBYIpE4SAhcAC4pNVcyxX9fkNEcgix/O+Udd3N2SBTF4SgQXEYxSXrPoyaoeevwkCmYR5eQkmYfqPAR9QWG5CZ5k5AYHMGjHBPG35SQhkk234mxmfBK58EQI3RCC7JtwQApl8FQKzyCdhuiqiOlcI/Po1K6+FrRCYisDdiCuhm0oHbb4IAnfLy0Vgkxl3R+ATiC+RujsLv8f+T8i374mWPD0dASXI6ZDrQCEgBISAEKghIEESL4SAEBACQmAJBCRIS4RBRggBISAEhIAESRwQAkJACAiBJRCQIC0RBhkhBISAEBACEiRxQAgIASEgBJZAQIK0RBhkhBAQAkJACPwPVRGZE1KzURgAAAAASUVORK5CYII="},"originX":210,"originY":60,"bBoxX":2,"bBoxY":28,"bBoxWidth":418,"bBoxHeight":85,"behaviours":[],"_type":"Sprite"},{"name":"sfxPowerup","type":"soundeffect","uuid":"978a2d79-b409-4faa-a894-07ca6af6153d","settings":{"attack":15.314477541265962,"hold":84.0809659157667,"decay":308.97462354171046,"freq":465.6893447699679,"freqSlide":239.86977815700266,"srate":8000,"shape":9.032030972269723,"slopes":39.38988741420914,"crunch":9.543468808560563,"subcrunch":7.22211222568186},"_type":"SoundEffect"},{"name":"sfxInput","type":"soundeffect","uuid":"b28ea95c-aaae-433d-942b-251c4f9f3092","settings":{"attack":8.755824731310266,"hold":57,"decay":35,"freq":202.1984868813078,"freqSlide":217,"srate":8000,"shape":1.0404424533088097,"slopes":-36.65095495435661,"crunch":16,"subcrunch":16},"_type":"SoundEffect"},{"name":"sfxCrrch","type":"soundeffect","uuid":"9fbf91cd-25b5-4f18-9ead-b69cbb19a52f","settings":{"attack":8.04398217050083,"hold":73.97417400760673,"decay":463.1566603274364,"freq":99.31189980263974,"freqSlide":-185.21027409409058,"srate":8000,"shape":62.11590156606265,"slopes":-50,"crunch":11.837909477872596,"subcrunch":2.265999612108503},"_type":"SoundEffect"},{"name":"sfxOuch","type":"soundeffect","uuid":"65039af7-6db3-4903-a74f-ac237a0d75eb","settings":{"attack":9.575322584822318,"hold":7.534129344776538,"decay":489.0015811451804,"freq":334.7881107669109,"freqSlide":-293.0708568535246,"srate":8000,"shape":78.47494842738051,"slopes":-45.130452842406335,"crunch":15.807325333487452,"subcrunch":11.56351391426061},"_type":"SoundEffect"},{"name":"sfxPickup","type":"soundeffect","uuid":"57feebbe-796c-45c2-b8f7-e6930ba71410","settings":{"attack":5.101389598516762,"hold":54.791255804741155,"decay":430.85311896248083,"freq":540.0002203154822,"freqSlide":140.71736074480572,"srate":8000,"shape":6.349094098164317,"slopes":1.2734197934821347,"crunch":13.895100756830987,"subcrunch":9.46719333015535},"_type":"SoundEffect"},{"name":"sfxCrunch","type":"soundeffect","uuid":"81a70e76-3447-4886-9570-7b9b2a858dc1","settings":{"attack":1.7646224511309896,"hold":129.16452701311724,"decay":1.9947629322980522,"freq":313,"freqSlide":-179,"srate":8000,"shape":20,"slopes":14,"crunch":3,"subcrunch":9},"_type":"SoundEffect"},{"name":"sfxShoot","type":"soundeffect","uuid":"dd9684c9-e84b-4ab7-bbc6-1341702160cd","settings":{"attack":2,"hold":47,"decay":183,"freq":314,"freqSlide":-231,"srate":8000,"shape":23,"slopes":-33,"crunch":0,"subcrunch":0},"_type":"SoundEffect"},{"name":"sfxJump","type":"soundeffect","uuid":"9cab8299-4cf0-4523-af39-32821e3f0d1a","settings":{"attack":3.6367269980480987,"hold":38,"decay":169,"freq":253,"freqSlide":467,"srate":8000,"shape":13.384433724181628,"slopes":-50,"crunch":0,"subcrunch":0},"_type":"SoundEffect"},{"name":"sfxImpact","type":"soundeffect","uuid":"7bf44def-c87c-4f1d-8823-fc8df8910c10","settings":{"attack":5,"hold":13,"decay":47,"freq":177,"freqSlide":-141,"srate":8000,"shape":51,"slopes":-9,"crunch":0,"subcrunch":0},"_type":"SoundEffect"},{"name":"sfxLand","type":"soundeffect","uuid":"85b72d4d-df04-40fc-bf7c-20259af13f39","settings":{"attack":3.2200957065110414,"hold":13,"decay":76,"freq":213.4217639308872,"freqSlide":464.0005854522799,"srate":16000,"shape":55.664028607505266,"slopes":-30.509432448597096,"crunch":10,"subcrunch":0},"_type":"SoundEffect"},{"name":"sfxBoss1Move","type":"soundeffect","uuid":"f43458f7-0aa9-4497-8c3a-4805add89263","settings":{"attack":37,"hold":115,"decay":453,"freq":108,"freqSlide":-197,"srate":16000,"shape":50,"slopes":-41,"crunch":0,"subcrunch":0},"_type":"SoundEffect"},{"name":"sfxClick","type":"soundeffect","uuid":"a1f2947c-1990-454c-85cd-092c1aa5ce58","settings":{"attack":1,"hold":4,"decay":13,"freq":130.5595823209448,"freqSlide":338.8918451381596,"srate":16000,"shape":67.19908051395447,"slopes":17.703392519843845,"crunch":7,"subcrunch":9.2386548798482},"_type":"SoundEffect"},{"name":"message","type":"sprite","uuid":"446e04f4-56cc-4379-b940-9ffd570f0ef5","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAaRJREFUaEPtmWsSwiAMhO0NvJin9WLeoE5nrIM0kMfyEIh/bch+2QjEbrfFPttivDcHnt1xd9gdnqwC3tKTGXrBcYfd4ckq4C09maG+aXlLl2jp1/7Yz3Xu21NVVCRWol0lhlswFBs+K4Wm4qWxnLbz+2LAKdgjkVQ0WjAJ9A8w0k7DASPtlIPVOHw8i+hQOWxtJw52KmAJ7HDAOcHTAlPQUtghHUaBNdDdNy3qxpTb4Kyb35nn74Al5y0iGoktcizFV0SJg4hoJLY4cGrB+OqIiEZiHZiowPcurTlmuEkIcQmJre5wagpCRCOxVYFzIx8iGomtBszNt4hoJBYGPsBiARwsMuJJjjwJVO6Z7KYlgaMWt7rkwJ9qWgtPmcEeS5ZkVoepn4Mlv7mlNVNOmAQBRn+jXHzyTzxqSuIWazXxSHVkWzq1u1pcHtrhqYGRMzRun9Bl7cZjOfulbX5589C7HWufxeSrFsQdaaVTz3UBRkUj8csB1758FHt7iLjaMtaBW1a7Ry53uEfVW+Z0h1tWu0cud7hH1VvmdIdbVrtHruUcfgOmSVxM5OnKtgAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":2,"bBoxY":16,"bBoxWidth":40,"bBoxHeight":32,"behaviours":[{"name":"custom code","type":"behaviour","uuid":"5d19ecb9-e72d-4695-acd3-67c2167792c8","props":["keys"],"code":"animSpeed = 0.5;\ntext = \"...\";\n\nlet t = 0; \nkeys = [\"KeyAny\"];\n\n\nonUpdate(() => {\n\nt++;\n\nkeys = keys || [\"AnyKey\"]\n\nif(t > 60 * 5 && keyIsPressed(...keys)) {\n  destroy(me);\n}\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"hatVisual","type":"sprite","uuid":"3e21a6f1-3d26-4c16-ba47-419fce62d2f7","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAN9JREFUWEftlMENgzAQBKEEGqGR/KiAFqgkLaSC/NIIjVACyJFOQiTGe14j81ieiMOj2T23zc2f9uZ8jQDZhGRQBlkD7Lw6KIOsAXZeHZRB1gA7rw7KIGuAnVcHqxpcHv2KAHSfOTuprMEY2HucfniH1/P7LheyGOA/uCNtDiwMmIoTAQzAXsgkYAosHIrCmdEAiUZOA3rhzKIA9wvgtWg9RK6o04iR/tkhHsgqgJ5lEeBZd5CoqxlE+uiBC/8rtiTIRqLf7O/IKoDoJX25QQ9IzO4lBkuAGTAFWBIkZnADvRZikx/DRbEAAAAASUVORK5CYII="},"originX":20,"originY":20,"bBoxX":7,"bBoxY":22,"bBoxWidth":33,"bBoxHeight":18,"behaviours":[],"_type":"Sprite"},{"name":"room_2_1","type":"room","uuid":"2e3ff5c5-9ff6-4564-a05a-5c704ccfb48b","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":30,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":90,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":150,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":30,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":330,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":30,"_type":"Instance"},{"spriteID":"495927a1-75cc-4dc2-a647-b5f80e7c73de","x":270,"y":30,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_2_0","type":"room","uuid":"d5584bf4-991a-459c-97ba-585a866ff907","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":210,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":90,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":510,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":450,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":390,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":30,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":90,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":210,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":510,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":390,"y":150,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":450,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":150,"y":330,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":270,"_type":"Instance"},{"spriteID":"db8243c9-fb7a-4f64-9585-68c9d2c9211c","x":210,"y":330,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_1_0","type":"room","uuid":"189f8f58-abe8-4444-881b-c68dbe6d2f5f","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"room_-1_0","type":"room","uuid":"531520e3-1b9f-43de-9451-d0f417e14dd2","width":540,"height":540,"instances":[{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":330,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":510,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":390,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":450,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":510,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":450,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":390,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":330,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":270,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":210,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":150,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":90,"y":270,"_type":"Instance"},{"spriteID":"a2861379-7380-4892-a55f-e757955553e3","x":30,"y":270,"_type":"Instance"},{"spriteID":"7932b922-aabd-44e3-8d15-f4e946dd5ee9","x":180,"y":180,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"corner","width":60,"height":60},"_type":"Room"},{"name":"car","type":"sprite","uuid":"7932b922-aabd-44e3-8d15-f4e946dd5ee9","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAABVBJREFUeF7tnc1xFDEQhXeKAHAGZEAMcAZTLiAAQiMAoFyYO6RCBNgBUEvJZS1a7eivu6Vp9TyffNBP9/v6tTQ7rFkO+DGtwGI6OyR3AGDjRQDAAGxcAePpwcEAbFwB4+nBwQBsXAHj6cHBAGxcAePpwcEAbFwB4+nBwQBsXAHj6cHBAGxcAePpwcEAbFwB4+nBwQBsXAHj6cHBAGxcAePpwcEAbFwB4+nBwQBsXAHj6cHBAGxcAePpwcEAbFwB4+nBwQBsXAHj6cHBAGxcAePpwcEAbFwB4+mpdvD98foopf/Vcqc6V6k843XUJS0JlSKatUJQA3hrsKlimB24CsBa4cbQZ4S9OeBZ4IawZwK9KeAZ4XrQs0DeBPCsYL9+eX8y8oeP3x5/1w5aJeBQyJabsBe9ZY4fS9lzBsjDAZfcSxE6BbQWOHXPcH2tTh4KuATXgaKKzYHM2VO7i3cPmAPXF5VmyAAcXJwoZ7d2yAAsBNiB1uhkVYAl2mXswtJFS3pPbZB3DVgarsZ2rQZwb7HXztfee2p4dBoGOPeI1Evo8FwcCVjTeQzAnKtzZq6Ws3gI4NIHHHBwpyo7HMb8rytbtWe0aADuZh0tn1Nv3qJ7tmcNDt76leJuAY8srC0flwC4U5NGi34SdqSTQpaj993KxXDwAAdveQ4DMADzFdD4HIwWzed6WmErwLlXhQA8CHCPf4dVev7ttWcoWVxcu71k9RB79Ev+NS8AcKCKdLsE4P/ibn6LtujgtQIz26JLrwqlAZfcK7lfzV5x+x4NuquDa+B6AUpt2ouZG9ci+Nr3jATvlcWlRoEWA9wCs5h9YUAMuQUsd+/e86XBVwEeCa+3gDOvT4FfBAy4+ksiBz4LGHD1wy1d4gB4PobZiGM3JwHDvXOSB+A5uVVHDcDVUs05sAnw8e3vU5bLjxdzZmw86ueH72cZLstyduwmz+A/b15e/J1IQNZVLTFcH10IGYB1MWuKBoCb5JpvMADPx6w64hq4bjG06GpJdQ1kAV67YD1WA27SaiiTAafgArAatqdA1iAXH5PgXn0gUxEB8DysSJGSALudYhfj7CXp330SGbCLDG+TuvNhb7Ap4Kvl7iKB++M1OykscK5ACPnh8O7iD5SLvw9eA+tDAuD+5dn0NqklnBxYAG5RkjdWHHAN2DDkPbq4pJGkJsMA37y6yZbi559/eaU6wewS2B6FLwo4lUAJbszGGuwWsNKQRQH74MKEWuG6NWYGHMOM87/9ddvUa7jtugtgl4FLlALXEuBc/rWgTQKeGTK3e63Zm9PRNnewr+S42jlJNfVA4cE9AHMKngXYTV77CPPT62dVsoVtCoDLkjm9Wls2C3AqpBrA8RkUAp7VvaEenDtIDnWsWwn4cMCpywUAlx3sRqgGnLs57gVw7e3ZwUzdwsM1VDi4lJSV87emRZe0CNfgAE59R1jkbZI/g2uTAeB0e16DvKJr8Yv7fofqgUFIj19pqQzkIpOaKn2aRImt7mDjj7r4Wk+uxfrtSgbooQ1FRDLgxk96KLHx0dWtQAKcA91LG4qIScChNrnHoljDRGVTYqvDwx/FAty6vZoWnQLXWJ1uGc1wXXzDAHOLnyLkKTnqy4WKM4kSV6sxOONXAdecwy2bcuFynMKGnLlwaIfrGSUhxxApRpDShyrmWXKtCUgF3+KGDmOrAfu9a3WS1IcKmHwOFR4VOPF0YFhcshlyccX0AJI2pElBDE2XDWNwm1s1Ay75OOUCTjq5MRmJOBq3FB0+wskkjUiTEtJQkpTcX5QYcTGKBjVbkXUiT6yJaudjJGGTOf0Der/Bl8m/WO4AAAAASUVORK5CYII="},"originX":60,"originY":60,"bBoxX":4,"bBoxY":37,"bBoxWidth":113,"bBoxHeight":83,"behaviours":[{"name":"triggerOutro","type":"behaviour","uuid":"99913efa-b905-4839-9a32-60b9d84fbdbc","props":[],"code":"\nonUpdate(() => {\n\nlet p = find(player)\n\nif(p && p.x < x) {\n  goToNextRoom();\n}\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"outro","type":"room","uuid":"cb858140-4db4-40ea-b74a-07eda3bf021e","width":540,"height":540,"instances":[{"spriteID":"ec364131-ed7a-4ca3-b51d-2dcce8e383c0","x":270,"y":270,"_type":"Instance"},{"spriteID":"ad28b818-67d9-4c97-982d-d2f15996ee43","x":450,"y":510,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"outroText","type":"sprite","uuid":"ec364131-ed7a-4ca3-b51d-2dcce8e383c0","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAiRJREFUaEPtmuuuwzAIg0/e/6E7rVKnrkuDMSYXne7vWvCHCUHTyp/4s23bpgxZSinSeMpg71hq4HdMJbS0ehmwhyEq6GWAVU4vBaxwWwqcdYZrc4ZtcRlw5vm9G6wMdBh4BOi5AF5oGng06NV1FNwNPBuo120YeGZQz/RuAveErLUkk99q7Sowk8izolqizrG8WqzYX8De4AikJQCJ4dFl5duBPQERgao1kHHaBFbDWgnRgtWeQ7Ra+QsSBBFpJUJiWM8gWi0dYWArgQXh+R4Bto4TDdwT9CjKEOARoN7h1dIIOTwashtwBPTcfpE41zOOtDXlMCuyJYiN2cVhVty/Ao62m3VFIfHpa4lxGBHExPWuv93O8AzAVkFvryXrxaxdl42L/gggBbZaL6uIKOx+vu/akBGnBkaOyLkjEM1y4NreiwhhFgwvbIrD1tWCfu9x11PQNIdRsOiQsu7da/zlgT3uTtnSWa38meTqKd2rlb3OTgec7awJ7B0GvZyN6oJ+8YgmuSuGx1XPNtUqPgzMXPKtxAysovAUcBR+FGzzWmLOZG1ysnA/C4PoD2phh5nCeN9hr6BanumBlbDylvY6Zz2vht2Bj6Sqs2ZBIN9ngH6utZqAkfCZsF8OK5cDxMXqQBFN4ubi4RGX6Xy2s82WRoqggu8FGgY+FwWB7w12Zxr8xzTE9RWeeYBXcCmi8XE4Ur0V3n0cXsGliMbH4Uj1Vnj3BZBfcEz9X5SpAAAAAElFTkSuQmCC"},"originX":30,"originY":30,"bBoxX":0,"bBoxY":0,"bBoxWidth":53,"bBoxHeight":51,"behaviours":[{"name":"config","type":"behaviour","uuid":"b73f0488-f80f-471f-afb4-c7f658d1e156","props":[],"code":"text = `\nAnd then I got in my car and got the \\n\nheck away from that place!\n`;\n\nimgAlpha = 0;\n\n\n\nlet p = find(player);\n\np.destroyCustom();","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"escMenu","type":"sprite","uuid":"b1e660f8-27dd-468f-ac3d-871cd57fe0f3","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAgtJREFUaEPtmlFuAyEMRLM36MV62lysN0i1kZAIAs/YYGCzzmdiWD9mjN1Vj8fNPsfNeB8B/O2Kh8K3UPjv9fsqQX+O51D1ZzyDEesNVUvm/L4XurVvSqx3fwawjBGBtdAI0NtFzAEc2iSZTdmYJQoHMCtPZ9wKdc+Up1p6FWSujSvwDoDVWzp9uUuv7KwWcfnHcBHAA4YPT7Use4fCO0xDFuXYNVBhtJHHTew127/7cA5kmboCGFmC+P1WCksuG+GmrSyNSmoJ8IiHlq5GoNILA639VQp7wEpvXJgWORxYC6mtQVbd1tuXrwauQS8FRmqVbkHxtQ7G7tFyJqxh1tJM8myyUqtm93ADZkBbt6xkR9aqbFzKwaxwDyi6mZM66O9z7QVJzdK5NTSQUu+UgNHzpMPIS8FsaWL0bYZI9c9YUVIYHf50YAts2XZawAi21bMpS2sVZm51Rl1U5ygvd4UZ0JTkZYE1kAhWM0UhdYda2gJpgZ1iaebkLDHWS4ZZ18qHqmELDFrDJl1LkFl7rkMDSp7j0H9rKOGZhKV6Q+vZiWwKMEoWTWKo7tmJrBTBReFRsKhcpENxr2EWUrIwC8iUjhuwBtQDttW+tgDu6eGS+lNvaVZhL9gtFfaE3QbYGzK3+FRLW2/WVetc+vAqGOa5Acyc0pVjQuErq8fkHgozp3TlmFD4yuoxuf8Ds8KwTH7vHZEAAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":0,"bBoxY":6,"bBoxWidth":54,"bBoxHeight":44,"behaviours":[{"name":"custom code","type":"behaviour","uuid":"3a299404-cffe-4e9c-9aa4-14bcdd478fa0","props":[],"code":"let options = [\n  \"main menu (lose progress)\",\n  \"restart from checkpoint\",\n  \"continue\",\n];\n\nlet callbacks = [\n  () => { endGame(); },\n  () => { find(player).hurt(100); destroy(me); },\n  () => { destroy(me); },\n]\n\ntext = \"\";\n\nanimSpeed = 1;\n\nlet selectedOption = 2;\nlet prevInput = 0;\n\nonUpdate(() => {\n\n\nif(inputY != prevInput) {\n  prevInput = inputY;\n    if(inputY != 0) {\n\n    selectedOption += inputY;\n    selectedOption = Math.min(Math.max(\n      selectedOption, 0), options.length - 1)\n    ;\n\n    playSound(sfxInput)\n  }\n}\n\nif(keyIsPressed(...A_KEYS)) {\n  callbacks[selectedOption]();\n  playSound(sfxInput, 0.5)\n}\n\ntext = options\n  .map((x,i) => i == selectedOption? `[${x}]` : x)\n  .join(\"\\n\")\n;\n\n\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"},{"linkedBehaviourUUID":"0a21ae94-f87a-4b18-b65e-f10d95b4332d","_type":"BehaviourLink"},{"linkedBehaviourUUID":"497fb56c-396a-497a-955d-5714cf543481","_type":"BehaviourLink"}],"_type":"Sprite"},{"name":"creditsNiki","type":"sprite","uuid":"13a5e539-73ab-42ea-b1ef-f8f9d1d71ff9","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANUAAABFCAYAAADdJqPAAAAAAXNSR0IArs4c6QAACBxJREFUeF7tnd2x5zQMxXc7oA7e6QKqhS54pw46WCa7k8EI6ehIlh3nXvG0c+MP+Vg/S3acP1+/9H+tQCtQqsDX0ta6sVagFfjSULUTtALFCjRUxYJ2c61AQ9U+0AoUK9BQFQvaze1X4O9vv327ev3p6+9H+PMRRuyfhu4xqoDmuJXOPNPWTN2oDkz510B1mnCauL/++fP3FfOPX/6CurLlmAncVaah4pX+sFA9BSEDDFNmnMJoeX76uZK3lmOKpf3tbm18ZtVh/n6VyfSD6knbVqSNy6GqdG5rskYRr7waTQTnRvlSLAB3ubunMbqNbYzlvAiYtxrX1HRnwWHgqWgL9cM+q9JvOVTS4WcMR6vMCG8lyKy9CBKUKo7Pbmg0qJ4CSq76o73jAnYfEqB5QPPipZfyOdtPpB471165x6BCUccy2gMn06bn8FoEuepYf9ciD+rjakeLblFIvYnOPtc0v9uKQnXX8wDSykXgyAKX1UjWK4MKCTVOgrXyMcehEaiY9i5bpPNKgWT0qIosXjQ6Ie3Tsgy0v5Kptzfv4xwx/sOmcU9nNDRU1j5lJh/WVjq0WjCbzGjqp0GlRQ8EgQeIFw2t6Mbuz6pWWK0dFCGsyMP4hFz0rHlD+2OUmXj+6vle1I9G7VSoNOeVubQXcZgQPK48jGMw6V1UDAsI6dAMVFoUs8bFpHcnQMXMy0crw/gZGjMNVTR/ZqGSKQITqVBqd/XLpn5j+iejkwWVBQ4DyViXAeYq8+QBxUeDhRkPkw157UCoJEiZzaIW4WSUi0AwC52sz0aqEcDr36udnYHOm9x+HlPAy9DYzKoEKgYc1qCYDP8vXRWpZu2oqN+RqkLFWBtW4LB8XGt9CqpVEScmQ5duBdYqEE0JQ1CtNb1bbwXOVgCdRI6W00fqZw+3rWsF1ivAngo2VOvnYlkPfZixTFqzYSZaNVT756Wsx4aqTEq6oe1QoRev0Zey9Cg3FbRuXsx0PwvFbP0Z2z9zXQ+sqUjFXGG5xX8jVN69wHts2XdWs1BE669YGD4jXKVQeRBlwMnU2TWR6JZExYXXKBRy3JYNVrvWIpFdFHbNw2n9pKHSXqJ6AERuXLwlgiHHr4KCcWoPlPGalRZBNQBn7T/N2XfYw5wAmumfBlAkUmk0e1DuECXaRxYqJpIxTu3dKUQpqvfN12z6GtXy7eUZoK4xwj0VA4Z3rcP7ZuZ0oREcGhSRfYtX1nt+aedBd+vLwnf6fDxlHwtUCKqrsHdT/SqDrnRYkerkCJaFyvqid3QKD5oRWi/9k84mU0omKj7lsKf36+2hpP1UpNK+6NR+k2CEivnNgjfsq6xI4KV33vMxynif1CNA2QjUUMXQjd73G1vfDlXVZx4xieZKI8e9WraigvZMi1TykIH5hN9qR6aEWlvMwcicYu+uPQMUnf6hfdHJqVvV1LLRILp/kdHD26NZMKB63mFFA/avl2gw3dueiC/RkSrS6EcrG02dohDu0svbw+2y48l+tFdF3llA1N6pGxXRzrp8K/CkAtaBw2y6FzqoeFKA7rsVqFaAgapiz9+Rqnrmur1jFUDvXW+jG6pjp68NO1EBCVXkhW5kPKWRaiY39a5AjYNCJ44zNkSEY8vuPh1ltKlYjdnxn1TOOt3LnPChcZVAhYxlDZ6FqsKGFQ7QUK1QNdemFamqF5lSqKyf8mXBYqORJql3BSpjQ27q/lvrJKgqxvPmNryFdxzbDGjTUKELtdaPcWrGe5FqfM6WvUHS6lobU5RnM6dHEl4NKqsPb9K1l/ByHEgbNFeaHtZ4EViozo5xowMHT185rixYpVAhB2L/jxDMncGI41xCIahGCNB+bPaZHBdaWCynjbRRdfk5snrPalQxbgTV6AtexM0CdbW7BCqL+Gy08VZ/DxoNHM/pIuBmxhXpP2MLijzRhYtNYVkd2PGw5eTC6QGz+nkpVJ6xrOjWisLejGfSE+TUEmIr2kWdU47L2oOu+g37rJOeBpU2P/ecs7Z6vjrzfBoqtEpcA7Qu46IJ1tpEQGZsYNOvSMqF2oy0w0IV6S8SGb1FzXK42fSvYtxe+jcDC1u3BCqUq+6CKmqDJT670WYODSzYrT6shQPtVeU4KqORdbBwj0vbd3h1vIWAXTxltELzxsJQVa4MKs2pZzZ72QGiSUURLdvfqjZn7Kmum0mpMnWq7X6qvVKonhpEpN8Vk72izciYVpT1Fietz0ydFbY/3WZDVTADDdUPERuqHzp8OqgKGOomWgGoQEPVDtIKFCuwFCrv2Hwcy84UyrMrY0umjpzLTBuZOsU+1M0JBRoqcY0pe5qHjr3ZU9AMIJk6TcFaBZZCVbESrxi+54jec9amaDvR8qwdXW6vAtNQyROfy3z2OlH2RR86aWJeoEbTP8bZrTbv6bReFqOXyKOWllugCMnU3+tun6O3x6BiHXuchqqrPmzf2tUe1rnR8bL1DC1Q2X4brP0gl0Hl3S1D0UXbx6Aolnl21YlGUC3KsM5t7c1Q1PMit9Y3WiCYCLvf5T5+j49CxaaKEccZV3v5DVcWKma1Zw8qGqqGylWAjRrZaBRN/2Q/jLNH0sGqSIXGVZl2MguCO8ldIKTAI5GK+Q6JTRe1FG1M9e52rNvyHuzWc/Qt1G2TFZVkNNXKW4tBpN8GKsRCWeFpqMosAQ313mCHyt1HlQLHQoVOz6oG3+20AisUaKhWqNptfmoFjoXqU89KD/7VCjRUr56+Nv5EBRqqE2elbXq1Ag3Vq6evjT9RgYbqxFlpm16twD95TsTrbbAgXgAAAABJRU5ErkJggg=="},"originX":106,"originY":34,"bBoxX":5,"bBoxY":5,"bBoxWidth":203,"bBoxHeight":59,"behaviours":[],"_type":"Sprite"},{"name":"endGameSprite","type":"sprite","uuid":"769e2e1c-4e69-4bb1-b30c-c1423461db74","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAUFJREFUaEPtmtsNwjAMRdsRWIRFmJdFWIQRQPmIFKE21I80vvXll4Tk+NhuGrEuyT5rMt7lEPD7cf/UwNyer0Nzogayu/kW9BcAFVwNHNXg1r5aObvAPbtIsO1eCziBa0SuaLiwpTLcBS5fXtFyii7dniEIfMWm5fYcRjxtmbo0gQGOYDQsaVpMaaZ0vAiwhiPU8MgrJZPhMxPWq0ESWJLSZxoua3lY3jQc9T2YwIoUgzHsYRfqTisVsBdseMOeoLXcTc/hERtS9CHRFAJLDh40LEquOYOZ0kzpTuaxhueUpWhV1jBrmDUsKhnT4BFN0VTDJhrBZE9wAkualkCSeaiXZQjDXjeW4S8A2rQYbrgsFuW61gu2azgl8OwG5mn2752Wua0G/QHof7drYkpgTdSQ5tAwki3NXmlYEzWkOekMfwHwB8NyQMXd8gAAAABJRU5ErkJggg=="},"originX":30,"originY":30,"bBoxX":5,"bBoxY":2,"bBoxWidth":55,"bBoxHeight":49,"behaviours":[{"name":"the end","type":"behaviour","uuid":"09d10098-f25d-4a36-8836-7ec2da084c3e","props":[],"code":"\nendGame();","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"endGameRoom","type":"room","uuid":"0f19dd37-820b-4111-85ba-42af6ba87791","width":540,"height":540,"instances":[{"spriteID":"769e2e1c-4e69-4bb1-b30c-c1423461db74","x":270,"y":270,"_type":"Instance"}],"backgroundColor":"#222222","grid":{"enabled":true,"snap":"center","width":60,"height":60},"_type":"Room"},{"name":"jumpUnit","type":"sprite","uuid":"46ebcfba-6b99-4e28-9cc5-3ebb65aa418b","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAAXNSR0IArs4c6QAAANVJREFUSEvd1k0OgjAQBWC4jm7hFnpavYVs5TqYmrR5nb75IRgwuNPGj9dpM0Pf/fjTE2+B39i6GUH+ATEvO33YFjA/sDLwS5Xu9ro0CZ/jrKUuDgUZJiWCfy0XfAzvYt2na+UKtALLdjEdYlky0BaUW2VgghGFlDaoYScD03ZyHSNblvXDa9Oc8m6gdcJmwrQoU3p30AW9drOqhh6W1o8B8epYKVljoDWMgFrr2g+0Uipd2+7YkRPWJqM6U4JoM/m2TL3QGGXB2KxWXwBWvxl4pfh/8AP783Ef1CbwJQAAAABJRU5ErkJggg=="},"originX":10,"originY":15,"bBoxX":1,"bBoxY":1,"bBoxWidth":17,"bBoxHeight":26,"behaviours":[{"name":"custom code","type":"behaviour","uuid":"f577e118-09e6-4115-ad24-0934d687b588","props":["enabled"],"code":"persist(me, 2)\nenabled = false\nsetDepth(me, 100)\n\nsetDepth(spawn(hpUnitBG, x, y), 95)\n\nimgScaleX = imgScaleY = 0\n\nonUpdate(() => {\n  let ts = +enabled;\n  imgScaleX = \n  imgScaleY = lerp(imgScaleX, ts, 0.25)\n})","iconID":42,"data":{},"svelteComponent":{"_func":"BCustomSvelte"},"_type":"Behaviour"}],"_type":"Sprite"},{"name":"jumpRefill","type":"sprite","uuid":"495927a1-75cc-4dc2-a647-b5f80e7c73de","canvas":{"_imageURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAe1JREFUaEPt2UFOAzEMBdD2KGy4AIhjcRiOheACbDgKVRatosiJE+f/sWnNCqmdmbzYzjjp+fRgf+cH854SfO8RzwhnhBdn4Pnl96++5Of7KVQWQQfTYq/wSOhDwAUeBQ0D96IbLb2p4M+v95v37fXj9r9ntGngGnuV1mivNKeAJWwUNATc1u8IXOCekYaDNax3pLfBq9GtV+020kfUdTgwGw0Fz6ZzL63bLpbx+nIFSwsYG70Frut3NbotTKpnRi9uBu8sVqMNGBsOAe9GV5oAFtwERqaytt3uwa0L2haYEVl2tP8FGNmsLIOPTOdeuu90aGbwUem8gp7p0pbAEaKrpbeGvkvwqGGZBrMaDe21ZG1SemgVLB3Oedfv7OZDSu8ueHQKGQE86sRGGxARrB25eoJXoFJam8DlRiy0BaStA3Ubaga3D0FOABLd9tymGpZmlAm2bhSkcaqrdLlIq2l0ijOPcafAvRphdV4JBv7GnBHWlvj680zpldkafDdrOGINI19NYSPcvqNRzcfOEY5WVVurNAOMPpZtJyAUWOuhES0mFLxSxxpOSs2QYK2Gdj5PsGH24CltGMPUJYjolgeFAKMwMzO3DZ7dL/eOTWcGifwOBIwcEPteCWbPsPf9M8LeEWA/PyPMnmHv+18AFpkuTCkRvC4AAAAASUVORK5CYII="},"originX":30,"originY":30,"bBoxX":5,"bBoxY":6,"bBoxWidth":52,"bBoxHeight":47,"behaviours":[],"_type":"Sprite"}],"settings":{"title":"trashovania dzhake's mod","LICENSE":"(c) Niki Gawlik 2022 \nThe game data is licensed under Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0) \n    (http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1)."}}</script>
    <script type="module" crossorigin="">
var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: true, configurable: true, writable: true, value }) : obj[key2] = value;
var __publicField = (obj, key2, value) => {
  __defNormalProp(obj, typeof key2 !== "symbol" ? key2 + "" : key2, value);
  return value;
};
(function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(link) {
    const fetchOpts = {};
    if (link.integrity)
      fetchOpts.integrity = link.integrity;
    if (link.referrerPolicy)
      fetchOpts.referrerPolicy = link.referrerPolicy;
    if (link.crossOrigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (link.crossOrigin === "anonymous")
      fetchOpts.credentials = "omit";
    else
      fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
})();
console.log("database.ts loading");
const VERSION = 2;
const NAME = "trash_engine";
const STORE_NAME_RESOURCES = "game_data";
const STORE_NAME_GLOBAL_DATA = "global_data";
let constructors = /* @__PURE__ */ new Map();
let inverseConstructors = /* @__PURE__ */ new Map();
let db;
class NoDatabaseError extends Error {
  constructor() {
    super("A database could not be established, this could be due to incognito/private mode, browser privacy settings, or storage limitations.");
  }
}
async function init$2(constructorMap) {
  if (constructorMap) {
    constructors = constructorMap;
    inverseConstructors.clear();
    for (let name of constructorMap.keys()) {
      let constr = constructorMap.get(name);
      inverseConstructors.set(constr, name);
    }
  }
  try {
    console.log("opening database...");
    if (!window.indexedDB) {
      console.log("Your browser doesn't support a stable version of IndexedDB. Damn.");
      return;
    }
    let request = window.indexedDB.open(NAME, VERSION);
    let upgradePromise = null;
    db = await new Promise((resolve, reject) => {
      request.onsuccess = (event) => {
        resolve(request.result);
      };
      request.onupgradeneeded = (event) => {
        upgradePromise = upgrade(request.result, event.oldVersion, event.newVersion);
      };
      request.onblocked = (event) => {
        reject("database opening blocked");
      };
      request.onerror = (event) => {
        reject(request.error);
      };
    });
    if (upgradePromise)
      await upgradePromise;
    console.log(".");
  } catch (e) {
    console.log("Could not open database. Possible reasons: user settings, incognito/private mode, browser support, etc.");
    console.log("Save/load will not be possible");
    db = null;
  }
}
function getDocumentGameData() {
  var _a;
  return (_a = document.head.querySelector(`script[type="gamedata"]`)) == null ? void 0 : _a.textContent.trim();
}
async function upgrade(database, fromVersion, toVersion) {
  console.log(`Upgrading database: v${fromVersion} --> v${toVersion}`);
  let currentVersion = fromVersion;
  while (currentVersion != toVersion) {
    switch (currentVersion) {
      case 0:
        console.log(`--   0 --> 1`);
        database.createObjectStore(STORE_NAME_RESOURCES, { autoIncrement: true });
        currentVersion = 1;
        break;
      case 1:
        console.log(`--   1 --> 2`);
        database.createObjectStore(STORE_NAME_GLOBAL_DATA, { autoIncrement: true });
        currentVersion = 2;
        break;
      default:
        throw new Error(`No implementation for database version ${currentVersion}`);
    }
  }
}
async function deleteDatabase() {
  try {
    console.log(`try deleting database "${NAME}"...`);
    let request = indexedDB.deleteDatabase(NAME);
    let result = await new Promise((resolve, reject) => {
      request.onsuccess = (event) => {
        console.log("success");
        resolve(request.error);
      };
      request.onerror = (event) => {
        console.log("error");
        reject(request.error);
      };
      request.onblocked = (event) => {
        resolve("database deletion blocked, will be deleted on reload");
      };
      request.onupgradeneeded = () => {
        resolve("upgrade triggered");
      };
    });
    console.log(result);
    location.reload();
  } catch (e) {
    console.error(e);
  }
}
async function serialize(obj) {
  var copy;
  if (typeof obj === "function") {
    return {
      _func: inverseConstructors.get(obj)
    };
  }
  if (null == obj || "object" != typeof obj)
    return obj;
  if (obj instanceof HTMLCanvasElement) {
    return {
      _imageURL: obj.toDataURL("image/png")
    };
  }
  if (obj instanceof Array) {
    copy = [];
    for (var i = 0, len = obj.length; i < len; i++) {
      copy[i] = await serialize(obj[i]);
    }
    return copy;
  }
  if (obj instanceof Object) {
    copy = {};
    for (var attr2 in obj) {
      if (obj.hasOwnProperty(attr2) && attr2[0] != "_")
        copy[attr2] = await serialize(obj[attr2]);
    }
    if (inverseConstructors.has(obj.constructor)) {
      copy._type = inverseConstructors.get(obj.constructor);
    } else if (obj.constructor != Object) {
      let recogTypes = Array.from(inverseConstructors.keys()).map((x) => x.name);
      throw new UnrecognizedTypeError(`Unknown type: ${obj.constructor.name}. Recognized types: [${recogTypes.join(", ")}]`);
    }
    return copy;
  }
  throw new Error("Unable to copy obj! Its type isn't supported.");
}
class UnrecognizedTypeError extends Error {
  constructor(message) {
    super(message);
    this.name = "UnrecognizedTypeError";
  }
}
function makeUnrecognizedTypeError(typeName) {
  let recogTypes = Array.from(constructors.keys());
  return new UnrecognizedTypeError(`Unknown type: ${typeName}. Recognized types: ${recogTypes.join(", ")}`);
}
async function deserialize(obj, additionalProperties) {
  var copy;
  if (null == obj || "object" != typeof obj)
    return await obj;
  if (obj instanceof Blob) {
    if (obj.type == "image/png") {
      let img = new Image();
      let promise2 = new Promise((resolve) => img.onload = resolve);
      img.src = URL.createObjectURL(obj);
      await promise2;
      let canvas = document.createElement("canvas");
      canvas.width = img.width;
      canvas.height = img.height;
      let ctx = canvas.getContext("2d");
      if (ctx)
        ctx.drawImage(img, 0, 0);
      return canvas;
    }
  }
  if (obj instanceof Array) {
    copy = [];
    for (var i = 0, len = obj.length; i < len; i++) {
      copy[i] = await deserialize(obj[i], additionalProperties);
    }
    return copy;
  }
  if (obj instanceof Object) {
    if (obj._func) {
      if (!constructors.has(obj._func))
        throw makeUnrecognizedTypeError(obj._func);
      return constructors.get(obj._func);
    } else if (obj._imageURL) {
      let img = new Image();
      let promise2 = new Promise((resolve) => img.onload = resolve);
      img.src = obj._imageURL;
      await promise2;
      let canvas = document.createElement("canvas");
      canvas.width = img.width;
      canvas.height = img.height;
      let ctx = canvas.getContext("2d");
      if (ctx)
        ctx.drawImage(img, 0, 0);
      return canvas;
    } else {
      if (obj._type) {
        if (!constructors.has(obj._type))
          throw makeUnrecognizedTypeError(obj._type);
        let constructor = constructors.get(obj._type);
        copy = new constructor();
        for (var attr2 in obj) {
          if (obj.hasOwnProperty(attr2) && attr2[0] != "_") {
            if (copy.hasOwnProperty(attr2))
              copy[attr2] = await deserialize(obj[attr2], additionalProperties);
            else {
              if (!additionalProperties.has(copy))
                additionalProperties.set(copy, {});
              additionalProperties.get(copy)[attr2] = await deserialize(obj[attr2], additionalProperties);
            }
          }
        }
      } else {
        copy = {};
        for (var attr2 in obj) {
          if (obj.hasOwnProperty(attr2) && attr2[0] != "_")
            copy[attr2] = await deserialize(obj[attr2], additionalProperties);
        }
      }
    }
    return copy;
  }
  throw new Error("Unable to copy obj! Its type isn't supported.");
}
function requestAsync(request) {
  return new Promise((resolve, reject) => {
    request.onsuccess = (e) => resolve(request.result);
    request.onerror = (e) => reject(request.error);
  });
}
function noop() {
}
const identity = (x) => x;
function assign(tar, src) {
  for (const k in src)
    tar[k] = src[k];
  return tar;
}
function is_promise(value) {
  return !!value && (typeof value === "object" || typeof value === "function") && typeof value.then === "function";
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
let src_url_equal_anchor;
function src_url_equal(element_src, url) {
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement("a");
  }
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
function subscribe$3(store, ...callbacks) {
  if (store == null) {
    return noop;
  }
  const unsub = store.subscribe(...callbacks);
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}
function component_subscribe(component, store, callback) {
  component.$$.on_destroy.push(subscribe$3(store, callback));
}
function create_slot(definition, ctx, $$scope, fn) {
  if (definition) {
    const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
    return definition[0](slot_ctx);
  }
}
function get_slot_context(definition, ctx, $$scope, fn) {
  return definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;
}
function get_slot_changes(definition, $$scope, dirty, fn) {
  if (definition[2] && fn) {
    const lets = definition[2](fn(dirty));
    if ($$scope.dirty === void 0) {
      return lets;
    }
    if (typeof lets === "object") {
      const merged = [];
      const len = Math.max($$scope.dirty.length, lets.length);
      for (let i = 0; i < len; i += 1) {
        merged[i] = $$scope.dirty[i] | lets[i];
      }
      return merged;
    }
    return $$scope.dirty | lets;
  }
  return $$scope.dirty;
}
function update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {
  if (slot_changes) {
    const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
    slot.p(slot_context, slot_changes);
  }
}
function get_all_dirty_from_scope($$scope) {
  if ($$scope.ctx.length > 32) {
    const dirty = [];
    const length = $$scope.ctx.length / 32;
    for (let i = 0; i < length; i++) {
      dirty[i] = -1;
    }
    return dirty;
  }
  return -1;
}
function exclude_internal_props(props) {
  const result = {};
  for (const k in props)
    if (k[0] !== "$")
      result[k] = props[k];
  return result;
}
function compute_rest_props(props, keys) {
  const rest = {};
  keys = new Set(keys);
  for (const k in props)
    if (!keys.has(k) && k[0] !== "$")
      rest[k] = props[k];
  return rest;
}
function null_to_empty(value) {
  return value == null ? "" : value;
}
function set_store_value(store, ret, value) {
  store.set(value);
  return ret;
}
function action_destroyer(action_result) {
  return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;
}
const is_client = typeof window !== "undefined";
let now = is_client ? () => window.performance.now() : () => Date.now();
let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;
const tasks = /* @__PURE__ */ new Set();
function run_tasks(now2) {
  tasks.forEach((task) => {
    if (!task.c(now2)) {
      tasks.delete(task);
      task.f();
    }
  });
  if (tasks.size !== 0)
    raf(run_tasks);
}
function loop(callback) {
  let task;
  if (tasks.size === 0)
    raf(run_tasks);
  return {
    promise: new Promise((fulfill) => {
      tasks.add(task = { c: callback, f: fulfill });
    }),
    abort() {
      tasks.delete(task);
    }
  };
}
const globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : global;
"WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
function append(target, node) {
  target.appendChild(node);
}
function get_root_for_style(node) {
  if (!node)
    return document;
  const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;
  if (root && root.host) {
    return root;
  }
  return node.ownerDocument;
}
function append_empty_stylesheet(node) {
  const style_element = element("style");
  append_stylesheet(get_root_for_style(node), style_element);
  return style_element.sheet;
}
function append_stylesheet(node, style) {
  append(node.head || node, style);
  return style.sheet;
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data2) {
  return document.createTextNode(data2);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function init_binding_group(group) {
  let _inputs;
  return {
    /* push */
    p(...inputs) {
      _inputs = inputs;
      _inputs.forEach((input) => group.push(input));
    },
    /* remove */
    r() {
      _inputs.forEach((input) => group.splice(group.indexOf(input), 1));
    }
  };
}
function to_number(value) {
  return value === "" ? null : +value;
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_data(text2, data2) {
  data2 = "" + data2;
  if (text2.data === data2)
    return;
  text2.data = data2;
}
function set_input_value(input, value) {
  input.value = value == null ? "" : value;
}
function set_style(node, key2, value, important) {
  if (value == null) {
    node.style.removeProperty(key2);
  } else {
    node.style.setProperty(key2, value, important ? "important" : "");
  }
}
function select_option(select, value, mounting) {
  for (let i = 0; i < select.options.length; i += 1) {
    const option = select.options[i];
    if (option.__value === value) {
      option.selected = true;
      return;
    }
  }
  if (!mounting || value !== void 0) {
    select.selectedIndex = -1;
  }
}
function select_value(select) {
  const selected_option = select.querySelector(":checked");
  return selected_option && selected_option.__value;
}
let crossorigin;
function is_crossorigin() {
  if (crossorigin === void 0) {
    crossorigin = false;
    try {
      if (typeof window !== "undefined" && window.parent) {
        void window.parent.document;
      }
    } catch (error) {
      crossorigin = true;
    }
  }
  return crossorigin;
}
function add_iframe_resize_listener(node, fn) {
  const computed_style = getComputedStyle(node);
  if (computed_style.position === "static") {
    node.style.position = "relative";
  }
  const iframe = element("iframe");
  iframe.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;");
  iframe.setAttribute("aria-hidden", "true");
  iframe.tabIndex = -1;
  const crossorigin2 = is_crossorigin();
  let unsubscribe;
  if (crossorigin2) {
    iframe.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>";
    unsubscribe = listen(window, "message", (event) => {
      if (event.source === iframe.contentWindow)
        fn();
    });
  } else {
    iframe.src = "about:blank";
    iframe.onload = () => {
      unsubscribe = listen(iframe.contentWindow, "resize", fn);
      fn();
    };
  }
  append(node, iframe);
  return () => {
    if (crossorigin2) {
      unsubscribe();
    } else if (unsubscribe && iframe.contentWindow) {
      unsubscribe();
    }
    detach(iframe);
  };
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
class HtmlTag {
  constructor(is_svg = false) {
    this.is_svg = false;
    this.is_svg = is_svg;
    this.e = this.n = null;
  }
  c(html) {
    this.h(html);
  }
  m(html, target, anchor = null) {
    if (!this.e) {
      if (this.is_svg)
        this.e = svg_element(target.nodeName);
      else
        this.e = element(target.nodeType === 11 ? "TEMPLATE" : target.nodeName);
      this.t = target.tagName !== "TEMPLATE" ? target : target.content;
      this.c(html);
    }
    this.i(anchor);
  }
  h(html) {
    this.e.innerHTML = html;
    this.n = Array.from(this.e.nodeName === "TEMPLATE" ? this.e.content.childNodes : this.e.childNodes);
  }
  i(anchor) {
    for (let i = 0; i < this.n.length; i += 1) {
      insert(this.t, this.n[i], anchor);
    }
  }
  p(html) {
    this.d();
    this.h(html);
    this.i(this.a);
  }
  d() {
    this.n.forEach(detach);
  }
}
function construct_svelte_component(component, props) {
  return new component(props);
}
const managed_styles = /* @__PURE__ */ new Map();
let active = 0;
function hash(str) {
  let hash2 = 5381;
  let i = str.length;
  while (i--)
    hash2 = (hash2 << 5) - hash2 ^ str.charCodeAt(i);
  return hash2 >>> 0;
}
function create_style_information(doc, node) {
  const info = { stylesheet: append_empty_stylesheet(node), rules: {} };
  managed_styles.set(doc, info);
  return info;
}
function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {
  const step = 16.666 / duration;
  let keyframes = "{\n";
  for (let p = 0; p <= 1; p += step) {
    const t = a + (b - a) * ease(p);
    keyframes += p * 100 + `%{${fn(t, 1 - t)}}
`;
  }
  const rule = keyframes + `100% {${fn(b, 1 - b)}}
}`;
  const name = `__svelte_${hash(rule)}_${uid}`;
  const doc = get_root_for_style(node);
  const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);
  if (!rules[name]) {
    rules[name] = true;
    stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);
  }
  const animation = node.style.animation || "";
  node.style.animation = `${animation ? `${animation}, ` : ""}${name} ${duration}ms linear ${delay}ms 1 both`;
  active += 1;
  return name;
}
function delete_rule(node, name) {
  const previous = (node.style.animation || "").split(", ");
  const next = previous.filter(
    name ? (anim) => anim.indexOf(name) < 0 : (anim) => anim.indexOf("__svelte") === -1
    // remove all Svelte animations
  );
  const deleted = previous.length - next.length;
  if (deleted) {
    node.style.animation = next.join(", ");
    active -= deleted;
    if (!active)
      clear_rules();
  }
}
function clear_rules() {
  raf(() => {
    if (active)
      return;
    managed_styles.forEach((info) => {
      const { ownerNode } = info.stylesheet;
      if (ownerNode)
        detach(ownerNode);
    });
    managed_styles.clear();
  });
}
let current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function afterUpdate(fn) {
  get_current_component().$$.after_update.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
function setContext(key2, context) {
  get_current_component().$$.context.set(key2, context);
  return context;
}
function getContext(key2) {
  return get_current_component().$$.context.get(key2);
}
const dirty_components = [];
const binding_callbacks = [];
let render_callbacks = [];
const flush_callbacks = [];
const resolved_promise = /* @__PURE__ */ Promise.resolve();
let update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function tick() {
  schedule_update();
  return resolved_promise;
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
function add_flush_callback(fn) {
  flush_callbacks.push(fn);
}
const seen_callbacks = /* @__PURE__ */ new Set();
let flushidx = 0;
function flush() {
  if (flushidx !== 0) {
    return;
  }
  const saved_component = current_component;
  do {
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        set_current_component(component);
        update$3(component.$$);
      }
    } catch (e) {
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update$3($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach((c) => c());
  render_callbacks = filtered;
}
let promise;
function wait() {
  if (!promise) {
    promise = Promise.resolve();
    promise.then(() => {
      promise = null;
    });
  }
  return promise;
}
function dispatch(node, direction, kind) {
  node.dispatchEvent(custom_event(`${direction ? "intro" : "outro"}${kind}`));
}
const outroing = /* @__PURE__ */ new Set();
let outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
    // parent group
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block2, local) {
  if (block2 && block2.i) {
    outroing.delete(block2);
    block2.i(local);
  }
}
function transition_out(block2, local, detach2, callback) {
  if (block2 && block2.o) {
    if (outroing.has(block2))
      return;
    outroing.add(block2);
    outros.c.push(() => {
      outroing.delete(block2);
      if (callback) {
        if (detach2)
          block2.d(1);
        callback();
      }
    });
    block2.o(local);
  } else if (callback) {
    callback();
  }
}
const null_transition = { duration: 0 };
function create_in_transition(node, fn, params) {
  const options = { direction: "in" };
  let config = fn(node, params, options);
  let running = false;
  let animation_name;
  let task;
  let uid = 0;
  function cleanup() {
    if (animation_name)
      delete_rule(node, animation_name);
  }
  function go() {
    const { delay = 0, duration = 300, easing = identity, tick: tick2 = noop, css } = config || null_transition;
    if (css)
      animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);
    tick2(0, 1);
    const start_time = now() + delay;
    const end_time = start_time + duration;
    if (task)
      task.abort();
    running = true;
    add_render_callback(() => dispatch(node, true, "start"));
    task = loop((now2) => {
      if (running) {
        if (now2 >= end_time) {
          tick2(1, 0);
          dispatch(node, true, "end");
          cleanup();
          return running = false;
        }
        if (now2 >= start_time) {
          const t = easing((now2 - start_time) / duration);
          tick2(t, 1 - t);
        }
      }
      return running;
    });
  }
  let started = false;
  return {
    start() {
      if (started)
        return;
      started = true;
      delete_rule(node);
      if (is_function(config)) {
        config = config(options);
        wait().then(go);
      } else {
        go();
      }
    },
    invalidate() {
      started = false;
    },
    end() {
      if (running) {
        cleanup();
        running = false;
      }
    }
  };
}
function create_bidirectional_transition(node, fn, params, intro) {
  const options = { direction: "both" };
  let config = fn(node, params, options);
  let t = intro ? 0 : 1;
  let running_program = null;
  let pending_program = null;
  let animation_name = null;
  function clear_animation() {
    if (animation_name)
      delete_rule(node, animation_name);
  }
  function init2(program, duration) {
    const d = program.b - t;
    duration *= Math.abs(d);
    return {
      a: t,
      b: program.b,
      d,
      duration,
      start: program.start,
      end: program.start + duration,
      group: program.group
    };
  }
  function go(b) {
    const { delay = 0, duration = 300, easing = identity, tick: tick2 = noop, css } = config || null_transition;
    const program = {
      start: now() + delay,
      b
    };
    if (!b) {
      program.group = outros;
      outros.r += 1;
    }
    if (running_program || pending_program) {
      pending_program = program;
    } else {
      if (css) {
        clear_animation();
        animation_name = create_rule(node, t, b, duration, delay, easing, css);
      }
      if (b)
        tick2(0, 1);
      running_program = init2(program, duration);
      add_render_callback(() => dispatch(node, b, "start"));
      loop((now2) => {
        if (pending_program && now2 > pending_program.start) {
          running_program = init2(pending_program, duration);
          pending_program = null;
          dispatch(node, running_program.b, "start");
          if (css) {
            clear_animation();
            animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);
          }
        }
        if (running_program) {
          if (now2 >= running_program.end) {
            tick2(t = running_program.b, 1 - t);
            dispatch(node, running_program.b, "end");
            if (!pending_program) {
              if (running_program.b) {
                clear_animation();
              } else {
                if (!--running_program.group.r)
                  run_all(running_program.group.c);
              }
            }
            running_program = null;
          } else if (now2 >= running_program.start) {
            const p = now2 - running_program.start;
            t = running_program.a + running_program.d * easing(p / running_program.duration);
            tick2(t, 1 - t);
          }
        }
        return !!(running_program || pending_program);
      });
    }
  }
  return {
    run(b) {
      if (is_function(config)) {
        wait().then(() => {
          config = config(options);
          go(b);
        });
      } else {
        go(b);
      }
    },
    end() {
      clear_animation();
      running_program = pending_program = null;
    }
  };
}
function handle_promise(promise2, info) {
  const token = info.token = {};
  function update2(type, index, key2, value) {
    if (info.token !== token)
      return;
    info.resolved = value;
    let child_ctx = info.ctx;
    if (key2 !== void 0) {
      child_ctx = child_ctx.slice();
      child_ctx[key2] = value;
    }
    const block2 = type && (info.current = type)(child_ctx);
    let needs_flush = false;
    if (info.block) {
      if (info.blocks) {
        info.blocks.forEach((block3, i) => {
          if (i !== index && block3) {
            group_outros();
            transition_out(block3, 1, 1, () => {
              if (info.blocks[i] === block3) {
                info.blocks[i] = null;
              }
            });
            check_outros();
          }
        });
      } else {
        info.block.d(1);
      }
      block2.c();
      transition_in(block2, 1);
      block2.m(info.mount(), info.anchor);
      needs_flush = true;
    }
    info.block = block2;
    if (info.blocks)
      info.blocks[index] = block2;
    if (needs_flush) {
      flush();
    }
  }
  if (is_promise(promise2)) {
    const current_component2 = get_current_component();
    promise2.then((value) => {
      set_current_component(current_component2);
      update2(info.then, 1, info.value, value);
      set_current_component(null);
    }, (error) => {
      set_current_component(current_component2);
      update2(info.catch, 2, info.error, error);
      set_current_component(null);
      if (!info.hasCatch) {
        throw error;
      }
    });
    if (info.current !== info.pending) {
      update2(info.pending, 0);
      return true;
    }
  } else {
    if (info.current !== info.then) {
      update2(info.then, 1, info.value, promise2);
      return true;
    }
    info.resolved = promise2;
  }
}
function update_await_block_branch(info, ctx, dirty) {
  const child_ctx = ctx.slice();
  const { resolved } = info;
  if (info.current === info.then) {
    child_ctx[info.value] = resolved;
  }
  if (info.current === info.catch) {
    child_ctx[info.error] = resolved;
  }
  info.block.p(child_ctx, dirty);
}
function outro_and_destroy_block(block2, lookup) {
  transition_out(block2, 1, 1, () => {
    lookup.delete(block2.key);
  });
}
function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block2, next, get_context) {
  let o = old_blocks.length;
  let n = list.length;
  let i = o;
  const old_indexes = {};
  while (i--)
    old_indexes[old_blocks[i].key] = i;
  const new_blocks = [];
  const new_lookup = /* @__PURE__ */ new Map();
  const deltas = /* @__PURE__ */ new Map();
  const updates = [];
  i = n;
  while (i--) {
    const child_ctx = get_context(ctx, list, i);
    const key2 = get_key(child_ctx);
    let block2 = lookup.get(key2);
    if (!block2) {
      block2 = create_each_block2(key2, child_ctx);
      block2.c();
    } else if (dynamic) {
      updates.push(() => block2.p(child_ctx, dirty));
    }
    new_lookup.set(key2, new_blocks[i] = block2);
    if (key2 in old_indexes)
      deltas.set(key2, Math.abs(i - old_indexes[key2]));
  }
  const will_move = /* @__PURE__ */ new Set();
  const did_move = /* @__PURE__ */ new Set();
  function insert2(block2) {
    transition_in(block2, 1);
    block2.m(node, next);
    lookup.set(block2.key, block2);
    next = block2.first;
    n--;
  }
  while (o && n) {
    const new_block = new_blocks[n - 1];
    const old_block = old_blocks[o - 1];
    const new_key = new_block.key;
    const old_key = old_block.key;
    if (new_block === old_block) {
      next = new_block.first;
      o--;
      n--;
    } else if (!new_lookup.has(old_key)) {
      destroy(old_block, lookup);
      o--;
    } else if (!lookup.has(new_key) || will_move.has(new_key)) {
      insert2(new_block);
    } else if (did_move.has(old_key)) {
      o--;
    } else if (deltas.get(new_key) > deltas.get(old_key)) {
      did_move.add(new_key);
      insert2(new_block);
    } else {
      will_move.add(old_key);
      o--;
    }
  }
  while (o--) {
    const old_block = old_blocks[o];
    if (!new_lookup.has(old_block.key))
      destroy(old_block, lookup);
  }
  while (n)
    insert2(new_blocks[n - 1]);
  run_all(updates);
  return new_blocks;
}
function get_spread_update(levels, updates) {
  const update2 = {};
  const to_null_out = {};
  const accounted_for = { $$scope: 1 };
  let i = levels.length;
  while (i--) {
    const o = levels[i];
    const n = updates[i];
    if (n) {
      for (const key2 in o) {
        if (!(key2 in n))
          to_null_out[key2] = 1;
      }
      for (const key2 in n) {
        if (!accounted_for[key2]) {
          update2[key2] = n[key2];
          accounted_for[key2] = 1;
        }
      }
      levels[i] = n;
    } else {
      for (const key2 in o) {
        accounted_for[key2] = 1;
      }
    }
  }
  for (const key2 in to_null_out) {
    if (!(key2 in update2))
      update2[key2] = void 0;
  }
  return update2;
}
function get_spread_object(spread_props) {
  return typeof spread_props === "object" && spread_props !== null ? spread_props : {};
}
const _boolean_attributes = [
  "allowfullscreen",
  "allowpaymentrequest",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "defer",
  "disabled",
  "formnovalidate",
  "hidden",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "selected"
];
/* @__PURE__ */ new Set([..._boolean_attributes]);
function bind(component, name, callback) {
  const index = component.$$.props[name];
  if (index !== void 0) {
    component.$$.bound[index] = callback;
    callback(component.$$.ctx[index]);
  }
}
function create_component(block2) {
  block2 && block2.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
      if (component.$$.on_destroy) {
        component.$$.on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    flush_render_callbacks($$.after_update);
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init$1(component, options, instance2, create_fragment2, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance2 ? instance2(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    flush();
  }
  set_current_component(parent_component);
}
class SvelteComponent {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
}
const licenseText = 'MIT License\r\n\r\nCopyright (c) 2022-2023 Niki Gawlik\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the "Software"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n';
const reset = "";
const subscriber_queue = [];
function readable(value, start) {
  return {
    subscribe: writable(value, start).subscribe
  };
}
function writable(value, start = noop) {
  let stop;
  const subscribers = /* @__PURE__ */ new Set();
  function set2(new_value) {
    if (safe_not_equal(value, new_value)) {
      value = new_value;
      if (stop) {
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }
  function update2(fn) {
    set2(fn(value));
  }
  function subscribe2(run2, invalidate = noop) {
    const subscriber = [run2, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set2) || noop;
    }
    run2(value);
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0 && stop) {
        stop();
        stop = null;
      }
    };
  }
  return { set: set2, update: update2, subscribe: subscribe2 };
}
function derived(stores, fn, initial_value) {
  const single = !Array.isArray(stores);
  const stores_array = single ? [stores] : stores;
  const auto = fn.length < 2;
  return readable(initial_value, (set2) => {
    let started = false;
    const values = [];
    let pending = 0;
    let cleanup = noop;
    const sync = () => {
      if (pending) {
        return;
      }
      cleanup();
      const result = fn(single ? values[0] : values, set2);
      if (auto) {
        set2(result);
      } else {
        cleanup = is_function(result) ? result : noop;
      }
    };
    const unsubscribers = stores_array.map((store, i) => subscribe$3(store, (value) => {
      values[i] = value;
      pending &= ~(1 << i);
      if (started) {
        sync();
      }
    }, () => {
      pending |= 1 << i;
    }));
    started = true;
    sync();
    return function stop() {
      run_all(unsubscribers);
      cleanup();
      started = false;
    };
  });
}
const AtlasIcon_svelte_svelte_type_style_lang = "";
function create_fragment$R(ctx) {
  let div;
  let style_width = `${w * /*scale*/
  ctx[0]}px`;
  let style_height = `${h * /*scale*/
  ctx[0]}px`;
  let style_mask_position = `-${/*x*/
  ctx[2] * w * /*scale*/
  ctx[0]}px -${/*y*/
  ctx[1] * h * /*scale*/
  ctx[0]}px`;
  let style_mask_size = `${columns * w * /*scale*/
  ctx[0]}px ${rows * h * /*scale*/
  ctx[0]}px`;
  let style__webkit_mask_position = `-${/*x*/
  ctx[2] * w * /*scale*/
  ctx[0]}px -${/*y*/
  ctx[1] * h * /*scale*/
  ctx[0]}px`;
  let style__webkit_mask_size = `${columns * w * /*scale*/
  ctx[0]}px ${rows * h * /*scale*/
  ctx[0]}px`;
  return {
    c() {
      div = element("div");
      attr(div, "class", "icon svelte-1ialrc4");
      attr(div, "title", "icon");
      set_style(div, "width", style_width);
      set_style(div, "height", style_height);
      set_style(div, "mask-position", style_mask_position);
      set_style(div, "mask-size", style_mask_size);
      set_style(div, "-webkit-mask-position", style__webkit_mask_position);
      set_style(div, "-webkit-mask-size", style__webkit_mask_size);
    },
    m(target, anchor) {
      insert(target, div, anchor);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*scale*/
      1 && style_width !== (style_width = `${w * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "width", style_width);
      }
      if (dirty & /*scale*/
      1 && style_height !== (style_height = `${h * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "height", style_height);
      }
      if (dirty & /*x, scale, y*/
      7 && style_mask_position !== (style_mask_position = `-${/*x*/
      ctx2[2] * w * /*scale*/
      ctx2[0]}px -${/*y*/
      ctx2[1] * h * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "mask-position", style_mask_position);
      }
      if (dirty & /*scale*/
      1 && style_mask_size !== (style_mask_size = `${columns * w * /*scale*/
      ctx2[0]}px ${rows * h * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "mask-size", style_mask_size);
      }
      if (dirty & /*x, scale, y*/
      7 && style__webkit_mask_position !== (style__webkit_mask_position = `-${/*x*/
      ctx2[2] * w * /*scale*/
      ctx2[0]}px -${/*y*/
      ctx2[1] * h * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "-webkit-mask-position", style__webkit_mask_position);
      }
      if (dirty & /*scale*/
      1 && style__webkit_mask_size !== (style__webkit_mask_size = `${columns * w * /*scale*/
      ctx2[0]}px ${rows * h * /*scale*/
      ctx2[0]}px`)) {
        set_style(div, "-webkit-mask-size", style__webkit_mask_size);
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
const w = 50;
const h = 50;
const columns = 15;
const rows = 7;
function instance$Q($$self, $$props, $$invalidate) {
  let x;
  let y;
  let scale;
  let { id = 0 } = $$props;
  let { height = 16 } = $$props;
  $$self.$$set = ($$props2) => {
    if ("id" in $$props2)
      $$invalidate(3, id = $$props2.id);
    if ("height" in $$props2)
      $$invalidate(4, height = $$props2.height);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*id*/
    8) {
      $$invalidate(2, x = id % columns);
    }
    if ($$self.$$.dirty & /*id*/
    8) {
      $$invalidate(1, y = ~~(id / columns));
    }
    if ($$self.$$.dirty & /*height*/
    16) {
      $$invalidate(0, scale = height / 50);
    }
  };
  return [scale, y, x, id, height];
}
class AtlasIcon extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$Q, create_fragment$R, safe_not_equal, { id: 3, height: 4 });
  }
}
const BCustom_svelte_svelte_type_style_lang = "";
function get_each_context$e(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[15] = list[i];
  child_ctx[16] = list;
  child_ctx[17] = i;
  return child_ctx;
}
function create_each_block$e(ctx) {
  let li;
  let input;
  let t;
  let button;
  let atlasicon;
  let current;
  let mounted;
  let dispose;
  function input_input_handler() {
    ctx[6].call(
      input,
      /*i*/
      ctx[17]
    );
  }
  function keydown_handler(...args) {
    return (
      /*keydown_handler*/
      ctx[7](
        /*i*/
        ctx[17],
        ...args
      )
    );
  }
  atlasicon = new AtlasIcon({ props: { id: 21 } });
  function click_handler() {
    return (
      /*click_handler*/
      ctx[8](
        /*prop*/
        ctx[15]
      )
    );
  }
  return {
    c() {
      li = element("li");
      input = element("input");
      t = space();
      button = element("button");
      create_component(atlasicon.$$.fragment);
      attr(input, "type", "text");
      attr(button, "class", "borderless");
      attr(li, "class", "svelte-11o6ku6");
    },
    m(target, anchor) {
      insert(target, li, anchor);
      append(li, input);
      set_input_value(
        input,
        /*props*/
        ctx[0][
          /*i*/
          ctx[17]
        ]
      );
      append(li, t);
      append(li, button);
      mount_component(atlasicon, button, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(input, "input", input_input_handler),
          listen(input, "keydown", keydown_handler),
          action_destroyer(
            /*propCreate*/
            ctx[4].call(null, input)
          ),
          listen(button, "click", click_handler)
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & /*props*/
      1 && input.value !== /*props*/
      ctx[0][
        /*i*/
        ctx[17]
      ]) {
        set_input_value(
          input,
          /*props*/
          ctx[0][
            /*i*/
            ctx[17]
          ]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(atlasicon);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$Q(ctx) {
  let p0;
  let t1;
  let ul;
  let t2;
  let li;
  let button;
  let atlasicon;
  let t3;
  let t4;
  let p1;
  let t6;
  let textarea;
  let t7;
  let p2;
  let t8;
  let current;
  let mounted;
  let dispose;
  let each_value = (
    /*props*/
    ctx[0]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$e(get_each_context$e(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  atlasicon = new AtlasIcon({ props: { id: 22 } });
  return {
    c() {
      p0 = element("p");
      p0.textContent = "public properties:";
      t1 = space();
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t2 = space();
      li = element("li");
      button = element("button");
      create_component(atlasicon.$$.fragment);
      t3 = text(" \r\n            add property");
      t4 = space();
      p1 = element("p");
      p1.textContent = "code:";
      t6 = space();
      textarea = element("textarea");
      t7 = space();
      p2 = element("p");
      t8 = text(
        /*syntaxError*/
        ctx[2]
      );
      attr(p0, "class", "svelte-11o6ku6");
      attr(button, "class", "");
      attr(li, "class", "svelte-11o6ku6");
      attr(p1, "class", "svelte-11o6ku6");
      attr(textarea, "class", "svelte-11o6ku6");
      attr(p2, "class", "syntax-error svelte-11o6ku6");
    },
    m(target, anchor) {
      insert(target, p0, anchor);
      insert(target, t1, anchor);
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      append(ul, t2);
      append(ul, li);
      append(li, button);
      mount_component(atlasicon, button, null);
      append(button, t3);
      insert(target, t4, anchor);
      insert(target, p1, anchor);
      insert(target, t6, anchor);
      insert(target, textarea, anchor);
      set_input_value(
        textarea,
        /*code*/
        ctx[1]
      );
      insert(target, t7, anchor);
      insert(target, p2, anchor);
      append(p2, t8);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button,
            "click",
            /*click_handler_1*/
            ctx[9]
          ),
          listen(
            textarea,
            "input",
            /*textarea_input_handler*/
            ctx[10]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & /*props, propInputKeyDown*/
      9) {
        each_value = /*props*/
        ctx2[0];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$e(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block$e(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(ul, t2);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
      if (dirty & /*code*/
      2) {
        set_input_value(
          textarea,
          /*code*/
          ctx2[1]
        );
      }
      if (!current || dirty & /*syntaxError*/
      4)
        set_data(
          t8,
          /*syntaxError*/
          ctx2[2]
        );
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(p0);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(ul);
      destroy_each(each_blocks, detaching);
      destroy_component(atlasicon);
      if (detaching)
        detach(t4);
      if (detaching)
        detach(p1);
      if (detaching)
        detach(t6);
      if (detaching)
        detach(textarea);
      if (detaching)
        detach(t7);
      if (detaching)
        detach(p2);
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance$P($$self, $$props, $$invalidate) {
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(12, $resourceManager = $$value));
  let { behaviour } = $$props;
  let props = behaviour.props;
  let code = behaviour.code;
  $resourceManager.getResourceStore(behaviour);
  let focus = false;
  function propInputKeyDown(keyEvt, index) {
    if (keyEvt.key == "Enter") {
      props.splice(index + 1, 0, "");
      focus = true;
      $$invalidate(0, props);
    }
  }
  function propCreate(el) {
    if (focus)
      el.focus();
    focus = false;
    console.log("hi");
  }
  let syntaxError = "";
  function syntaxCheck() {
    Error.prepareStackTrace = function(error, structuredStackTrace) {
      let cs = structuredStackTrace[0];
      return {
        lineNumber: cs.getLineNumber(),
        columnNumber: cs.getColumnNumber()
      };
    };
    let scriptText = code;
    $$invalidate(2, syntaxError = "");
    try {
      let f = new Function(scriptText);
    } catch (e) {
      if (e instanceof Error) {
        let line = e.lineNumber || e.stack.lineNumber;
        let column = e.columnNumber || e.stack.columnNumber;
        line = line != void 0 ? `line: ${line}` : "";
        column = column != void 0 ? `column: ${column}` : "";
        $$invalidate(2, syntaxError = `syntax error ${line},${column}: ${e.message}`);
      }
    }
  }
  function input_input_handler(i) {
    props[i] = this.value;
    $$invalidate(0, props);
  }
  const keydown_handler = (i, evt) => propInputKeyDown(evt, i);
  const click_handler = (prop) => {
    $$invalidate(0, props = props.filter((x) => x != prop));
  };
  const click_handler_1 = () => {
    props.push(`prop_${props.length}`);
    $$invalidate(0, props);
  };
  function textarea_input_handler() {
    code = this.value;
    $$invalidate(1, code);
  }
  $$self.$$set = ($$props2) => {
    if ("behaviour" in $$props2)
      $$invalidate(5, behaviour = $$props2.behaviour);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*props*/
    1) {
      $$invalidate(5, behaviour.props = props, behaviour);
    }
    if ($$self.$$.dirty & /*code*/
    2) {
      $$invalidate(5, behaviour.code = code, behaviour);
    }
    if ($$self.$$.dirty & /*code*/
    2) {
      {
        syntaxCheck();
      }
    }
  };
  $$invalidate(5, behaviour.iconID = 42, behaviour);
  return [
    props,
    code,
    syntaxError,
    propInputKeyDown,
    propCreate,
    behaviour,
    input_input_handler,
    keydown_handler,
    click_handler,
    click_handler_1,
    textarea_input_handler
  ];
}
class BCustom extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$P, create_fragment$Q, safe_not_equal, { behaviour: 5 });
  }
}
console.log("resources.ts loading");
class Resource {
  constructor(name = "") {
    this.name = name;
    this.type = this.constructor.name.toLowerCase();
    this.uuid = crypto.randomUUID(), this._priority = 0;
  }
  getIconElement() {
    return ``;
  }
}
const defaultCode = `
// for available methods and variables check the help
// initalisation code here
// x = 100;

onUpdate( () => {
  // update code here (runs 60 times per second)
  // x += 10;
});
`;
class Behaviour extends Resource {
  // drawCode: string
  constructor(name = "UnnamedBehaviour") {
    super(name);
    this.props = [];
    this.code = defaultCode;
    this.iconID = 0;
    this.data = {};
    this.svelteComponent = BCustom;
  }
}
class Room extends Resource {
  constructor(name = "room") {
    super(name);
    this.width = 540;
    this.height = 540;
    this.instances = [];
    this.backgroundColor = "#222222";
    this.grid = {
      enabled: true,
      snap: "center",
      width: 60,
      height: 60
    };
  }
  getIconElement() {
    return ``;
  }
  filterInstances() {
    this.instances = this.instances.filter((inst) => inst.isValid());
  }
}
let defaultSettings$2 = {
  "attack": 3,
  "hold": 100,
  "decay": 3,
  "freq": 440,
  "freqSlide": 0,
  "srate": 16e3,
  "shape": 0,
  "slopes": 0,
  "crunch": 0,
  "subcrunch": 0
};
let audioCtx;
let master;
class SoundEffect extends Resource {
  constructor(name) {
    super(name);
    this.settings = {
      attack: defaultSettings$2.attack,
      hold: defaultSettings$2.hold,
      decay: defaultSettings$2.decay,
      freq: defaultSettings$2.freq,
      freqSlide: defaultSettings$2.freqSlide,
      srate: defaultSettings$2.srate,
      shape: defaultSettings$2.shape,
      slopes: defaultSettings$2.slopes,
      crunch: defaultSettings$2.crunch,
      subcrunch: defaultSettings$2.subcrunch
    };
  }
  static setMasterGain(gain) {
    if (!master)
      return;
    master.gain.setValueAtTime(gain, audioCtx.currentTime);
  }
  static init() {
    audioCtx = new AudioContext();
    master = audioCtx.createGain();
    SoundEffect.setMasterGain(0.15);
    master.connect(audioCtx.destination);
  }
  createBuffer() {
    let settings = this.settings;
    let srate = settings.srate;
    let samples = (settings.attack + settings.decay + settings.hold) / 1e3 * srate;
    let atk = Math.max(settings.attack, 0);
    let hold = Math.max(settings.hold, 0);
    let dec = Math.max(settings.decay, 0);
    let freq1 = settings.freq;
    let freq2 = settings.freq + settings.freqSlide;
    let buffer = audioCtx.createBuffer(1, samples, srate);
    let data2 = buffer.getChannelData(0);
    let env = 0;
    let preDistortion = settings.shape / 40;
    let slopesShape = settings.slopes / 40;
    for (let i = 0; i < samples; i++) {
      let t = i & ~(1 << settings.crunch >> 1 | 1 << settings.subcrunch >> 1);
      const prog = t / samples;
      const freq = freq1 * (1 - prog) + freq2 * prog;
      const ms = t / (srate / 1e3);
      env = ms <= atk ? ms / atk : ms <= atk + hold ? 1 : 1 - (ms - hold - atk) / dec;
      env = Math.max(0, env);
      let val = Math.sin(t / srate * 2 * Math.PI * freq);
      val = Math.sign(val) * Math.abs(val) ** (1 / 10 ** preDistortion);
      env = Math.sign(env) * Math.abs(env) ** (1 / 10 ** slopesShape);
      val *= env;
      data2[t] = val;
    }
    this._buffer = buffer;
  }
  async play(gain = 1, detune = 0) {
    if (!this._buffer || !audioCtx)
      return;
    let source = audioCtx.createBufferSource();
    source.buffer = this._buffer;
    let gainNode = audioCtx.createGain();
    gainNode.gain.setValueAtTime(gain, audioCtx.currentTime);
    gainNode.connect(master);
    source.detune.setValueAtTime(detune * 100, audioCtx.currentTime);
    source.connect(gainNode);
    source.start();
    await new Promise((resolve) => source.onended = resolve);
    source.disconnect();
    gainNode.disconnect();
  }
}
class BehaviourLink {
  constructor(linkedBehaviourUUID) {
    this.linkedBehaviourUUID = linkedBehaviourUUID;
  }
  get behaviour() {
    return resourceManager.get().getResourceOfType(this.linkedBehaviourUUID, Behaviour);
  }
  get props() {
    return this.behaviour.props;
  }
  get code() {
    return this.behaviour.code;
  }
  get iconID() {
    return 81;
  }
  get data() {
    return this.behaviour.data;
  }
  get svelteComponent() {
    return this.behaviour.svelteComponent;
  }
  get name() {
    return this.behaviour.name;
  }
  get type() {
    return this.behaviour.type;
  }
  get uuid() {
    return this.behaviour.uuid;
  }
  get _priority() {
    return this.behaviour._priority;
  }
  getIconElement() {
    return ``;
  }
}
let defaultSettings$1 = {
  version: 1,
  editor: {
    settings: {
      themes: [
        {
          "name": "dark",
          "bgColor": "#222",
          "mainColor": "#ccc",
          "neutralColor": "#555",
          "offMainColor": "#aaa",
          "offBgColor": "#444"
        },
        {
          "name": "light",
          "bgColor": "#fdfdfd",
          "mainColor": "#111",
          "neutralColor": "#888",
          "offMainColor": "#333",
          "offBgColor": "#ccc"
        },
        {
          "name": "trash",
          "bgColor": "#404",
          "mainColor": "#fda",
          "neutralColor": "#3a3",
          "offMainColor": "#adf",
          "offBgColor": "#505"
        },
        {
          "name": "hotdog",
          "bgColor": "red",
          "mainColor": "yellow",
          "neutralColor": "red",
          "offMainColor": "black",
          "offBgColor": "red"
        }
      ],
      currentTheme: "trash",
      subFolders: false,
      openResourcesMaximized: true,
      showWarningBeforeClosingApp: true
    }
  }
};
const { subscribe: subscribe$2, set: set$2, update: update$2 } = writable(defaultSettings$1);
let _value$2;
subscribe$2((v) => _value$2 = v);
const data = {
  subscribe: subscribe$2,
  update: update$2,
  set: set$2,
  get: () => _value$2,
  save
};
const currentTheme = derived(data, ($data) => {
  let themes = $data.editor.settings.themes;
  let themeName = $data.editor.settings.currentTheme;
  return themes.find((a) => a.name == themeName) || themes[0];
});
async function save() {
  if (!db || !db.transaction)
    throw new NoDatabaseError();
  let trans = db.transaction([STORE_NAME_GLOBAL_DATA], "readwrite");
  let objectStore = trans.objectStore(STORE_NAME_GLOBAL_DATA);
  let request = objectStore.put(data.get());
  request.onsuccess = (event) => {
    console.log(`saved resource ${request.result}`);
  };
  await new Promise((resolve, reject) => {
    trans.oncomplete = (e) => {
      console.log("transaction done");
      resolve(e);
    };
    trans.onerror = (e) => reject(request.error);
  });
}
async function load() {
  if (!db || !db.transaction) {
    console.log("! no database support, loading default values.");
    return;
  }
  console.log("- loading global data...");
  let trans = db.transaction(STORE_NAME_GLOBAL_DATA, "readonly");
  let objectStore = trans.objectStore(STORE_NAME_GLOBAL_DATA);
  let results = await requestAsync(objectStore.getAll());
  let result = results[results.length - 1];
  if (result) {
    if (result.version == defaultSettings$1.version) {
      data.set(result);
    }
    console.log(data.get());
    console.log("- global data loaded");
  } else {
    console.log("!! no save data found");
  }
}
let maxZ = 0;
const { subscribe: subscribe$1, set: set$1, update: update$1 } = writable([]);
let _value$1;
subscribe$1((v) => _value$1 = v);
let cards = {
  subscribe: subscribe$1,
  add: (content, name, position = new DOMRect(), isMaximized = false, uuid, data2 = {}) => update$1((store) => {
    console.log(`added ${uuid}`);
    if (!store.find((x) => x.uuid === uuid)) {
      store.push({
        uuid: uuid || crypto.randomUUID(),
        componentType: content,
        zIndex: ++maxZ,
        name,
        position,
        isMaximized,
        data: data2
      });
    }
    return store;
  }),
  remove: (uuid, removeDependents = false) => update$1(
    (store) => store.filter(
      removeDependents ? (x) => !x.uuid.startsWith(uuid) : (x) => x.uuid !== uuid
    )
  ),
  focus: (uuid) => update$1((store) => {
    let inst = store.find((x) => x.uuid == uuid);
    if (inst) {
      inst.zIndex = ++maxZ;
      if (inst.onFocus instanceof Function)
        inst.onFocus();
    }
    return store;
  }),
  reset: () => set$1([]),
  get: () => _value$1
};
function bringToFront(card) {
  card.zIndex = ++maxZ;
}
function openCard(type, allowDuplicate = true, uuid, position = new DOMRect(), customData) {
  let existing = !allowDuplicate && cards.get().find((x) => x.componentType.name === type.name);
  let existingUUID = !!uuid && cards.get().find((x) => x.uuid == uuid);
  existing || (existing = existingUUID);
  if (existing) {
    cards.focus(existing.uuid);
  } else {
    const isMax = data.get().editor.settings.openResourcesMaximized;
    cards.add(type, "", position, isMax, uuid, customData);
  }
}
class Sprite extends Resource {
  // function made from auto-generated code, that creates an instance of the sprite
  constructor(name = "sprite") {
    super(name);
    this.canvas = null;
    this.originX = 0;
    this.originY = 0;
    this.bBoxX = 0;
    this.bBoxY = 0;
    this.bBoxWidth = 0;
    this.bBoxHeight = 0;
    this.behaviours = [];
  }
  addBehaviour(behaviour) {
    this.behaviours.push(behaviour);
  }
  removeBehaviour(behaviour) {
    const behaviourUUID = behaviour.uuid || behaviour;
    cards.remove(`${this.uuid}/${behaviourUUID}`);
    this.behaviours = this.behaviours.filter(
      (x) => x != behaviour && x.uuid != behaviour
    );
  }
  resolveBehaviours() {
    this.behaviours = this.behaviours.filter(
      (x) => !(x instanceof BehaviourLink) || resourceManager.get().resources.has(x.linkedBehaviourUUID)
    );
    return this.behaviours;
  }
  getCopy() {
    let newCanvas = document.createElement("canvas");
    if (this.canvas) {
      newCanvas.width = this.canvas.width;
      newCanvas.height = this.canvas.height;
      let ctx = newCanvas.getContext("2d");
      ctx == null ? void 0 : ctx.drawImage(this.canvas, 0, 0);
    }
    return newCanvas;
  }
  getIconElement() {
    return "#";
  }
  autoCalculateBBox() {
    if (this.canvas) {
      let imgDat = this.canvas.getContext("2d").getImageData(0, 0, this.canvas.width, this.canvas.height);
      let minX = Infinity;
      let minY = Infinity;
      let maxX = -Infinity;
      let maxY = -Infinity;
      for (let y = 0; y < this.canvas.height; y++)
        for (let x = 0; x < this.canvas.width; x++) {
          const i = this.canvas.width * y + x;
          const solid = imgDat.data[i * 4 + 3] > 64;
          if (solid) {
            minX = Math.min(minX, x);
            minY = Math.min(minY, y);
            maxX = Math.max(maxX, x);
            maxY = Math.max(maxY, y);
          }
        }
      this.bBoxX = minX;
      this.bBoxY = minY;
      this.bBoxWidth = maxX - minX + 1;
      this.bBoxHeight = maxY - minY + 1;
      this.originX = ~~(this.canvas.width / 2);
      this.originY = ~~(this.canvas.height / 2);
    }
  }
  generateCode() {
    let params = ["x", "y"];
    let globalsMap = /* @__PURE__ */ new Map();
    globalsMap.set("imgScaleX", "1");
    globalsMap.set("imgScaleY", "1");
    globalsMap.set("imgRotation", "0");
    globalsMap.set("imgAlpha", "1");
    globalsMap.set("imgColor", "{r:0, g:0, b:0, a:0}");
    let _behaviours = this.resolveBehaviours();
    for (let behaviour of _behaviours) {
      for (let global2 of behaviour.props) {
        globalsMap.set(global2, 0);
      }
    }
    const globals2 = Array.from(globalsMap);
    let propDefs = globals2.map((g) => `let ${g[0]} = ${g[1]};`);
    const props = globals2.map((g) => g[0]).concat(params);
    let propAccessors = props.map(
      (p) => `    get ${p}() {return ${p}}, set ${p}(_te_value) {${p} = _te_value},`
    );
    let code = `
"use strict";
${propDefs.join("\n")}
let update = (inst) => {};
function onUpdate(callback) {
    // closure magick 
    update = ((x) => (inst) => {x(inst); callback(inst);})(update); 
}
let me = {
${propAccessors.join("\n")}
    get spriteID() {return "${this.uuid}";},
}
const spriteID = me.spriteID;
${_behaviours.map(
      (b) => `
/* begin ${b.name} */ {
${b.code}
} /* end ${b.name} */`
    ).join("")}
me.update = update;
return me;
        `;
    try {
      this._instanceConstructor = new Function(...params, code);
    } catch (e) {
      console.error(e);
      if (e instanceof SyntaxError) {
        if (e.lineNumber && e.columnNumber) {
          console.log(`${e.lineNumber}, ${e.columnNumber}`);
        }
      }
    } finally {
      let pseudoFunc = (
        // `(${globals.map(g => `${g[0]} = ${g[1]}`).join(", ")}) => {
        `() => {
${code}
}`
      );
      let dbg = window["te_debug"] = window["te_debug"] || {};
      dbg[this.name] = pseudoFunc;
    }
  }
}
console.log("resource_manager.ts loading");
const defaultSettings = {
  title: "your game's name here",
  LICENSE: "No license specified."
};
const saveVersion = 4;
let lastSavedTime = 0;
class ResourceManager {
  constructor() {
    this.settings = defaultSettings;
    this.stores = /* @__PURE__ */ new Map();
    this.resources = /* @__PURE__ */ new Map();
  }
  static async init() {
    console.log("resource manager init...");
  }
  addResource(resource) {
    this.resources.set(resource.uuid, resource);
  }
  getResourceOfType(uuid, type) {
    let r = this.resources.get(uuid);
    if (r instanceof type)
      return r;
    else
      return null;
  }
  getResource(uuid) {
    return this.resources.get(uuid) || null;
  }
  deleteResource(uuid) {
    this.resources.delete(uuid);
    cards.remove(uuid, true);
  }
  // expensive-ish
  moveResource(resourceUUID, beforeResourceUUID) {
    let r1 = this.getResource(resourceUUID);
    let r2 = this.getResource(beforeResourceUUID);
    if (!(r1 && r2) || resourceUUID == beforeResourceUUID)
      return false;
    let resources = Array.from(this.resources.values());
    let removeIndex = resources.findIndex((x) => x.uuid == resourceUUID);
    resources.splice(removeIndex, 1);
    let insertIndex = resources.findIndex((x) => x.uuid == beforeResourceUUID);
    resources.splice(insertIndex, 0, this.resources.get(resourceUUID));
    this.resources.clear();
    for (let res of resources) {
      this.resources.set(res.uuid, res);
    }
    return true;
  }
  getAllOfResourceType(type) {
    return Array.from(this.resources.values()).filter((x) => x instanceof type);
  }
  getRooms() {
    return this.getAllOfResourceType(Room);
  }
  getSprites() {
    return this.getAllOfResourceType(Sprite);
  }
  getBehaviours() {
    return this.getAllOfResourceType(Behaviour);
  }
  getSoundEffects() {
    return this.getAllOfResourceType(SoundEffect);
  }
  getResourceStore(resource) {
    if (typeof resource == "string")
      resource = this.getResource(resource);
    if (this.stores.has(resource))
      return this.stores.get(resource);
    if (!resource)
      return null;
    let store = writable(resource);
    store.subscribe((value) => {
      if (value != resource) {
        throw Error("You can only modify, not set/change the resource using a store.");
      }
      this.refresh();
    });
    this.stores.set(resource, store);
    return store;
  }
  refresh() {
    update((x) => x);
  }
  clear() {
    this.setFromSerializedData({
      version: saveVersion,
      resources: [],
      settings: defaultSettings
    });
  }
  async getSerializedData() {
    let data2 = {
      version: saveVersion,
      resources: Array.from(this.resources.values()),
      settings: this.settings
    };
    return await serialize(data2);
  }
  async setFromSerializedData(data2) {
    let additionalProperties = /* @__PURE__ */ new WeakMap();
    data2 = await deserialize(data2, additionalProperties);
    console.log(`- resources loaded`);
    console.log(data2);
    let setResourcesFromLegacyFolder = (root) => {
      this.resources.clear();
      for (let res of root.iterateAllResources()) {
        this.resources.set(res.uuid, res);
      }
    };
    if (!data2.version) {
      setResourcesFromLegacyFolder(data2);
    } else if (data2.version == 1) {
      const d = data2;
      setResourcesFromLegacyFolder(d.root);
      this.settings = d.settings;
    } else if (data2.version == 2) {
      const d = data2;
      this.resources.clear();
      for (let res of d.resources) {
        this.resources.set(res.uuid, res);
      }
      this.settings = d.settings;
    } else if (data2.version == 3) {
      const d = data2;
      this.resources.clear();
      for (let res of d.resources) {
        this.resources.set(res.uuid, res);
      }
      for (let res of d.resources) {
        if (res instanceof Sprite && additionalProperties.has(res)) {
          let bIDs = additionalProperties.get(res).behaviourIDs;
          for (let bID of bIDs) {
            let behaviour = this.resources.get(bID);
            res.behaviours.push(behaviour);
            this.resources.delete(bID);
          }
        }
      }
      this.settings = d.settings;
    } else if (data2.version == 4) {
      const d = data2;
      this.resources.clear();
      for (let res of d.resources) {
        this.resources.set(res.uuid, res);
      }
      this.settings = d.settings;
    } else {
      console.error(`Unrecognized version ${data2.version}`);
      return;
    }
    this.refresh();
  }
  async save(replaceKey) {
    if (!db || !db.transaction)
      throw new NoDatabaseError();
    let dataObject = await this.getSerializedData();
    let trans = db.transaction([STORE_NAME_RESOURCES], "readwrite");
    let objectStore = trans.objectStore(STORE_NAME_RESOURCES);
    if (replaceKey == void 0) {
      const saveDelay = 10 * 60 * 1e3;
      let currentTime = (/* @__PURE__ */ new Date()).getTime();
      if (currentTime - lastSavedTime < saveDelay) {
        let keys = await requestAsync(objectStore.getAllKeys());
        if (keys.length > 0)
          replaceKey = keys[keys.length - 1];
      } else {
        lastSavedTime = currentTime;
      }
    }
    let request = replaceKey != void 0 ? objectStore.put(dataObject, replaceKey) : objectStore.put(dataObject);
    request.onsuccess = (event) => {
      console.log(`saved resource ${request.result}`);
    };
    await new Promise((resolve, reject) => {
      trans.oncomplete = (e) => {
        console.log("transaction done");
        resolve(e);
      };
      trans.onerror = (e) => reject(request.error);
    });
  }
  async load(customData, customKey) {
    if ((!db || !db.transaction) && !customData) {
      console.log("! no database support & no inline data -> use empty project.");
      return;
    }
    let result;
    if (customData) {
      result = JSON.parse(customData);
    } else {
      console.log(`- load resource tree from indexed db...`);
      try {
        if (customKey == void 0) {
          let results = await ResourceManager.getSaveFiles();
          result = results[results.length - 1].value;
        } else {
          let trans = db.transaction(STORE_NAME_RESOURCES, "readonly");
          let objectStore = trans.objectStore(STORE_NAME_RESOURCES);
          result = await requestAsync(objectStore.get(customKey));
        }
      } catch (e) {
        console.log(`getting data failed: ${e == null ? void 0 : e.message}`);
        console.error(e);
        result = null;
      }
    }
    if (!result) {
      let docData = getDocumentGameData();
      if (docData) {
        result = JSON.parse(docData);
      }
    }
    if (result) {
      try {
        await this.setFromSerializedData(result);
      } catch (e) {
        console.log("!! save data potentially corrupted, loading failed");
      }
    } else {
      console.log("!! no save data found");
    }
  }
  static async getSaveFiles() {
    if (!db || !db.transaction) {
      return [];
    }
    let trans = db.transaction(STORE_NAME_RESOURCES, "readonly");
    let objectStore = trans.objectStore(STORE_NAME_RESOURCES);
    let results = [];
    let cursorReq = objectStore.openCursor();
    while (true) {
      let cursor = await requestAsync(cursorReq);
      if (!cursor)
        break;
      results.push({
        key: cursor.key,
        value: cursor.value
      });
      cursor.continue();
    }
    return results;
  }
}
let _value = new ResourceManager();
let { subscribe, set, update } = writable(_value);
subscribe((x) => _value = x);
update((x) => x);
let resourceManager = {
  subscribe,
  get: () => _value,
  set: (value) => {
    if (value != _value)
      throw new Error("When accessing the resourceManager object store, you are not allowed to change the instance of the manager, only change it's contents.");
    set(value);
  }
};
const spriteVertexShader = "#version 300 es\r\n\r\nin vec2 a_localPos; // coordinates of a unit square (6 verts -> 2 tris)\r\n\r\nin vec4 a_objectPos; // positions, and origins of instances (x, y, ox, oy)\r\nin vec4 a_spriteMapPos; // UV coordinates as a rectangle (x, y, w, h)\r\nin vec4 a_objectScaleRot; // scale and rotation (sx, sy, rx, ry), rotation is a (unit) vector \r\nin vec4 a_color; // color, multiplicative / transparency\r\nin vec4 a_tint; // tint, alpha drives strength of tint\r\n\r\nuniform vec2 u_resolution; // screen resolution\r\nuniform vec2 u_spriteMap_resolution; // sprite map resolution\r\n\r\nout vec2 v_texcoord;\r\nout vec4 v_color;\r\nout vec4 v_tint;\r\n\r\nvoid main() {\r\n    // position in world space / screen space (same thing atm)\r\n    //start unit rectangle vertex position  (0, 0) (1, 1)\r\n    //scale by uv size                      (0, 0) (60, 60)\r\n    vec2 adjPosition = a_localPos * a_spriteMapPos.zw * u_spriteMap_resolution;\r\n    //move by origin                        (-30, -30) (30, 30)\r\n    adjPosition -= a_objectPos.zw;\r\n    //rotate                                (15, -15) (-15, 15)\r\n    vec2 a = adjPosition;\r\n    vec2 b = a_objectScaleRot.zw;\r\n    adjPosition = vec2((a.x * b.x) - (a.y * b.y), (a.x * b.y) + (a.y * b.x));\r\n    //scale                                 (-15, -15) (15, 15)\r\n    adjPosition *= a_objectScaleRot.xy;\r\n    // move to actual pos\r\n    adjPosition += a_objectPos.xy;\r\n    // todo\r\n    gl_Position = vec4(adjPosition, 0, 1) / vec4(u_resolution, 1, 1) * 2.0 - 1.0;\r\n    gl_Position *= vec4(1.0, -1.0, 1.0, 1.0);\r\n    v_texcoord = a_localPos * a_spriteMapPos.zw + a_spriteMapPos.xy;\r\n\r\n    v_color = a_color;\r\n    v_tint = a_tint;\r\n}";
const spriteFragmentShader = "#version 300 es\r\nprecision highp float;\r\n\r\nin vec2 v_texcoord;\r\nin vec4 v_color;\r\nin vec4 v_tint;\r\n\r\nuniform sampler2D u_texture;\r\n\r\nout vec4 outColor;\r\n\r\nvoid main() {\r\n    // multiply color\r\n    outColor = texture(u_texture, v_texcoord) * v_color;\r\n    // lerp to tint color\r\n    float a = v_tint.a;\r\n    // outColor = vec4(outColor.rgb * (1.0 - a) + v_tint.rgb * a, outColor.a);\r\n    outColor.rgb = outColor.rgb * (1.0 - a) + v_tint.rgb * a;\r\n    // outColor = v_tint;\r\n}";
function getShaderSource() {
  return { vertex: spriteVertexShader, fragment: spriteFragmentShader };
}
let Renderer$1 = class Renderer {
  constructor(canvas, resourceManager2) {
    this.resourceManager = resourceManager2;
    let gl = canvas.getContext("webgl2");
    if (!gl)
      throw Error("No webgl!");
    let { canvas: spriteMap, coords } = makeSpriteMap(resourceManager2.getSprites());
    let { fragment, vertex } = getShaderSource();
    let vertexShader = createShader(gl, gl.VERTEX_SHADER, vertex);
    let fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragment);
    let program = createProgram(gl, vertexShader, fragmentShader);
    gl.enable(gl.BLEND);
    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
    gl.depthFunc(gl.ALWAYS);
    let resolutionUniformLocation = gl.getUniformLocation(program, "u_resolution");
    let spriteMapResolutionUniformLocation = gl.getUniformLocation(program, "u_spriteMap_resolution");
    let localPosAttributeLocation = gl.getAttribLocation(program, "a_localPos");
    let positionOriginAttribLocation = gl.getAttribLocation(program, "a_objectPos");
    let spriteCoordAttribLocation = gl.getAttribLocation(program, "a_spriteMapPos");
    let scaleRotationAttribLocation = gl.getAttribLocation(program, "a_objectScaleRot");
    let colorAttribLocation = gl.getAttribLocation(program, "a_color");
    let tintAttribLocation = gl.getAttribLocation(program, "a_tint");
    let unitSquareBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, unitSquareBuffer);
    let vao = gl.createVertexArray();
    gl.bindVertexArray(vao);
    let square = [
      0,
      0,
      0,
      1,
      1,
      0,
      1,
      0,
      0,
      1,
      1,
      1
    ];
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(square), gl.STATIC_DRAW);
    let positionOriginBuffer = _setUpInstAttribBuffer(gl, positionOriginAttribLocation, 4, gl.FLOAT, false, 4 * 4, 0);
    let spriteCoordBuffer = _setUpInstAttribBuffer(gl, spriteCoordAttribLocation, 4, gl.FLOAT, false, 4 * 4, 0);
    let scaleRotationBuffer = _setUpInstAttribBuffer(gl, scaleRotationAttribLocation, 4, gl.FLOAT, false, 4 * 4, 0);
    let colorBuffer = _setUpInstAttribBuffer(gl, colorAttribLocation, 4, gl.FLOAT, false, 4 * 4, 0);
    let tintBuffer = _setUpInstAttribBuffer(gl, tintAttribLocation, 4, gl.FLOAT, false, 4 * 4, 0);
    let texture = gl.createTexture();
    gl.bindTexture(gl.TEXTURE_2D, texture);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, spriteMap);
    gl.generateMipmap(gl.TEXTURE_2D);
    gl.bindBuffer(gl.ARRAY_BUFFER, unitSquareBuffer);
    gl.enableVertexAttribArray(localPosAttributeLocation);
    this.renderFunc = (instances) => {
      gl.bindBuffer(gl.ARRAY_BUFFER, unitSquareBuffer);
      let size = 2;
      let type = gl.FLOAT;
      let normalize = false;
      gl.vertexAttribPointer(localPosAttributeLocation, size, type, normalize, 0, 0);
      gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
      gl.clearColor(0, 0, 0, 0);
      gl.clear(gl.COLOR_BUFFER_BIT);
      gl.useProgram(program);
      gl.uniform2f(resolutionUniformLocation, canvas.width, canvas.height);
      gl.uniform2f(spriteMapResolutionUniformLocation, spriteMap.width, spriteMap.height);
      gl.bindVertexArray(vao);
      this._fillFloat4BufferInstances(
        gl,
        positionOriginBuffer,
        instances,
        (inst, sprite) => [inst.x, inst.y, sprite.originX, sprite.originY]
      );
      this._fillFloat4BufferInstances(
        gl,
        spriteCoordBuffer,
        instances,
        (inst, sprite) => {
          const p = coords.get(sprite);
          return [p.x, p.y, p.width, p.height];
        }
      );
      this._fillFloat4BufferInstances(
        gl,
        scaleRotationBuffer,
        instances,
        (inst, spr) => [
          inst.imgScaleX,
          inst.imgScaleY,
          // rotation is a 2d vector / imaginary number (1,0 = no rotation, 0,1 = 90deg, etc.) 
          Math.cos(inst.imgRotation * Math.PI / 180),
          Math.sin(inst.imgRotation * Math.PI / 180)
        ]
      );
      this._fillFloat4BufferInstances(
        gl,
        colorBuffer,
        instances,
        (inst, spr) => [
          1,
          // (1 + Math.cos((t/100+0)*2*Math.PI))/2,
          1,
          // (1 + Math.cos((t/100+0.333)*2*Math.PI))/2,
          1,
          // (1 + Math.cos((t/100+0.666)*2*Math.PI))/2,
          inst.imgAlpha
        ]
      );
      this._fillFloat4BufferInstances(
        gl,
        tintBuffer,
        instances,
        (inst, spr) => [
          inst.imgColor.r,
          inst.imgColor.g,
          inst.imgColor.b,
          inst.imgColor.a
        ]
      );
      gl.drawArraysInstanced(
        gl.TRIANGLES,
        0,
        // offset
        6,
        // num vertices per instance
        instances.length
        // num instances
      );
    };
  }
  _fillFloat4BufferInstances(gl, buffer, instances, func) {
    let dataArray = new Float32Array(instances.length * 4);
    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
    gl.bufferData(gl.ARRAY_BUFFER, dataArray.byteLength, gl.DYNAMIC_DRAW);
    for (let i = 0; i < instances.length && i * 4 < dataArray.length; i++) {
      let inst = instances[i];
      let sprite = this.resourceManager.getResource(inst.spriteID);
      dataArray.set(func(inst, sprite), i * 4);
    }
    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
    gl.bufferSubData(gl.ARRAY_BUFFER, 0, dataArray);
  }
  render(instances) {
    this.renderFunc(instances);
  }
};
function _setUpInstAttribBuffer(gl, attribLocation, size, type, normalized, stride, offset) {
  let buffer = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
  gl.enableVertexAttribArray(attribLocation);
  gl.vertexAttribPointer(attribLocation, size, type, normalized, stride, offset);
  gl.vertexAttribDivisor(attribLocation, 1);
  return buffer;
}
function createShader(gl, type, source) {
  let shader = gl.createShader(type);
  if (!shader)
    throw Error("Failed to create shader!!");
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  let success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);
  if (success) {
    return shader;
  }
  console.log(gl.getShaderInfoLog(shader));
  gl.deleteShader(shader);
  throw Error("Shader did not compile!!");
}
function createProgram(gl, vertexShader, fragmentShader) {
  let program = gl.createProgram();
  if (!program)
    throw Error("Could not create gl program!!");
  gl.attachShader(program, vertexShader);
  gl.attachShader(program, fragmentShader);
  gl.linkProgram(program);
  let success = gl.getProgramParameter(program, gl.LINK_STATUS);
  if (success) {
    return program;
  }
  console.log(gl.getProgramInfoLog(program));
  gl.deleteProgram(program);
  if (!program)
    throw Error("Could not link shaders!!");
}
function makeSpriteMap(sprites) {
  console.log("-- generate sprite atlas --");
  let coords = /* @__PURE__ */ new WeakMap();
  let area = (spr) => spr.canvas.width * spr.canvas.height;
  sprites.sort((a, b) => area(b) - area(a));
  let totalPixels = sprites.length > 0 ? sprites.map(area).reduce((a, b) => a + b) : 1;
  totalPixels *= 1.3;
  let minPower = Math.ceil(Math.log2(totalPixels ** 0.5));
  console.log(`sprite min size: ${2 ** minPower}`);
  let placed = [];
  let intersect = (box1, box2) => box1.left < box2.right && box1.right > box2.left && box1.bottom > box2.top && box1.top < box2.bottom;
  let freeAt = (box) => {
    for (let other of placed) {
      if (intersect(box, other))
        return false;
    }
    return true;
  };
  let w2, h2;
  outer:
    for (let i = 0; i < 3; i++) {
      w2 = 2 ** (minPower + i);
      h2 = 2 ** (minPower + i);
      placed = [];
      for (let spr of sprites) {
        let sw = spr.canvas.width;
        let sh = spr.canvas.height;
        let searching = true;
        for (let y = 0; y <= h2 - sh && searching; y += 4)
          for (let x = 0; x <= w2 - sw && searching; x += 4) {
            const gap = 1;
            const r = { left: x - gap, top: y - gap, right: x + sw + gap, bottom: y + sh + gap };
            if (freeAt(r)) {
              placed.push(r);
              coords.set(spr, {
                x: r.left + gap,
                y: r.top + gap,
                width: r.right - r.left - gap * 2,
                height: r.bottom - r.top - gap * 2
              });
              searching = false;
            }
          }
        if (searching)
          continue outer;
      }
      break;
    }
  console.log(`final map size: ${w2} x ${h2}`);
  let canvas = document.createElement("canvas");
  canvas.width = w2;
  canvas.height = h2;
  let ctx = canvas.getContext("2d");
  for (let spr of sprites) {
    let p = coords.get(spr);
    if (!p)
      throw Error("sprite was not placed!!!");
    ctx.drawImage(spr.canvas, p.x, p.y);
    p.x /= w2;
    p.y /= h2;
    p.width /= w2;
    p.height /= h2;
  }
  return {
    canvas,
    coords
  };
}
function assert(bool) {
  if (!bool)
    throw Error("Assertion failed.");
}
function adjustedCanvasSize(size) {
  const scaleFactor = Math.max(Math.round(devicePixelRatio), 1);
  size = size / window.devicePixelRatio * scaleFactor;
  return size;
}
function rectInside(rect, bounds) {
  const result = rect.right <= bounds.right && rect.left >= bounds.left && rect.top >= bounds.top && rect.bottom <= bounds.bottom;
  return result;
}
function mod(n, m) {
  return (n % m + m) % m;
}
let randState = 1;
function xorshiftSetSeed(seed) {
  if (typeof seed == "number") {
    randState = ~~seed;
  } else {
    let hash2 = 0;
    if (seed.length === 0)
      return hash2;
    for (let i = 0; i < seed.length; i++) {
      let chr = seed.charCodeAt(i);
      hash2 = (hash2 << 5) - hash2 + chr;
      hash2 |= 0;
    }
    randState = hash2;
  }
  if (randState == 0)
    randState = 1;
  console.log(`set seed: ${seed} => ${randState}`);
}
function xorshiftGetRandom() {
  let x = randState;
  x ^= x << 13;
  x ^= x >> 17;
  x ^= x << 5;
  return randState = x;
}
function xorshiftGetRandom01() {
  return (-(1 << 31) + xorshiftGetRandom()) / 2 ** 32;
}
function getColorRGBA(r, g, b, a = 1) {
  return { r, g, b, a };
}
function getColorHSVA(h2, s, v, a = 1) {
  h2 = mod(h2, Math.PI * 2);
  const c = v * s;
  const x = c * (1 - Math.abs(h2 / (Math.PI / 3) % 2 - 1));
  const m = v - c;
  const sextant = h2 / (Math.PI / 3);
  const [_r, _g, _b] = sextant < 1 ? [c, x, 0] : sextant < 2 ? [x, c, 0] : sextant < 3 ? [0, c, x] : sextant < 4 ? [0, x, c] : sextant < 5 ? [x, 0, c] : [c, 0, x];
  return {
    r: _r + m,
    g: _g + m,
    b: _b + m,
    a
  };
}
const ALL_UUID = "ddf24ad7-6386-4f3e-80a1-a7f18eb01aba";
const NOONE_UUID = "a33e372b-c773-4a10-9106-83bae17c9626";
class Game {
  constructor(resourceManager2, canvasWebGL, canvas2d, htmlOverlay, startRoomID) {
    this.tickRate = 60;
    this.resourceManager = resourceManager2;
    this.editorCallback = null;
    this.canvasWebgl = canvasWebGL;
    this.canvas2d = canvas2d;
    this.htmlOverlay = htmlOverlay;
    this.htmlOverlay.innerText = "";
    this.tickNumber = 0;
    this.instances = [];
    this.isEnding = false;
    this.mouseX = 0;
    this.mouseY = 0;
    this.persistent = /* @__PURE__ */ new WeakMap();
    this.instanceSets = /* @__PURE__ */ new Map();
    this.destroyed = /* @__PURE__ */ new WeakSet();
    this.instanceArrays = /* @__PURE__ */ new WeakMap();
    this.instanceSpriteInstanceMap = /* @__PURE__ */ new WeakMap();
    this.currentRoom = null;
    this.queuedRoom = null;
    this.startRoom = startRoomID && this.resourceManager.getResourceOfType(startRoomID, Room);
    if (!this.startRoom) {
      let rooms = this.resourceManager.getRooms();
      if (rooms.length == 0) {
        console.warn("no rooms found. Possibly a side effect of invalid/missing game data.");
      } else {
        this.startRoom = rooms[0];
      }
    }
    this.keyMap = /* @__PURE__ */ new Map();
    this.keyMapSnapshot = /* @__PURE__ */ new Map();
    this.pressedMap = /* @__PURE__ */ new Map();
    this.releasedMap = /* @__PURE__ */ new Map();
    this.instanceDepth = /* @__PURE__ */ new WeakMap();
    this.renderer = new Renderer$1(canvasWebGL, resourceManager2);
    if (window["_game"])
      window["_game"].quit();
    window["_game"] = this;
    this.init();
  }
  async init() {
    for (let sprite of this.resourceManager.getSprites()) {
      if (sprite instanceof Sprite) {
        sprite.generateCode();
      }
      this.instanceSets.set(sprite.uuid, /* @__PURE__ */ new WeakSet());
    }
    (async () => {
      await new Promise((resolve) => {
        window.addEventListener("mousedown", resolve);
        window.addEventListener("touchstart", resolve);
        window.addEventListener("keydown", resolve);
      });
      SoundEffect.init();
      for (let soundEffect of this.resourceManager.getSoundEffects()) {
        soundEffect.createBuffer();
      }
    })();
    this.instanceSets.set(ALL_UUID, /* @__PURE__ */ new WeakSet());
    this.instanceSets.set(NOONE_UUID, /* @__PURE__ */ new WeakSet());
    for (const resource of this.resourceManager.resources.values()) {
      Object.defineProperty(window, resource.name, {
        configurable: true,
        writable: false,
        value: resource.uuid
      });
    }
    defineLibProperty("roomWidth", () => {
      var _a;
      return (_a = this.currentRoom) == null ? void 0 : _a.width;
    });
    defineLibProperty("roomHeight", () => {
      var _a;
      return (_a = this.currentRoom) == null ? void 0 : _a.height;
    });
    defineLibProperty("mouseX", () => this.mouseX);
    defineLibProperty("mouseY", () => this.mouseY);
    defineLibProperty("all", () => ALL_UUID);
    defineLibProperty("noone", () => NOONE_UUID);
    defineLibProperty("currentRoom", () => this.currentRoom.uuid);
    defineLibProperty(
      "overlayText",
      () => this.htmlOverlay.textContent,
      (text2) => {
        this.htmlOverlay.textContent = text2;
      }
    );
    defineLibFunction("spawn", (sprite, x, y) => this.createInstance(sprite, x, y));
    defineLibFunction("destroyImmediate", (instance2) => this.destroyInstance(instance2));
    defineLibFunction("destroy", (instance2) => {
      if (!instance2)
        return false;
      this.destroyed.add(instance2);
      return true;
    });
    defineLibFunction("find", (filter) => {
      const ws = this.instanceSets.get(filter);
      return this.instances.find((x) => ws.has(x));
    });
    defineLibFunction("findAll", (filter) => {
      const ws = this.instanceSets.get(filter);
      return this.instances.filter((x) => ws.has(x));
    });
    defineLibFunction("findClosest", (filter, x, y) => {
      const ws = this.instanceSets.get(filter);
      let closest = null;
      let closestDistSqr = Infinity;
      for (let inst of this.instances) {
        if (!ws.has(inst))
          continue;
        const distSqr = (inst.x - x) ** 2 + (inst.y - y) ** 2;
        if (distSqr <= closestDistSqr) {
          closestDistSqr = distSqr;
          closest = inst;
        }
      }
      return closest;
    });
    defineLibFunction("setDepth", (self, depth) => {
      this.instanceDepth.set(self, depth);
    });
    defineLibFunction("goToNextRoom", () => this.moveRoom(1));
    defineLibFunction("goToPreviousRoom", () => this.moveRoom(-1));
    defineLibFunction("goToRoom", (roomID) => this.setRoom(roomID));
    defineLibFunction("moveRooms", (difference) => this.moveRoom(difference));
    defineLibFunction("nameOf", (uuid) => this.resourceManager.getResource(uuid).name);
    defineLibFunction("keyIsDown", (...codes) => this.checkKeys("down", ...codes));
    defineLibFunction("keyIsPressed", (...codes) => this.checkKeys("pressed", ...codes));
    defineLibFunction("keyIsReleased", (...codes) => this.checkKeys("released", ...codes));
    defineLibFunction("collisionAt", (instance2, filter, x, y) => this.collisionAt(instance2, filter, x, y));
    defineLibFunction("instancesAt", (instance2, filter, x, y) => Array.from(this._iterateCollisionsAt(instance2, filter, x, y)));
    defineLibFunction("lerp", (a, b, factor) => a * (1 - factor) + b * factor);
    defineLibFunction(
      "approach",
      (a, b, speed) => a + Math.sign(b - a) * Math.min(speed, Math.abs(b - a))
    );
    defineLibFunction(
      "distance",
      (x1, y1, x2, y2) => ((x1 - x2) ** 2 + (y1 - y2) ** 2) ** 0.5
    );
    defineLibFunction("colorRGBA", getColorRGBA);
    defineLibFunction("colorHSVA", getColorHSVA);
    defineLibFunction("persist", (instance2, level = 1) => this.persistent.set(instance2, level));
    defineLibFunction("tag", (instance2, tagName) => {
      if (!this.instanceSets.has(tagName))
        this.instanceSets.set(tagName, /* @__PURE__ */ new WeakSet());
      let ws = this.instanceSets.get(tagName);
      ws.add(instance2);
    });
    defineLibFunction("untag", (instance2, tagName) => {
      if (!this.instanceSets.has(tagName))
        return;
      let ws = this.instanceSets.get(tagName);
      ws.delete(instance2);
    });
    defineLibFunction("drandom", () => xorshiftGetRandom01());
    defineLibFunction("drandomSetSeed", (seed) => xorshiftSetSeed(seed));
    defineLibFunction("getCanvas2DContext", () => this.canvas2d.getContext("2d"));
    defineLibFunction("openRemixMenu", () => this.requestOpenEditor());
    defineLibFunction("endGame", () => this.quit());
    defineLibFunction("playSound", (soundID, gain = 1, detune = 0) => {
      let sfx = this.resourceManager.getResourceOfType(soundID, SoundEffect);
      if (sfx) {
        sfx.play(gain, detune);
      }
    });
    window.onmousedown = () => {
    };
    window.onkeydown = (event) => {
      this.keyMap.set(event.code, true);
      return false;
    };
    window.onkeyup = (event) => {
      this.keyMap.set(event.code, false);
      return false;
    };
    window.onmousemove = (ev) => {
      this.mouseX = ev.offsetX * devicePixelRatio;
      this.mouseY = ev.offsetY * devicePixelRatio;
    };
    if (this.startRoom) {
      this._setRoomDirect(this.startRoom);
      this.mainLoop();
    } else {
      this.htmlOverlay.innerText = "please create a room";
    }
  }
  async mainLoop() {
    let lastFrame = Date.now();
    let minimumTimeBetweenFrames = 1e3 / 70;
    while (!this.isEnding) {
      await new Promise((resolve) => window.requestAnimationFrame(() => {
        resolve(null);
      }));
      const now2 = Date.now();
      const delta = now2 - lastFrame;
      if (delta > minimumTimeBetweenFrames) {
        await this.update();
        lastFrame = now2;
      }
    }
    if (this.quitGameCallback)
      this.quitGameCallback();
  }
  registerEditorCallback(callback) {
    this.editorCallback = callback;
  }
  requestOpenEditor() {
    this.editorCallback();
  }
  checkKeys(mode, ...codes) {
    let map = mode == "pressed" ? this.pressedMap : mode == "released" ? this.releasedMap : this.keyMap;
    for (let code of codes) {
      if (code == "KeyAny") {
        if (Array.from(map.values()).includes(true)) {
          return true;
        }
      } else if (map.has(code) && map.get(code)) {
        return true;
      }
    }
    return false;
  }
  createInstance(spriteUUID, x, y) {
    var _a;
    const sprite = this.resourceManager.getResource(spriteUUID);
    if (!sprite._instanceConstructor)
      throw Error(`Compiler error in ${sprite.name}`);
    const inst = sprite._instanceConstructor(x, y);
    if (!inst)
      return;
    this.instances.push(inst);
    this.instanceSets.get(ALL_UUID).add(inst);
    (_a = this.instanceSets.get(inst.spriteID)) == null ? void 0 : _a.add(inst);
    return inst;
  }
  destroyInstance(instance2) {
    let instID = this.instances.indexOf(instance2);
    if (instID >= 0)
      this.instances.splice(instID, 1);
  }
  collisionAt(instance2, filter, x, y) {
    const ws = this.instanceSets.get(filter);
    if (!ws)
      return false;
    for (let other of this.instances) {
      if (other != instance2 && ws.has(other)) {
        if (this.spriteIntersect(instance2.spriteID, x, y, other.spriteID, other.x, other.y)) {
          return true;
        }
      }
    }
    return false;
  }
  *_iterateCollisionsAt(instance2, filter, x, y) {
    const ws = this.instanceSets.get(filter);
    if (!ws)
      return false;
    for (let other of this.instances) {
      if (other != instance2 && ws.has(other)) {
        if (this.spriteIntersect(instance2.spriteID, x, y, other.spriteID, other.x, other.y)) {
          yield other;
        }
      }
    }
  }
  spriteIntersect(sprID1, x1, y1, sprID2, x2, y2) {
    const spr1 = this.resourceManager.getResource(sprID1);
    const spr2 = this.resourceManager.getResource(sprID2);
    const inst1Left = x1 - spr1.originX + spr1.bBoxX;
    const inst1Right = inst1Left + spr1.bBoxWidth;
    const inst1Top = y1 - spr1.originY + spr1.bBoxY;
    const inst1Bottom = inst1Top + spr1.bBoxHeight;
    const inst2Left = x2 - spr2.originX + spr2.bBoxX;
    const inst2Right = inst2Left + spr2.bBoxWidth;
    const inst2Top = y2 - spr2.originY + spr2.bBoxY;
    const inst2Bottom = inst2Top + spr2.bBoxHeight;
    return inst1Left < inst2Right && inst1Right > inst2Left && inst1Top < inst2Bottom && inst1Bottom > inst2Top;
  }
  // instanceIntersect(inst1: SpriteInstance, inst2: SpriteInstance): boolean {
  //     const spr1 = this.resourceManager.getResource(inst1.spriteID) as Sprite;
  //     const spr2 = this.resourceManager.getResource(inst2.spriteID) as Sprite;
  //     ...
  // }
  moveRoom(delta) {
    let rooms = this.resourceManager.getRooms();
    let currentID = rooms.indexOf(this.currentRoom);
    if (currentID < 0)
      return;
    let newID = mod(currentID + delta, rooms.length);
    this.queuedRoom = rooms[newID];
  }
  setRoom(roomUUID) {
    let room = this.resourceManager.getResourceOfType(roomUUID, Room);
    if (!room)
      return;
    this.queuedRoom = room;
  }
  _setRoomDirect(room) {
    this.currentRoom = room;
    this.canvasWebgl.width = room.width;
    this.canvasWebgl.height = room.height;
    document.body.style.backgroundColor = room.backgroundColor;
    this.instances = this.instances.filter((x) => this.persistent.get(x) >= 2);
    xorshiftSetSeed(room.uuid);
    for (let roomInst of room.instances) {
      let existing = this.instanceSpriteInstanceMap.get(roomInst);
      if (existing && this.persistent.has(existing) && this.persistent.get(existing) > 0 && this.destroyed.has(existing)) {
        continue;
      }
      let pLevel = existing && this.persistent.get(existing) || 0;
      if (!existing || pLevel <= 0) {
        try {
          let inst = this.createInstance(roomInst.spriteID, roomInst.x, roomInst.y);
          this.instanceSpriteInstanceMap.set(roomInst, inst);
        } catch (e) {
          this.handleError(e);
        }
      } else if (pLevel == 1) {
        this.instances.push(existing);
      }
    }
  }
  _registerInstance(inst) {
    this.resourceManager.getResource(inst.spriteID);
  }
  quit() {
    this.isEnding = true;
  }
  async handleError(e) {
    if (this.errorCallback) {
      let abort = await this.errorCallback(e);
      if (abort) {
        this.quit();
      }
      console.error(e);
    } else {
      console.error(e);
      this.quit();
    }
  }
  async update() {
    for (let [key2, value] of this.keyMap) {
      const previous = this.keyMapSnapshot.has(key2) && this.keyMapSnapshot.get(key2);
      this.pressedMap.set(key2, !previous && value);
      this.releasedMap.set(key2, previous && !value);
      this.keyMapSnapshot.set(key2, value);
    }
    this.canvas2d.getContext("2d").clearRect(0, 0, this.canvas2d.width, this.canvas2d.height);
    for (let inst of this.instances) {
      try {
        inst.update(inst);
      } catch (e) {
        await this.handleError(e);
      }
    }
    for (let inst of this.instances) {
      if (this.destroyed.has(inst))
        this.destroyInstance(inst);
    }
    this.instances.sort(
      (a, b) => (this.instanceDepth.get(a) || 0) - (this.instanceDepth.get(b) || 0)
    );
    this.renderer.render(this.instances);
    if (this.queuedRoom != null) {
      this._setRoomDirect(this.queuedRoom);
      this.queuedRoom = null;
    }
    this.tickNumber++;
  }
}
function defineLibFunction(name, func) {
  Object.defineProperty(window, name, {
    configurable: true,
    writable: false,
    value: func
  });
}
function defineLibProperty(name, getter, setter = void 0) {
  let config = {
    configurable: true,
    get: getter
  };
  if (setter)
    config.set = setter;
  Object.defineProperty(window, name, config);
}
class Folder extends Resource {
  constructor(name = "folder", resourceManager2, contents = [], resourceType = null) {
    super(name);
    this.contents = [];
    this.resourceType = resourceType;
  }
  *iterateAllResources() {
    yield* Folder.iterateResource(this);
  }
  static *iterateResource(resource) {
    if (resource instanceof Folder) {
      for (let r of resource.contents) {
        yield* Folder.iterateResource(r);
      }
    } else {
      yield resource;
    }
  }
}
class Instance {
  constructor(spriteID, x, y) {
    this.spriteID = spriteID;
    this.x = x;
    this.y = y;
  }
  draw(ctx) {
    let sprite = resourceManager.get().getResource(this.spriteID);
    if (sprite && sprite instanceof Sprite && sprite.canvas) {
      ctx.drawImage(sprite.canvas, this.x - sprite.originX, this.y - sprite.originY);
    } else {
      console.log(`sprite ${this.spriteID} does not exist.`);
    }
  }
  isValid() {
    let sprite = resourceManager.get().getResource(this.spriteID);
    return sprite && sprite instanceof Sprite;
  }
  // clone() {
  //     let inst = new Instance(this.spriteID, this.x, this.y);
  //     return inst;
  // }
}
const BPlayerController_svelte_svelte_type_style_lang = "";
function get_each_context$d(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[20] = list[i];
  return child_ctx;
}
function get_each_context_1$5(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[23] = list[i];
  return child_ctx;
}
function get_each_context_2$2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[23] = list[i];
  return child_ctx;
}
function create_each_block_2$2(ctx) {
  let option;
  let t;
  return {
    c() {
      option = element("option");
      t = text(
        /*value*/
        ctx[23]
      );
      option.__value = /*value*/
      ctx[23];
      option.value = option.__value;
      attr(option, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_if_block_2$2(ctx) {
  let tr;
  let td0;
  let t1;
  let td1;
  let input;
  let mounted;
  let dispose;
  return {
    c() {
      tr = element("tr");
      td0 = element("td");
      td0.textContent = " move speed:";
      t1 = space();
      td1 = element("td");
      input = element("input");
      attr(td0, "class", "svelte-1e8c01h");
      attr(input, "type", "number");
      attr(input, "class", "svelte-1e8c01h");
      attr(td1, "class", "svelte-1e8c01h");
      attr(tr, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, tr, anchor);
      append(tr, td0);
      append(tr, t1);
      append(tr, td1);
      append(td1, input);
      set_input_value(
        input,
        /*moveSpeed*/
        ctx[5]
      );
      if (!mounted) {
        dispose = listen(
          input,
          "input",
          /*input_input_handler*/
          ctx[13]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*moveSpeed*/
      32 && to_number(input.value) !== /*moveSpeed*/
      ctx2[5]) {
        set_input_value(
          input,
          /*moveSpeed*/
          ctx2[5]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(tr);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block_1$9(ctx) {
  let tr0;
  let td0;
  let t1;
  let td1;
  let input0;
  let t2;
  let tr1;
  let td2;
  let t4;
  let td3;
  let input1;
  let mounted;
  let dispose;
  return {
    c() {
      tr0 = element("tr");
      td0 = element("td");
      td0.textContent = " cell width:";
      t1 = space();
      td1 = element("td");
      input0 = element("input");
      t2 = space();
      tr1 = element("tr");
      td2 = element("td");
      td2.textContent = " cell height:";
      t4 = space();
      td3 = element("td");
      input1 = element("input");
      attr(td0, "class", "svelte-1e8c01h");
      attr(input0, "type", "number");
      attr(input0, "class", "svelte-1e8c01h");
      attr(td1, "class", "svelte-1e8c01h");
      attr(tr0, "class", "svelte-1e8c01h");
      attr(td2, "class", "svelte-1e8c01h");
      attr(input1, "type", "number");
      attr(input1, "class", "svelte-1e8c01h");
      attr(td3, "class", "svelte-1e8c01h");
      attr(tr1, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, tr0, anchor);
      append(tr0, td0);
      append(tr0, t1);
      append(tr0, td1);
      append(td1, input0);
      set_input_value(
        input0,
        /*gridCellWidth*/
        ctx[2]
      );
      insert(target, t2, anchor);
      insert(target, tr1, anchor);
      append(tr1, td2);
      append(tr1, t4);
      append(tr1, td3);
      append(td3, input1);
      set_input_value(
        input1,
        /*gridCellHeight*/
        ctx[3]
      );
      if (!mounted) {
        dispose = [
          listen(
            input0,
            "input",
            /*input0_input_handler*/
            ctx[14]
          ),
          listen(
            input1,
            "input",
            /*input1_input_handler*/
            ctx[15]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*gridCellWidth*/
      4 && to_number(input0.value) !== /*gridCellWidth*/
      ctx2[2]) {
        set_input_value(
          input0,
          /*gridCellWidth*/
          ctx2[2]
        );
      }
      if (dirty & /*gridCellHeight*/
      8 && to_number(input1.value) !== /*gridCellHeight*/
      ctx2[3]) {
        set_input_value(
          input1,
          /*gridCellHeight*/
          ctx2[3]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(tr0);
      if (detaching)
        detach(t2);
      if (detaching)
        detach(tr1);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_each_block_1$5(ctx) {
  let option;
  let t;
  return {
    c() {
      option = element("option");
      t = text(
        /*value*/
        ctx[23]
      );
      option.__value = /*value*/
      ctx[23];
      option.value = option.__value;
      attr(option, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_if_block$h(ctx) {
  let tr;
  let td0;
  let t1;
  let td1;
  let input;
  let mounted;
  let dispose;
  return {
    c() {
      tr = element("tr");
      td0 = element("td");
      td0.textContent = " speed:";
      t1 = space();
      td1 = element("td");
      input = element("input");
      attr(td0, "class", "svelte-1e8c01h");
      attr(input, "type", "number");
      attr(input, "min", "0");
      attr(input, "class", "svelte-1e8c01h");
      attr(td1, "class", "svelte-1e8c01h");
      attr(tr, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, tr, anchor);
      append(tr, td0);
      append(tr, t1);
      append(tr, td1);
      append(td1, input);
      set_input_value(
        input,
        /*lerpSpeed*/
        ctx[4]
      );
      if (!mounted) {
        dispose = listen(
          input,
          "input",
          /*input_input_handler_1*/
          ctx[17]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*lerpSpeed*/
      16 && to_number(input.value) !== /*lerpSpeed*/
      ctx2[4]) {
        set_input_value(
          input,
          /*lerpSpeed*/
          ctx2[4]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(tr);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block$d(ctx) {
  let option;
  let t_value = (
    /*sprite*/
    ctx[20].name + ""
  );
  let t;
  let option_value_value;
  return {
    c() {
      option = element("option");
      t = text(t_value);
      option.__value = option_value_value = /*sprite*/
      ctx[20].uuid;
      option.value = option.__value;
      attr(option, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p(ctx2, dirty) {
      if (dirty & /*$resourceManager*/
      256 && t_value !== (t_value = /*sprite*/
      ctx2[20].name + ""))
        set_data(t, t_value);
      if (dirty & /*$resourceManager*/
      256 && option_value_value !== (option_value_value = /*sprite*/
      ctx2[20].uuid)) {
        option.__value = option_value_value;
        option.value = option.__value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_fragment$P(ctx) {
  let table;
  let tr0;
  let td0;
  let t1;
  let td1;
  let select0;
  let t2;
  let t3;
  let t4;
  let tr1;
  let td2;
  let t6;
  let td3;
  let select1;
  let t7;
  let t8;
  let tr2;
  let td4;
  let t10;
  let td5;
  let select2;
  let option;
  let t12;
  let tr3;
  let td6;
  let t14;
  let td7;
  let input;
  let mounted;
  let dispose;
  let each_value_2 = ["continuous", "grid"];
  let each_blocks_2 = [];
  for (let i = 0; i < 2; i += 1) {
    each_blocks_2[i] = create_each_block_2$2(get_each_context_2$2(ctx, each_value_2, i));
  }
  let if_block0 = (
    /*moveMode*/
    ctx[0] == "continuous" && create_if_block_2$2(ctx)
  );
  let if_block1 = (
    /*moveMode*/
    ctx[0] == "grid" && create_if_block_1$9(ctx)
  );
  let each_value_1 = ["none", "smooth"];
  let each_blocks_1 = [];
  for (let i = 0; i < 2; i += 1) {
    each_blocks_1[i] = create_each_block_1$5(get_each_context_1$5(ctx, each_value_1, i));
  }
  let if_block2 = (
    /*smoothMode*/
    ctx[1] == "smooth" && create_if_block$h(ctx)
  );
  let each_value = (
    /*$resourceManager*/
    ctx[8].getSprites()
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$d(get_each_context$d(ctx, each_value, i));
  }
  return {
    c() {
      table = element("table");
      tr0 = element("tr");
      td0 = element("td");
      td0.textContent = "movement:";
      t1 = space();
      td1 = element("td");
      select0 = element("select");
      for (let i = 0; i < 2; i += 1) {
        each_blocks_2[i].c();
      }
      t2 = space();
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      t4 = space();
      tr1 = element("tr");
      td2 = element("td");
      td2.textContent = "smoothing:";
      t6 = space();
      td3 = element("td");
      select1 = element("select");
      for (let i = 0; i < 2; i += 1) {
        each_blocks_1[i].c();
      }
      t7 = space();
      if (if_block2)
        if_block2.c();
      t8 = space();
      tr2 = element("tr");
      td4 = element("td");
      td4.textContent = "collision:";
      t10 = space();
      td5 = element("td");
      select2 = element("select");
      option = element("option");
      option.textContent = "(no collision)";
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t12 = space();
      tr3 = element("tr");
      td6 = element("td");
      td6.textContent = "flip sprite:";
      t14 = space();
      td7 = element("td");
      input = element("input");
      attr(td0, "class", "svelte-1e8c01h");
      attr(select0, "class", "svelte-1e8c01h");
      if (
        /*moveMode*/
        ctx[0] === void 0
      )
        add_render_callback(() => (
          /*select0_change_handler*/
          ctx[12].call(select0)
        ));
      attr(td1, "class", "svelte-1e8c01h");
      attr(tr0, "class", "svelte-1e8c01h");
      attr(td2, "class", "svelte-1e8c01h");
      attr(select1, "class", "svelte-1e8c01h");
      if (
        /*smoothMode*/
        ctx[1] === void 0
      )
        add_render_callback(() => (
          /*select1_change_handler*/
          ctx[16].call(select1)
        ));
      attr(td3, "class", "svelte-1e8c01h");
      attr(tr1, "class", "svelte-1e8c01h");
      attr(td4, "class", "svelte-1e8c01h");
      option.__value = "";
      option.value = option.__value;
      attr(option, "class", "svelte-1e8c01h");
      attr(select2, "class", "svelte-1e8c01h");
      if (
        /*collisionSpriteUUID*/
        ctx[6] === void 0
      )
        add_render_callback(() => (
          /*select2_change_handler*/
          ctx[18].call(select2)
        ));
      attr(td5, "class", "svelte-1e8c01h");
      attr(tr2, "class", "svelte-1e8c01h");
      attr(td6, "class", "svelte-1e8c01h");
      attr(input, "type", "checkbox");
      attr(input, "class", "svelte-1e8c01h");
      attr(td7, "class", "svelte-1e8c01h");
      attr(tr3, "class", "svelte-1e8c01h");
      attr(table, "class", "svelte-1e8c01h");
    },
    m(target, anchor) {
      insert(target, table, anchor);
      append(table, tr0);
      append(tr0, td0);
      append(tr0, t1);
      append(tr0, td1);
      append(td1, select0);
      for (let i = 0; i < 2; i += 1) {
        if (each_blocks_2[i]) {
          each_blocks_2[i].m(select0, null);
        }
      }
      select_option(
        select0,
        /*moveMode*/
        ctx[0],
        true
      );
      append(table, t2);
      if (if_block0)
        if_block0.m(table, null);
      append(table, t3);
      if (if_block1)
        if_block1.m(table, null);
      append(table, t4);
      append(table, tr1);
      append(tr1, td2);
      append(tr1, t6);
      append(tr1, td3);
      append(td3, select1);
      for (let i = 0; i < 2; i += 1) {
        if (each_blocks_1[i]) {
          each_blocks_1[i].m(select1, null);
        }
      }
      select_option(
        select1,
        /*smoothMode*/
        ctx[1],
        true
      );
      append(table, t7);
      if (if_block2)
        if_block2.m(table, null);
      append(table, t8);
      append(table, tr2);
      append(tr2, td4);
      append(tr2, t10);
      append(tr2, td5);
      append(td5, select2);
      append(select2, option);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(select2, null);
        }
      }
      select_option(
        select2,
        /*collisionSpriteUUID*/
        ctx[6],
        true
      );
      append(table, t12);
      append(table, tr3);
      append(tr3, td6);
      append(tr3, t14);
      append(tr3, td7);
      append(td7, input);
      input.checked = /*flipSprite*/
      ctx[7];
      if (!mounted) {
        dispose = [
          listen(
            select0,
            "change",
            /*select0_change_handler*/
            ctx[12]
          ),
          listen(
            select1,
            "change",
            /*select1_change_handler*/
            ctx[16]
          ),
          listen(
            select2,
            "change",
            /*select2_change_handler*/
            ctx[18]
          ),
          listen(
            input,
            "change",
            /*input_change_handler*/
            ctx[19]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & /*moveMode*/
      1) {
        select_option(
          select0,
          /*moveMode*/
          ctx2[0]
        );
      }
      if (
        /*moveMode*/
        ctx2[0] == "continuous"
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_2$2(ctx2);
          if_block0.c();
          if_block0.m(table, t3);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (
        /*moveMode*/
        ctx2[0] == "grid"
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
        } else {
          if_block1 = create_if_block_1$9(ctx2);
          if_block1.c();
          if_block1.m(table, t4);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (dirty & /*smoothMode*/
      2) {
        select_option(
          select1,
          /*smoothMode*/
          ctx2[1]
        );
      }
      if (
        /*smoothMode*/
        ctx2[1] == "smooth"
      ) {
        if (if_block2) {
          if_block2.p(ctx2, dirty);
        } else {
          if_block2 = create_if_block$h(ctx2);
          if_block2.c();
          if_block2.m(table, t8);
        }
      } else if (if_block2) {
        if_block2.d(1);
        if_block2 = null;
      }
      if (dirty & /*$resourceManager*/
      256) {
        each_value = /*$resourceManager*/
        ctx2[8].getSprites();
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$d(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$d(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(select2, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (dirty & /*collisionSpriteUUID, $resourceManager*/
      320) {
        select_option(
          select2,
          /*collisionSpriteUUID*/
          ctx2[6]
        );
      }
      if (dirty & /*flipSprite*/
      128) {
        input.checked = /*flipSprite*/
        ctx2[7];
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(table);
      destroy_each(each_blocks_2, detaching);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      destroy_each(each_blocks_1, detaching);
      if (if_block2)
        if_block2.d();
      destroy_each(each_blocks, detaching);
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance$O($$self, $$props, $$invalidate) {
  let selectedCollisionSpriteStore;
  let $selectedCollisionSpriteStore, $$unsubscribe_selectedCollisionSpriteStore = noop, $$subscribe_selectedCollisionSpriteStore = () => ($$unsubscribe_selectedCollisionSpriteStore(), $$unsubscribe_selectedCollisionSpriteStore = subscribe$3(selectedCollisionSpriteStore, ($$value) => $$invalidate(11, $selectedCollisionSpriteStore = $$value)), selectedCollisionSpriteStore);
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(8, $resourceManager = $$value));
  $$self.$$.on_destroy.push(() => $$unsubscribe_selectedCollisionSpriteStore());
  let { behaviour } = $$props;
  let moveMode = behaviour.data.moveMode;
  let smoothMode = behaviour.data.smoothMode;
  let gridCellWidth = behaviour.data.gridCellWidth != void 0 ? behaviour.data.gridCellWidth : 60;
  let gridCellHeight = behaviour.data.gridCellHeight != void 0 ? behaviour.data.gridCellHeight : 60;
  let lerpSpeed = behaviour.data.lerpSpeed != void 0 ? behaviour.data.lerpSpeed : 4;
  let moveSpeed = behaviour.data.moveSpeed != void 0 ? behaviour.data.moveSpeed : 4;
  let collisionSpriteUUID = behaviour.data.collisionSpriteUUID != void 0 ? behaviour.data.collisionSpriteUUID : "";
  let flipSprite = behaviour.data.flipSprite != void 0 ? behaviour.data.flipSprite : true;
  function select0_change_handler() {
    moveMode = select_value(this);
    $$invalidate(0, moveMode);
  }
  function input_input_handler() {
    moveSpeed = to_number(this.value);
    $$invalidate(5, moveSpeed);
  }
  function input0_input_handler() {
    gridCellWidth = to_number(this.value);
    $$invalidate(2, gridCellWidth);
  }
  function input1_input_handler() {
    gridCellHeight = to_number(this.value);
    $$invalidate(3, gridCellHeight);
  }
  function select1_change_handler() {
    smoothMode = select_value(this);
    $$invalidate(1, smoothMode);
  }
  function input_input_handler_1() {
    lerpSpeed = to_number(this.value);
    $$invalidate(4, lerpSpeed);
  }
  function select2_change_handler() {
    collisionSpriteUUID = select_value(this);
    $$invalidate(6, collisionSpriteUUID);
  }
  function input_change_handler() {
    flipSprite = this.checked;
    $$invalidate(7, flipSprite);
  }
  $$self.$$set = ($$props2) => {
    if ("behaviour" in $$props2)
      $$invalidate(10, behaviour = $$props2.behaviour);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$resourceManager, collisionSpriteUUID*/
    320) {
      $$subscribe_selectedCollisionSpriteStore($$invalidate(9, selectedCollisionSpriteStore = $resourceManager.getResourceStore(collisionSpriteUUID)));
    }
    if ($$self.$$.dirty & /*moveMode, moveSpeed, smoothMode, gridCellWidth, gridCellHeight, lerpSpeed, collisionSpriteUUID, flipSprite*/
    255) {
      $$invalidate(
        10,
        behaviour.data = {
          moveMode,
          moveSpeed,
          smoothMode,
          gridCellWidth,
          gridCellHeight,
          lerpSpeed,
          collisionSpriteUUID,
          flipSprite
        },
        behaviour
      );
    }
    if ($$self.$$.dirty & /*behaviour*/
    1024) {
      if (behaviour)
        $$invalidate(10, behaviour.props = ["xspd", "yspd", "xx", "yy"], behaviour);
    }
    if ($$self.$$.dirty & /*behaviour, moveSpeed, moveMode, gridCellWidth, gridCellHeight, $selectedCollisionSpriteStore, smoothMode, lerpSpeed, flipSprite*/
    3263) {
      if (behaviour)
        $$invalidate(
          10,
          behaviour.code = `
        xspd = 0;
        yspd = 0;
        
        // should not do it like this blabla
        xx = x;
        yy = y;

        const moveSpeed = ${moveSpeed};

        onUpdate(() => {
        ${moveMode == "grid" ? `
            let hor = keyIsPressed("KeyD", "ArrowRight") - keyIsPressed("KeyA", "ArrowLeft");
            let ver = keyIsPressed("KeyS", "ArrowDown") - keyIsPressed("KeyW", "ArrowUp");

            xspd = hor * ${gridCellWidth};
            yspd = ver * ${gridCellHeight};
            ` : `
            let hor = keyIsDown("KeyD", "ArrowRight") - keyIsDown("KeyA", "ArrowLeft");
            let ver = keyIsDown("KeyS", "ArrowDown") - keyIsDown("KeyW", "ArrowUp");

            xspd = hor * moveSpeed;
            yspd = ver * moveSpeed;
            `}
        ${$selectedCollisionSpriteStore ? `
            // collision
            // for(let i = 0; i < Math.abs(xspd); i++) {
            //     if(!collisionAt(me, ${$selectedCollisionSpriteStore.name}, xx + Math.sign(xspd), yy))
            //       xx += Math.sign(xspd);
            // }
            // for(let i = 0; i < Math.abs(yspd); i++) {
            //     if(!collisionAt(me, ${$selectedCollisionSpriteStore.name}, xx, yy + Math.sign(yspd)))
            //       yy += Math.sign(yspd);
            // }
            if(!collisionAt(me, ${$selectedCollisionSpriteStore.name}, xx + xspd, yy))
                xx += xspd;
            if(!collisionAt(me, ${$selectedCollisionSpriteStore.name}, xx, yy + yspd))
                yy += yspd;
            ` : `
            xx += xspd;
            yy += yspd;
            `}
        ${smoothMode == "smooth" ? `
            const l = ${1 - 1 / (1 + lerpSpeed / 10)};
            x = l * xx + (1-l) * x;
            y = l * yy + (1-l) * y;
            ` : `
            x = xx;
            y = yy;
            `}
        ${flipSprite ? "if(xspd != 0) imgScaleX = Math.sign(xspd);" : ""}
    });
    `,
          behaviour
        );
    }
  };
  $$invalidate(10, behaviour.iconID = 75, behaviour);
  return [
    moveMode,
    smoothMode,
    gridCellWidth,
    gridCellHeight,
    lerpSpeed,
    moveSpeed,
    collisionSpriteUUID,
    flipSprite,
    $resourceManager,
    selectedCollisionSpriteStore,
    behaviour,
    $selectedCollisionSpriteStore,
    select0_change_handler,
    input_input_handler,
    input0_input_handler,
    input1_input_handler,
    select1_change_handler,
    input_input_handler_1,
    select2_change_handler,
    input_change_handler
  ];
}
class BPlayerController extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$O, create_fragment$P, safe_not_equal, { behaviour: 10 });
  }
}
let nameConstructorMap = /* @__PURE__ */ new Map();
nameConstructorMap.set("Sprite", Sprite);
nameConstructorMap.set("Room", Room);
nameConstructorMap.set("Folder", Folder);
nameConstructorMap.set("Instance", Instance);
nameConstructorMap.set("Behaviour", Behaviour);
nameConstructorMap.set("SoundEffect", SoundEffect);
nameConstructorMap.set("BehaviourLink", BehaviourLink);
nameConstructorMap.set("BCustomSvelte", BCustom);
nameConstructorMap.set("BPlayerControllerSvelte", BPlayerController);
const game_svelte_svelte_type_style_lang = "";
const { window: window_1$1 } = globals;
function create_catch_block$4(ctx) {
  return { c: noop, m: noop, p: noop, d: noop };
}
function create_then_block$4(ctx) {
  let div2;
  let main2;
  let canvas0;
  let style_width = `${/*canvasDisplayWidth*/
  ctx[2]}px`;
  let style_height = `${/*canvasDisplayHeight*/
  ctx[1]}px`;
  let t0;
  let div1;
  let t1;
  let t2;
  let div0;
  let style_width_1 = `${/*canvasDisplayWidth*/
  ctx[2]}px`;
  let style_height_1 = `${/*canvasDisplayHeight*/
  ctx[1]}px`;
  let t3;
  let canvas1;
  let style_width_2 = `${/*canvasDisplayWidth*/
  ctx[2]}px`;
  let style_height_2 = `${/*canvasDisplayHeight*/
  ctx[1]}px`;
  let if_block0 = (
    /*requestEditorOpen*/
    ctx[6] && create_if_block_1$8(ctx)
  );
  let if_block1 = (
    /*currentError*/
    ctx[7] && create_if_block$g(ctx)
  );
  return {
    c() {
      div2 = element("div");
      main2 = element("main");
      canvas0 = element("canvas");
      t0 = space();
      div1 = element("div");
      if (if_block0)
        if_block0.c();
      t1 = space();
      if (if_block1)
        if_block1.c();
      t2 = space();
      div0 = element("div");
      t3 = space();
      canvas1 = element("canvas");
      attr(canvas0, "class", "canvas-2d svelte-oyvjet");
      attr(
        canvas0,
        "width",
        /*canvasWidth*/
        ctx[4]
      );
      attr(
        canvas0,
        "height",
        /*canvasHeight*/
        ctx[3]
      );
      set_style(canvas0, "width", style_width);
      set_style(canvas0, "height", style_height);
      attr(div0, "class", "gametext svelte-oyvjet");
      attr(div1, "class", "text-overlay svelte-oyvjet");
      set_style(div1, "width", style_width_1);
      set_style(div1, "height", style_height_1);
      attr(canvas1, "class", "canvas-webgl");
      set_style(canvas1, "width", style_width_2);
      set_style(canvas1, "height", style_height_2);
      attr(main2, "class", "svelte-oyvjet");
      attr(div2, "class", "contains-main svelte-oyvjet");
    },
    m(target, anchor) {
      insert(target, div2, anchor);
      append(div2, main2);
      append(main2, canvas0);
      ctx[14](canvas0);
      append(main2, t0);
      append(main2, div1);
      if (if_block0)
        if_block0.m(div1, null);
      append(div1, t1);
      if (if_block1)
        if_block1.m(div1, null);
      append(div1, t2);
      append(div1, div0);
      ctx[16](div0);
      append(main2, t3);
      append(main2, canvas1);
      ctx[17](canvas1);
    },
    p(ctx2, dirty) {
      if (dirty & /*canvasWidth*/
      16) {
        attr(
          canvas0,
          "width",
          /*canvasWidth*/
          ctx2[4]
        );
      }
      if (dirty & /*canvasHeight*/
      8) {
        attr(
          canvas0,
          "height",
          /*canvasHeight*/
          ctx2[3]
        );
      }
      if (dirty & /*canvasDisplayWidth*/
      4 && style_width !== (style_width = `${/*canvasDisplayWidth*/
      ctx2[2]}px`)) {
        set_style(canvas0, "width", style_width);
      }
      if (dirty & /*canvasDisplayHeight*/
      2 && style_height !== (style_height = `${/*canvasDisplayHeight*/
      ctx2[1]}px`)) {
        set_style(canvas0, "height", style_height);
      }
      if (
        /*requestEditorOpen*/
        ctx2[6]
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_1$8(ctx2);
          if_block0.c();
          if_block0.m(div1, t1);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (
        /*currentError*/
        ctx2[7]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
        } else {
          if_block1 = create_if_block$g(ctx2);
          if_block1.c();
          if_block1.m(div1, t2);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (dirty & /*canvasDisplayWidth*/
      4 && style_width_1 !== (style_width_1 = `${/*canvasDisplayWidth*/
      ctx2[2]}px`)) {
        set_style(div1, "width", style_width_1);
      }
      if (dirty & /*canvasDisplayHeight*/
      2 && style_height_1 !== (style_height_1 = `${/*canvasDisplayHeight*/
      ctx2[1]}px`)) {
        set_style(div1, "height", style_height_1);
      }
      if (dirty & /*canvasDisplayWidth*/
      4 && style_width_2 !== (style_width_2 = `${/*canvasDisplayWidth*/
      ctx2[2]}px`)) {
        set_style(canvas1, "width", style_width_2);
      }
      if (dirty & /*canvasDisplayHeight*/
      2 && style_height_2 !== (style_height_2 = `${/*canvasDisplayHeight*/
      ctx2[1]}px`)) {
        set_style(canvas1, "height", style_height_2);
      }
    },
    d(detaching) {
      if (detaching)
        detach(div2);
      ctx[14](null);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      ctx[16](null);
      ctx[17](null);
    }
  };
}
function create_if_block_1$8(ctx) {
  let section;
  let p0;
  let t1;
  let p1;
  let a;
  let t2;
  let t3;
  let p2;
  let button;
  let mounted;
  let dispose;
  return {
    c() {
      section = element("section");
      p0 = element("p");
      p0.textContent = "(use mouse)";
      t1 = space();
      p1 = element("p");
      a = element("a");
      t2 = text("remix game");
      t3 = space();
      p2 = element("p");
      button = element("button");
      button.textContent = "no thanks";
      attr(a, "href", getEditorHREF());
      attr(section, "class", "request-editor-overlay svelte-oyvjet");
    },
    m(target, anchor) {
      insert(target, section, anchor);
      append(section, p0);
      append(section, t1);
      append(section, p1);
      append(p1, a);
      append(a, t2);
      append(section, t3);
      append(section, p2);
      append(p2, button);
      if (!mounted) {
        dispose = listen(
          button,
          "click",
          /*click_handler*/
          ctx[15]
        );
        mounted = true;
      }
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(section);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block$g(ctx) {
  let section;
  let p0;
  let t1;
  let p1;
  let t2_value = (
    /*currentError*/
    ctx[7].message + ""
  );
  let t2;
  let t3;
  let button0;
  let t5;
  let button1;
  let mounted;
  let dispose;
  return {
    c() {
      section = element("section");
      p0 = element("p");
      p0.textContent = "The game encountered an error:";
      t1 = space();
      p1 = element("p");
      t2 = text(t2_value);
      t3 = space();
      button0 = element("button");
      button0.textContent = "restart game";
      t5 = space();
      button1 = element("button");
      button1.textContent = "continue";
      attr(section, "class", "error-msg");
    },
    m(target, anchor) {
      insert(target, section, anchor);
      append(section, p0);
      append(section, t1);
      append(section, p1);
      append(p1, t2);
      append(section, t3);
      append(section, button0);
      append(section, t5);
      append(section, button1);
      if (!mounted) {
        dispose = [
          listen(button0, "click", function() {
            if (is_function(
              /*onErrorRestartClick*/
              ctx[8]
            ))
              ctx[8].apply(this, arguments);
          }),
          listen(button1, "click", function() {
            if (is_function(
              /*onErrorContinueClick*/
              ctx[9]
            ))
              ctx[9].apply(this, arguments);
          })
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & /*currentError*/
      128 && t2_value !== (t2_value = /*currentError*/
      ctx[7].message + ""))
        set_data(t2, t2_value);
    },
    d(detaching) {
      if (detaching)
        detach(section);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_pending_block$4(ctx) {
  let p;
  return {
    c() {
      p = element("p");
      p.textContent = "loading...";
    },
    m(target, anchor) {
      insert(target, p, anchor);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(p);
    }
  };
}
function create_fragment$O(ctx) {
  let title_value;
  let html_tag;
  let raw_value = `<!-- ${licenseText} -->`;
  let html_anchor;
  let t;
  let await_block_anchor;
  let mounted;
  let dispose;
  document.title = title_value = /*$resourceManager*/
  ctx[11].settings.title;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$4,
    then: create_then_block$4,
    catch: create_catch_block$4
  };
  handle_promise(
    /*initPromise*/
    ctx[12],
    info
  );
  return {
    c() {
      html_tag = new HtmlTag(false);
      html_anchor = empty();
      t = space();
      await_block_anchor = empty();
      info.block.c();
      html_tag.a = html_anchor;
    },
    m(target, anchor) {
      html_tag.m(raw_value, document.head);
      append(document.head, html_anchor);
      insert(target, t, anchor);
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      if (!mounted) {
        dispose = listen(window_1$1, "keydown", windowOnKeyDown);
        mounted = true;
      }
    },
    p(new_ctx, [dirty]) {
      ctx = new_ctx;
      if (dirty & /*$resourceManager*/
      2048 && title_value !== (title_value = /*$resourceManager*/
      ctx[11].settings.title)) {
        document.title = title_value;
      }
      update_await_block_branch(info, ctx, dirty);
    },
    i: noop,
    o: noop,
    d(detaching) {
      detach(html_anchor);
      if (detaching)
        html_tag.d();
      if (detaching)
        detach(t);
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
      mounted = false;
      dispose();
    }
  };
}
function sendLoadedMessage() {
  let parent = window.parent;
  if (parent) {
    parent.postMessage({ type: "engineLoaded" });
    console.log("send engine loaded message");
  }
}
function getEditorHREF() {
  let url = new URL(location.href);
  url.searchParams.delete("game");
  url.searchParams.set("editor", "");
  return url.href;
}
function windowOnKeyDown(event) {
}
function instance$N($$self, $$props, $$invalidate) {
  let canvasWidth;
  let canvasHeight;
  let canvasDisplayWidth;
  let canvasDisplayHeight;
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(11, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let init2 = () => __awaiter2(void 0, void 0, void 0, function* () {
    console.log("--- loading start ---");
    yield init$2(nameConstructorMap);
    {
      console.log("load app...");
      yield load();
      yield resourceManager.get().load();
    }
    console.log("--- --- ---- --- ---");
    console.log("--- loading done ---");
    console.log("--- --- ---- --- ---");
  });
  let initPromise = init2();
  let canvasWebgl;
  let canvas2d;
  let game;
  let requestEditorOpen = false;
  let startRoom = null;
  function sendSizeUpdate() {
    let parent = window.parent;
    if (parent) {
      parent.postMessage({
        type: "canvasSizeUpdate",
        displayWidth: canvasDisplayWidth,
        displayHeight: canvasDisplayHeight
      });
      console.log("send game resize message");
    }
  }
  let currentError = null;
  let onErrorRestartClick = null;
  let onErrorContinueClick = null;
  let htmlOverlay = null;
  function reload() {
    if (!canvasWebgl || !canvas2d)
      return;
    $$invalidate(7, currentError = null);
    if (game) {
      $$invalidate(13, game.quitGameCallback = null, game);
      game.quit();
    }
    $$invalidate(13, game = new Game(resourceManager.get(), canvasWebgl, canvas2d, htmlOverlay, startRoom));
    game.registerEditorCallback(requestOpenEditor);
    $$invalidate(13, game.quitGameCallback = () => reload(), game);
    $$invalidate(
      13,
      game.errorCallback = (e) => __awaiter2(this, void 0, void 0, function* () {
        $$invalidate(7, currentError = e);
        let result = yield new Promise((resolve) => {
          $$invalidate(8, onErrorRestartClick = () => resolve(true));
          $$invalidate(9, onErrorContinueClick = () => resolve(false));
        });
        $$invalidate(9, onErrorContinueClick = $$invalidate(8, onErrorRestartClick = null));
        $$invalidate(7, currentError = null);
        return result;
      }),
      game
    );
    $$invalidate(0, canvasWebgl);
  }
  function requestOpenEditor() {
    $$invalidate(6, requestEditorOpen = true);
  }
  function onMessage(msg) {
    return __awaiter2(this, void 0, void 0, function* () {
      let data2 = msg.data;
      if (!data2.type)
        return;
      console.log(`received ${data2.type}`);
      if (data2.type == "reload") {
        reload();
      } else if (data2.type == "dataUpdate") {
        yield resourceManager.get().setFromSerializedData(data2.resourceData);
        startRoom = data2.startRoom;
        reload();
      }
    });
  }
  onMount(() => __awaiter2(void 0, void 0, void 0, function* () {
    window.onmessage = onMessage;
    yield initPromise;
    sendLoadedMessage();
  }));
  function canvas0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvas2d = $$value;
      $$invalidate(5, canvas2d);
    });
  }
  const click_handler = () => $$invalidate(6, requestEditorOpen = false);
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      htmlOverlay = $$value;
      $$invalidate(10, htmlOverlay);
    });
  }
  function canvas1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvasWebgl = $$value;
      $$invalidate(0, canvasWebgl);
    });
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*canvasWebgl, game*/
    8193) {
      canvasWebgl && !game ? reload() : null;
    }
    if ($$self.$$.dirty & /*canvasWebgl*/
    1) {
      $$invalidate(4, canvasWidth = canvasWebgl ? canvasWebgl.width : 0);
    }
    if ($$self.$$.dirty & /*canvasWebgl*/
    1) {
      $$invalidate(3, canvasHeight = canvasWebgl ? canvasWebgl.height : 0);
    }
    if ($$self.$$.dirty & /*canvasWidth*/
    16) {
      $$invalidate(2, canvasDisplayWidth = adjustedCanvasSize(canvasWidth));
    }
    if ($$self.$$.dirty & /*canvasHeight*/
    8) {
      $$invalidate(1, canvasDisplayHeight = adjustedCanvasSize(canvasHeight));
    }
    if ($$self.$$.dirty & /*canvasDisplayHeight, canvasDisplayWidth*/
    6) {
      {
        if (canvasDisplayHeight && canvasDisplayWidth)
          sendSizeUpdate();
      }
    }
  };
  return [
    canvasWebgl,
    canvasDisplayHeight,
    canvasDisplayWidth,
    canvasHeight,
    canvasWidth,
    canvas2d,
    requestEditorOpen,
    currentError,
    onErrorRestartClick,
    onErrorContinueClick,
    htmlOverlay,
    $resourceManager,
    initPromise,
    game,
    canvas0_binding,
    click_handler,
    div0_binding,
    canvas1_binding
  ];
}
class Game_1 extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$N, create_fragment$O, safe_not_equal, {});
  }
}
const main = "";
const svg = "";
function shrink(node, {
  delay = 0,
  duration = 400,
  horizontal = true,
  vertical = false
}) {
  const pxstringW = getComputedStyle(node).width;
  const w2 = +pxstringW.substring(0, pxstringW.length - 2);
  const pxstringH = getComputedStyle(node).width;
  const h2 = +pxstringH.substring(0, pxstringH.length - 2);
  return {
    delay,
    duration,
    css: (t) => (horizontal ? `width: ${t * w2}px` : "") + (vertical ? `height: ${t * h2}px` : "")
  };
}
function bounce(node, {
  delay = 0,
  duration = 400
}) {
  const f = (x) => 2 ** (-10 * x) * Math.sin(x * Math.PI * 5) * 0.25 + 1;
  return {
    delay,
    duration,
    css: (t) => `transform: scale(${// 1 + .20 * Math.sin(t*(Math.PI*2))
    f(t)}, ${// Math.sin(1 + .20 * t*(Math.PI*2))
    f(t)})`
  };
}
const Card_svelte_svelte_type_style_lang = "";
function create_else_block$a(ctx) {
  let atlasicon;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 20, height: 20 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      current = true;
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
    }
  };
}
function create_if_block$f(ctx) {
  let atlasicon;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 19, height: 20 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      current = true;
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
    }
  };
}
function create_key_block(ctx) {
  let div3;
  let h3;
  let div0;
  let t0;
  let t1;
  let div1;
  let button0;
  let current_block_type_index;
  let if_block;
  let t2;
  let button1;
  let atlasicon;
  let t3;
  let div2;
  let style_min_width = `${/*contentMinWidth*/
  ctx[2]}px`;
  let style_max_width = `${/*contentMaxWidth*/
  ctx[3]}px`;
  let div3_intro;
  let current;
  let mounted;
  let dispose;
  const if_block_creators = [create_if_block$f, create_else_block$a];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*isMaximized*/
      ctx2[1]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  atlasicon = new AtlasIcon({ props: { id: 32, height: 20 } });
  const default_slot_template = (
    /*#slots*/
    ctx[23].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[22],
    null
  );
  return {
    c() {
      div3 = element("div");
      h3 = element("h3");
      div0 = element("div");
      t0 = text(
        /*name*/
        ctx[11]
      );
      t1 = space();
      div1 = element("div");
      button0 = element("button");
      if_block.c();
      t2 = space();
      button1 = element("button");
      create_component(atlasicon.$$.fragment);
      t3 = space();
      div2 = element("div");
      if (default_slot)
        default_slot.c();
      attr(div0, "class", "name svelte-1n7z1bk");
      attr(button0, "class", "maxWindow borderless svelte-1n7z1bk");
      attr(button1, "class", "closeWindow borderless svelte-1n7z1bk");
      attr(div1, "class", "buttons svelte-1n7z1bk");
      attr(h3, "class", "svelte-1n7z1bk");
      attr(div2, "class", "content svelte-1n7z1bk");
      set_style(div2, "min-width", style_min_width);
      set_style(div2, "max-width", style_max_width);
      attr(div3, "class", "inner-card svelte-1n7z1bk");
    },
    m(target, anchor) {
      insert(target, div3, anchor);
      append(div3, h3);
      append(h3, div0);
      append(div0, t0);
      append(h3, t1);
      append(h3, div1);
      append(div1, button0);
      if_blocks[current_block_type_index].m(button0, null);
      append(div1, t2);
      append(div1, button1);
      mount_component(atlasicon, button1, null);
      append(div3, t3);
      append(div3, div2);
      if (default_slot) {
        default_slot.m(div2, null);
      }
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*maxWindow*/
            ctx[14]
          ),
          listen(
            button1,
            "click",
            /*closeWindow*/
            ctx[13]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (!current || dirty[0] & /*name*/
      2048)
        set_data(
          t0,
          /*name*/
          ctx2[11]
        );
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index !== previous_block_index) {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        }
        transition_in(if_block, 1);
        if_block.m(button0, null);
      }
      if (default_slot) {
        if (default_slot.p && (!current || dirty[0] & /*$$scope*/
        4194304)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[22],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[22]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[22],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (dirty[0] & /*contentMinWidth*/
      4 && style_min_width !== (style_min_width = `${/*contentMinWidth*/
      ctx2[2]}px`)) {
        set_style(div2, "min-width", style_min_width);
      }
      if (dirty[0] & /*contentMaxWidth*/
      8 && style_max_width !== (style_max_width = `${/*contentMaxWidth*/
      ctx2[3]}px`)) {
        set_style(div2, "max-width", style_max_width);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      transition_in(atlasicon.$$.fragment, local);
      transition_in(default_slot, local);
      if (!div3_intro) {
        add_render_callback(() => {
          div3_intro = create_in_transition(div3, bounce, { duration: 300 });
          div3_intro.start();
        });
      }
      current = true;
    },
    o(local) {
      transition_out(if_block);
      transition_out(atlasicon.$$.fragment, local);
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div3);
      if_blocks[current_block_type_index].d();
      destroy_component(atlasicon);
      if (default_slot)
        default_slot.d(detaching);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$N(ctx) {
  let t0;
  let section;
  let div0;
  let t1;
  let div1;
  let t2;
  let div2;
  let t3;
  let div3;
  let t4;
  let div4;
  let t5;
  let div5;
  let t6;
  let div6;
  let t7;
  let div7;
  let t8;
  let previous_key = (
    /*focusCounter*/
    ctx[9]
  );
  let section_class_value;
  let style_left = `${/*left*/
  ctx[4]}px`;
  let style_top = `${/*top*/
  ctx[5]}px`;
  let style_width = `${/*width*/
  ctx[6]}px`;
  let current;
  let mounted;
  let dispose;
  let key_block = create_key_block(ctx);
  return {
    c() {
      t0 = space();
      section = element("section");
      div0 = element("div");
      t1 = space();
      div1 = element("div");
      t2 = space();
      div2 = element("div");
      t3 = space();
      div3 = element("div");
      t4 = space();
      div4 = element("div");
      t5 = space();
      div5 = element("div");
      t6 = space();
      div6 = element("div");
      t7 = space();
      div7 = element("div");
      t8 = space();
      key_block.c();
      attr(div0, "class", "right svelte-1n7z1bk");
      toggle_class(div0, "resize", true);
      attr(div1, "class", "left svelte-1n7z1bk");
      toggle_class(div1, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div2, "class", "top svelte-1n7z1bk");
      toggle_class(div2, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div3, "class", "bottom svelte-1n7z1bk");
      toggle_class(div3, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div4, "class", "top right svelte-1n7z1bk");
      toggle_class(div4, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div5, "class", "top left svelte-1n7z1bk");
      toggle_class(div5, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div6, "class", "bottom right svelte-1n7z1bk");
      toggle_class(div6, "resize", !/*isMaximized*/
      ctx[1]);
      attr(div7, "class", "bottom left svelte-1n7z1bk");
      toggle_class(div7, "resize", !/*isMaximized*/
      ctx[1]);
      attr(section, "class", section_class_value = null_to_empty(`card ${/*windowType*/
      ctx[10] || ""}`) + " svelte-1n7z1bk");
      attr(
        section,
        "data-resource-uuid",
        /*uuid*/
        ctx[12]
      );
      attr(section, "tabindex", "-1");
      set_style(section, "--border", 7 / devicePixelRatio + "px");
      set_style(section, "--half-border", 3 / devicePixelRatio + "px");
      set_style(
        section,
        "z-index",
        /*card*/
        ctx[0].zIndex
      );
      set_style(
        section,
        "position",
        /*isMaximized*/
        ctx[1] ? "static" : "absolute"
      );
      set_style(section, "left", style_left);
      set_style(section, "top", style_top);
      set_style(section, "width", style_width);
      set_style(
        section,
        "height",
        /*isMaximized*/
        ctx[1] ? "100%" : `${/*height*/
        ctx[7]}px`
      );
    },
    m(target, anchor) {
      insert(target, t0, anchor);
      insert(target, section, anchor);
      append(section, div0);
      append(section, t1);
      append(section, div1);
      append(section, t2);
      append(section, div2);
      append(section, t3);
      append(section, div3);
      append(section, t4);
      append(section, div4);
      append(section, t5);
      append(section, div5);
      append(section, t6);
      append(section, div6);
      append(section, t7);
      append(section, div7);
      append(section, t8);
      key_block.m(section, null);
      ctx[24](section);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            document.body,
            "mousemove",
            /*onBodyMouseMove*/
            ctx[16]
          ),
          listen(
            document.body,
            "mousemove",
            /*onResizeMouseMove*/
            ctx[19]
          ),
          listen(
            document.body,
            "mouseup",
            /*onBodyMouseUp*/
            ctx[17]
          ),
          listen(
            document.body,
            "mouseup",
            /*onResizeMouseUp*/
            ctx[20]
          ),
          listen(
            document.body,
            "mouseleave",
            /*onBodyMouseUp*/
            ctx[17]
          ),
          listen(
            document.body,
            "mouseleave",
            /*onResizeMouseUp*/
            ctx[20]
          ),
          listen(
            div0,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div1,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div2,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div3,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div4,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div5,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div6,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            div7,
            "mousedown",
            /*onResizeMouseDown*/
            ctx[18]
          ),
          listen(
            section,
            "mousedown",
            /*onMouseDown*/
            ctx[15]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div1, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div2, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div3, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div4, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div5, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div6, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (!current || dirty[0] & /*isMaximized*/
      2) {
        toggle_class(div7, "resize", !/*isMaximized*/
        ctx2[1]);
      }
      if (dirty[0] & /*focusCounter*/
      512 && safe_not_equal(previous_key, previous_key = /*focusCounter*/
      ctx2[9])) {
        group_outros();
        transition_out(key_block, 1, 1, noop);
        check_outros();
        key_block = create_key_block(ctx2);
        key_block.c();
        transition_in(key_block, 1);
        key_block.m(section, null);
      } else {
        key_block.p(ctx2, dirty);
      }
      if (!current || dirty[0] & /*windowType*/
      1024 && section_class_value !== (section_class_value = null_to_empty(`card ${/*windowType*/
      ctx2[10] || ""}`) + " svelte-1n7z1bk")) {
        attr(section, "class", section_class_value);
      }
      if (!current || dirty[0] & /*uuid*/
      4096) {
        attr(
          section,
          "data-resource-uuid",
          /*uuid*/
          ctx2[12]
        );
      }
      if (dirty[0] & /*card*/
      1) {
        set_style(
          section,
          "z-index",
          /*card*/
          ctx2[0].zIndex
        );
      }
      if (dirty[0] & /*isMaximized*/
      2) {
        set_style(
          section,
          "position",
          /*isMaximized*/
          ctx2[1] ? "static" : "absolute"
        );
      }
      if (dirty[0] & /*left*/
      16 && style_left !== (style_left = `${/*left*/
      ctx2[4]}px`)) {
        set_style(section, "left", style_left);
      }
      if (dirty[0] & /*top*/
      32 && style_top !== (style_top = `${/*top*/
      ctx2[5]}px`)) {
        set_style(section, "top", style_top);
      }
      if (dirty[0] & /*width*/
      64 && style_width !== (style_width = `${/*width*/
      ctx2[6]}px`)) {
        set_style(section, "width", style_width);
      }
      if (dirty[0] & /*isMaximized, height*/
      130) {
        set_style(
          section,
          "height",
          /*isMaximized*/
          ctx2[1] ? "100%" : `${/*height*/
          ctx2[7]}px`
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(key_block);
      current = true;
    },
    o(local) {
      transition_out(key_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(t0);
      if (detaching)
        detach(section);
      key_block.d(detaching);
      ctx[24](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
const handleQuery = "h3,h3 *,.inner-card";
function instance$M($$self, $$props, $$invalidate) {
  let uuid;
  let name;
  let windowType;
  let { $$slots: slots = {}, $$scope } = $$props;
  let { card } = $$props;
  let { autoFocus = true } = $$props;
  let { contentMinWidth = 90 } = $$props;
  let { contentMaxWidth = 1e3 } = $$props;
  function closeWindow() {
    cards.remove(card.uuid);
  }
  function focusWindow() {
    bringToFront(card);
  }
  let getCardsBounds = getContext("getCardsBounds");
  card.position.width;
  card.position.height;
  let left = card.position.x;
  let top = card.position.y;
  let width = card.position.width || void 0;
  let height = card.position.height || void 0;
  let elmt = null;
  let focusCounter = 0;
  let { isMaximized = card.isMaximized } = $$props;
  function maxWindow() {
    if (!elmt)
      return;
    $$invalidate(1, isMaximized = !isMaximized);
    focusWindow();
  }
  onMount(() => {
    if (elmt && autoFocus) {
      elmt.focus();
    }
  });
  let isDragged = false;
  let offsetX = 0;
  let offsetY = 0;
  function onMouseDown(event) {
    if (event.button != 0)
      return;
    if (!event.target || !(event.target instanceof HTMLElement) || !event.target.matches(handleQuery)) {
      return;
    }
    if (event.target.matches("button"))
      return;
    bringToFront(card);
    if (isMaximized) {
      return;
    }
    isDragged = true;
    let rect = elmt.getBoundingClientRect();
    offsetX = rect.left - event.clientX;
    offsetY = rect.top - event.clientY;
  }
  function onBodyMouseMove(event) {
    if (isDragged) {
      let bounds = getCardsBounds();
      if (!bounds)
        return;
      let origin = bounds.getBoundingClientRect();
      let l = event.clientX + offsetX - origin.x;
      let t = event.clientY + offsetY - origin.y;
      $$invalidate(4, left = Math.max(0, l));
      $$invalidate(5, top = Math.max(0, t));
    }
  }
  function onBodyMouseUp(event) {
    isDragged = false;
  }
  let initialX = 0;
  let initialY = 0;
  let initialPos = null;
  let resizeLeft = false;
  let resizeRight = false;
  let resizeTop = false;
  let resizeBottom = false;
  function onResizeMouseDown(event) {
    if (event.button != 0)
      return;
    let target = event.target;
    resizeRight = target.classList.contains("right");
    resizeLeft = !isMaximized && target.classList.contains("left");
    resizeTop = !isMaximized && target.classList.contains("top");
    resizeBottom = !isMaximized && target.classList.contains("bottom");
    initialX = event.clientX;
    initialY = event.clientY;
    initialPos = elmt.getBoundingClientRect();
  }
  function onResizeMouseMove(event) {
    let bounds = getCardsBounds();
    if (!bounds)
      return;
    let offset = bounds.getBoundingClientRect();
    if (resizeRight) {
      $$invalidate(6, width = initialPos.width + (event.clientX - initialX));
      $$invalidate(6, width = Math.max(width, 20));
    }
    if (resizeBottom) {
      $$invalidate(7, height = initialPos.height + (event.clientY - initialY));
      $$invalidate(7, height = Math.max(height, 20));
    }
    if (resizeLeft) {
      $$invalidate(4, left = initialPos.left + (event.clientX - initialX) - offset.left);
      $$invalidate(4, left = Math.max(left, 0));
      $$invalidate(4, left = Math.min(left, initialPos.left - offset.left + initialPos.width - 20));
      $$invalidate(6, width = initialPos.width - (left - initialPos.left + offset.left));
    }
    if (resizeTop) {
      $$invalidate(5, top = initialPos.top + (event.clientY - initialY) - offset.top);
      $$invalidate(5, top = Math.max(top, 0));
      $$invalidate(5, top = Math.min(top, initialPos.top - offset.top + initialPos.height - 20));
      $$invalidate(7, height = initialPos.height - (top - initialPos.top + offset.top));
    }
  }
  function onResizeMouseUp(event) {
    resizeLeft = false;
    resizeRight = false;
    resizeTop = false;
    resizeBottom = false;
  }
  function section_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      elmt = $$value;
      $$invalidate(8, elmt);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
    if ("autoFocus" in $$props2)
      $$invalidate(21, autoFocus = $$props2.autoFocus);
    if ("contentMinWidth" in $$props2)
      $$invalidate(2, contentMinWidth = $$props2.contentMinWidth);
    if ("contentMaxWidth" in $$props2)
      $$invalidate(3, contentMaxWidth = $$props2.contentMaxWidth);
    if ("isMaximized" in $$props2)
      $$invalidate(1, isMaximized = $$props2.isMaximized);
    if ("$$scope" in $$props2)
      $$invalidate(22, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*left, top, width, height*/
    240) {
      {
        $$invalidate(0, card.position = new DOMRect(left, top, width, height), card);
      }
    }
    if ($$self.$$.dirty[0] & /*elmt, focusCounter*/
    768) {
      $$invalidate(
        0,
        card.onFocus = () => {
          if (!elmt)
            return;
          elmt.focus();
          $$invalidate(9, focusCounter++, focusCounter);
        },
        card
      );
    }
    if ($$self.$$.dirty[0] & /*isMaximized*/
    2) {
      $$invalidate(0, card.isMaximized = isMaximized, card);
    }
    if ($$self.$$.dirty[0] & /*card*/
    1) {
      $$invalidate(12, uuid = card.uuid);
    }
    if ($$self.$$.dirty[0] & /*card*/
    1) {
      $$invalidate(11, name = card.name);
    }
    if ($$self.$$.dirty[0] & /*card*/
    1) {
      $$invalidate(10, windowType = card.className || "");
    }
  };
  return [
    card,
    isMaximized,
    contentMinWidth,
    contentMaxWidth,
    left,
    top,
    width,
    height,
    elmt,
    focusCounter,
    windowType,
    name,
    uuid,
    closeWindow,
    maxWindow,
    onMouseDown,
    onBodyMouseMove,
    onBodyMouseUp,
    onResizeMouseDown,
    onResizeMouseMove,
    onResizeMouseUp,
    autoFocus,
    $$scope,
    slots,
    section_binding
  ];
}
class Card extends SvelteComponent {
  constructor(options) {
    super();
    init$1(
      this,
      options,
      instance$M,
      create_fragment$N,
      safe_not_equal,
      {
        card: 0,
        autoFocus: 21,
        contentMinWidth: 2,
        contentMaxWidth: 3,
        isMaximized: 1
      },
      null,
      [-1, -1]
    );
  }
}
const GamePreview_svelte_svelte_type_style_lang = "";
function get_each_context$c(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  return child_ctx;
}
function create_each_block$c(ctx) {
  let option;
  let t_value = (
    /*room*/
    ctx[10].name + ""
  );
  let t;
  let option_value_value;
  return {
    c() {
      option = element("option");
      t = text(t_value);
      option.__value = option_value_value = /*room*/
      ctx[10].uuid;
      option.value = option.__value;
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p(ctx2, dirty) {
      if (dirty & /*$resourceManager*/
      32 && t_value !== (t_value = /*room*/
      ctx2[10].name + ""))
        set_data(t, t_value);
      if (dirty & /*$resourceManager*/
      32 && option_value_value !== (option_value_value = /*room*/
      ctx2[10].uuid)) {
        option.__value = option_value_value;
        option.value = option.__value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_default_slot$e(ctx) {
  let p0;
  let a;
  let t0;
  let t1;
  let p1;
  let button;
  let t3;
  let p2;
  let label;
  let t5;
  let select;
  let t6;
  let iframe_1;
  let iframe_1_src_value;
  let style_width = `${/*iframeDisplayWidth*/
  ctx[2]}px`;
  let style_height = `${/*iframeDisplayHeight*/
  ctx[3]}px`;
  let mounted;
  let dispose;
  let each_value = (
    /*$resourceManager*/
    ctx[5].getRooms()
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$c(get_each_context$c(ctx, each_value, i));
  }
  return {
    c() {
      p0 = element("p");
      a = element("a");
      t0 = text("separate window");
      t1 = space();
      p1 = element("p");
      button = element("button");
      button.textContent = "reload ";
      t3 = space();
      p2 = element("p");
      label = element("label");
      label.textContent = "custom start room:";
      t5 = space();
      select = element("select");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t6 = space();
      iframe_1 = element("iframe");
      attr(a, "href", `${location.href}?game`);
      attr(a, "target", "_blank");
      attr(a, "class", "svelte-1da5q14");
      attr(label, "for", "room");
      attr(select, "name", "room");
      if (
        /*selectedRoom*/
        ctx[4] === void 0
      )
        add_render_callback(() => (
          /*select_change_handler*/
          ctx[11].call(select)
        ));
      attr(iframe_1, "title", "gametest");
      if (!src_url_equal(iframe_1.src, iframe_1_src_value = getIFrameURL()))
        attr(iframe_1, "src", iframe_1_src_value);
      attr(iframe_1, "class", "svelte-1da5q14");
      set_style(iframe_1, "width", style_width);
      set_style(iframe_1, "height", style_height);
    },
    m(target, anchor) {
      insert(target, p0, anchor);
      append(p0, a);
      append(a, t0);
      insert(target, t1, anchor);
      insert(target, p1, anchor);
      append(p1, button);
      insert(target, t3, anchor);
      insert(target, p2, anchor);
      append(p2, label);
      append(p2, t5);
      append(p2, select);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(select, null);
        }
      }
      select_option(
        select,
        /*selectedRoom*/
        ctx[4],
        true
      );
      insert(target, t6, anchor);
      insert(target, iframe_1, anchor);
      ctx[12](iframe_1);
      if (!mounted) {
        dispose = [
          listen(
            button,
            "click",
            /*reload*/
            ctx[6]
          ),
          listen(
            select,
            "change",
            /*select_change_handler*/
            ctx[11]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*$resourceManager*/
      32) {
        each_value = /*$resourceManager*/
        ctx2[5].getRooms();
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$c(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$c(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(select, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (dirty & /*selectedRoom, $resourceManager*/
      48) {
        select_option(
          select,
          /*selectedRoom*/
          ctx2[4]
        );
      }
      if (dirty & /*iframeDisplayWidth*/
      4 && style_width !== (style_width = `${/*iframeDisplayWidth*/
      ctx2[2]}px`)) {
        set_style(iframe_1, "width", style_width);
      }
      if (dirty & /*iframeDisplayHeight*/
      8 && style_height !== (style_height = `${/*iframeDisplayHeight*/
      ctx2[3]}px`)) {
        set_style(iframe_1, "height", style_height);
      }
    },
    d(detaching) {
      if (detaching)
        detach(p0);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(p1);
      if (detaching)
        detach(t3);
      if (detaching)
        detach(p2);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(t6);
      if (detaching)
        detach(iframe_1);
      ctx[12](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$M(ctx) {
  let card_1;
  let current;
  let mounted;
  let dispose;
  card_1 = new Card({
    props: {
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$e] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            window,
            "mousedown",
            /*disableIFramePointerEvents*/
            ctx[7]
          ),
          listen(
            window,
            "mouseup",
            /*enableIFramePointerEvents*/
            ctx[8]
          ),
          listen(
            window,
            "mouseleave",
            /*enableIFramePointerEvents*/
            ctx[8]
          ),
          listen(
            window,
            "message",
            /*onMessage*/
            ctx[9]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, iframe, iframeDisplayWidth, iframeDisplayHeight, selectedRoom, $resourceManager*/
      262206) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
      mounted = false;
      run_all(dispose);
    }
  };
}
function getIFrameURL() {
  let url = new URL(location.href);
  url.searchParams.delete("editor");
  url.searchParams.set("game", "");
  return url.href;
}
function instance$L($$self, $$props, $$invalidate) {
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(5, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  var _a;
  let { card } = $$props;
  let iframe;
  function reload() {
    var _a2;
    return __awaiter2(this, void 0, void 0, function* () {
      if (!iframe)
        return;
      let resourceData = yield $resourceManager.getSerializedData();
      const messageData = {
        type: "dataUpdate",
        resourceData,
        startRoom: selectedRoom
      };
      (_a2 = iframe.contentWindow) === null || _a2 === void 0 ? void 0 : _a2.postMessage(messageData);
    });
  }
  function disableIFramePointerEvents() {
    $$invalidate(1, iframe.style.pointerEvents = "none", iframe);
  }
  function enableIFramePointerEvents() {
    iframe.style.removeProperty("pointer-events");
  }
  let rooms = (_a = resourceManager === null || resourceManager === void 0 ? void 0 : resourceManager.get()) === null || _a === void 0 ? void 0 : _a.getRooms();
  let room = rooms.length > 0 ? rooms[0] : null;
  let iframeDisplayWidth = adjustedCanvasSize(room === null || room === void 0 ? void 0 : room.width);
  let iframeDisplayHeight = adjustedCanvasSize(room === null || room === void 0 ? void 0 : room.height);
  function onMessage(msg) {
    if (msg.data.type == "canvasSizeUpdate") {
      $$invalidate(2, iframeDisplayWidth = msg.data.displayWidth);
      $$invalidate(3, iframeDisplayHeight = msg.data.displayHeight);
      console.log("game size update");
    } else if (msg.data.type == "engineLoaded") {
      reload();
    }
  }
  let selectedRoom;
  function select_change_handler() {
    selectedRoom = select_value(this);
    $$invalidate(4, selectedRoom);
  }
  function iframe_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      iframe = $$value;
      $$invalidate(1, iframe);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$invalidate(0, card.name = "game preview", card);
  return [
    card,
    iframe,
    iframeDisplayWidth,
    iframeDisplayHeight,
    selectedRoom,
    $resourceManager,
    reload,
    disableIFramePointerEvents,
    enableIFramePointerEvents,
    onMessage,
    room,
    select_change_handler,
    iframe_1_binding
  ];
}
class GamePreview extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$L, create_fragment$M, safe_not_equal, { card: 0 });
  }
}
const Icon_svelte_svelte_type_style_lang = "";
function create_fragment$L(ctx) {
  let img;
  let img_src_value;
  let style_width = `${/*displaySize*/
  ctx[0]}px`;
  let style_height = `${/*displaySize*/
  ctx[0]}px`;
  let t;
  let link;
  return {
    c() {
      img = element("img");
      t = space();
      link = element("link");
      if (!src_url_equal(img.src, img_src_value = dataURL))
        attr(img, "src", img_src_value);
      attr(img, "width", "16");
      attr(img, "height", "16");
      attr(img, "alt", "trashcan");
      attr(img, "class", "svelte-14pgn31");
      set_style(img, "width", style_width);
      set_style(img, "height", style_height);
      attr(link, "rel", "icon");
      attr(link, "type", "image/png");
      attr(link, "href", dataURL);
    },
    m(target, anchor) {
      insert(target, img, anchor);
      insert(target, t, anchor);
      append(document.head, link);
    },
    p: noop,
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(img);
      if (detaching)
        detach(t);
      detach(link);
    }
  };
}
const dataURL = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T9WTgQ0AIQgDdTNHczQ381NjTcUywJOYzyOcBaUWb3O7q2zTB9fxawBjZ++9YBlD/AW3ACQSMMYoWGKErFwHgH+dohD8G5AFzNbaFZyosQqeZNUOUCipXl2OJyc3tErbqm4ApSY3cHoi+68CqMiMTdzfpwerfi2DsNB9NvgvgChfHtRbAl8fk9y1CtA/JEDYvAiIydks6NhmE3n8H+jEeRHyHrD+AAAAAElFTkSuQmCC";
function instance$K($$self) {
  const displaySize = adjustedCanvasSize(16) * 2;
  return [displaySize];
}
class Icon extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$K, create_fragment$L, safe_not_equal, {});
  }
}
const BlockingPopUp_svelte_svelte_type_style_lang = "";
function get_each_context$b(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  child_ctx[12] = i;
  return child_ctx;
}
function get_each_context_1$4(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[13] = list[i];
  return child_ctx;
}
function create_if_block$e(ctx) {
  let div1;
  let div0;
  let t0;
  let t1;
  let ul;
  let current;
  let each_value_1 = (
    /*lines*/
    ctx[2]
  );
  let each_blocks_1 = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks_1[i] = create_each_block_1$4(get_each_context_1$4(ctx, each_value_1, i));
  }
  const default_slot_template = (
    /*#slots*/
    ctx[6].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[5],
    null
  );
  let each_value = (
    /*prompt*/
    ctx[0].buttons
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$b(get_each_context$b(ctx, each_value, i));
  }
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].c();
      }
      t0 = space();
      if (default_slot)
        default_slot.c();
      t1 = space();
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "horizontal svelte-al2jhw");
      attr(div0, "class", "popup svelte-al2jhw");
      attr(div1, "class", "overlay svelte-al2jhw");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        if (each_blocks_1[i]) {
          each_blocks_1[i].m(div0, null);
        }
      }
      append(div0, t0);
      if (default_slot) {
        default_slot.m(div0, null);
      }
      append(div0, t1);
      append(div0, ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*lines*/
      4) {
        each_value_1 = /*lines*/
        ctx2[2];
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1$4(ctx2, each_value_1, i);
          if (each_blocks_1[i]) {
            each_blocks_1[i].p(child_ctx, dirty);
          } else {
            each_blocks_1[i] = create_each_block_1$4(child_ctx);
            each_blocks_1[i].c();
            each_blocks_1[i].m(div0, t0);
          }
        }
        for (; i < each_blocks_1.length; i += 1) {
          each_blocks_1[i].d(1);
        }
        each_blocks_1.length = each_value_1.length;
      }
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        32)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[5],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[5]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[5],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (dirty & /*prompt, targetButton, buttonClick*/
      11) {
        each_value = /*prompt*/
        ctx2[0].buttons;
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$b(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$b(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(ul, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div1);
      destroy_each(each_blocks_1, detaching);
      if (default_slot)
        default_slot.d(detaching);
      destroy_each(each_blocks, detaching);
    }
  };
}
function create_each_block_1$4(ctx) {
  let p;
  let t_value = (
    /*line*/
    ctx[13] + ""
  );
  let t;
  return {
    c() {
      p = element("p");
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, p, anchor);
      append(p, t);
    },
    p(ctx2, dirty) {
      if (dirty & /*lines*/
      4 && t_value !== (t_value = /*line*/
      ctx2[13] + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(p);
    }
  };
}
function create_else_block$9(ctx) {
  let li;
  let button;
  let t_value = (
    /*but*/
    ctx[10].text + ""
  );
  let t;
  let button_disabled_value;
  let mounted;
  let dispose;
  function click_handler_1() {
    return (
      /*click_handler_1*/
      ctx[9](
        /*but*/
        ctx[10]
      )
    );
  }
  return {
    c() {
      li = element("li");
      button = element("button");
      t = text(t_value);
      button.disabled = button_disabled_value = /*but*/
      ctx[10].disabled;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      append(li, button);
      append(button, t);
      if (!mounted) {
        dispose = listen(button, "click", click_handler_1);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & /*prompt*/
      1 && t_value !== (t_value = /*but*/
      ctx[10].text + ""))
        set_data(t, t_value);
      if (dirty & /*prompt*/
      1 && button_disabled_value !== (button_disabled_value = /*but*/
      ctx[10].disabled)) {
        button.disabled = button_disabled_value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(li);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block_1$7(ctx) {
  let li;
  let button;
  let t_value = (
    /*but*/
    ctx[10].text + ""
  );
  let t;
  let button_disabled_value;
  let mounted;
  let dispose;
  function click_handler() {
    return (
      /*click_handler*/
      ctx[8](
        /*but*/
        ctx[10]
      )
    );
  }
  return {
    c() {
      li = element("li");
      button = element("button");
      t = text(t_value);
      button.disabled = button_disabled_value = /*but*/
      ctx[10].disabled;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      append(li, button);
      append(button, t);
      ctx[7](button);
      if (!mounted) {
        dispose = listen(button, "click", click_handler);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & /*prompt*/
      1 && t_value !== (t_value = /*but*/
      ctx[10].text + ""))
        set_data(t, t_value);
      if (dirty & /*prompt*/
      1 && button_disabled_value !== (button_disabled_value = /*but*/
      ctx[10].disabled)) {
        button.disabled = button_disabled_value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(li);
      ctx[7](null);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block$b(ctx) {
  let if_block_anchor;
  function select_block_type(ctx2, dirty) {
    if (
      /*but*/
      ctx2[10].default
    )
      return create_if_block_1$7;
    return create_else_block$9;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {
        if_block.p(ctx2, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx2);
        if (if_block) {
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      }
    },
    d(detaching) {
      if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_fragment$K(ctx) {
  let if_block_anchor;
  let current;
  let if_block = (
    /*prompt*/
    ctx[0] && create_if_block$e(ctx)
  );
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (
        /*prompt*/
        ctx2[0]
      ) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & /*prompt*/
          1) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block$e(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance$J($$self, $$props, $$invalidate) {
  let lines;
  let { $$slots: slots = {}, $$scope } = $$props;
  var _a;
  let { prompt } = $$props;
  function buttonClick(button) {
    console.log("click");
    button.callback();
    $$invalidate(0, prompt = null);
  }
  let targetButton;
  onMount(() => {
    if (targetButton)
      targetButton.focus();
  });
  function button_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      targetButton = $$value;
      $$invalidate(1, targetButton);
    });
  }
  const click_handler = (but) => buttonClick(but);
  const click_handler_1 = (but) => buttonClick(but);
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
    if ("$$scope" in $$props2)
      $$invalidate(5, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*prompt, _a*/
    17) {
      $$invalidate(2, lines = ($$invalidate(4, _a = prompt === null || prompt === void 0 ? void 0 : prompt.text) === null || _a === void 0 ? void 0 : _a.split("\n")) || []);
    }
  };
  return [
    prompt,
    targetButton,
    lines,
    buttonClick,
    _a,
    $$scope,
    slots,
    button_binding,
    click_handler,
    click_handler_1
  ];
}
class BlockingPopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$J, create_fragment$K, safe_not_equal, { prompt: 0 });
  }
}
const SelectMenu_svelte_svelte_type_style_lang = "";
function get_each_context$a(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[3] = list[i];
  return child_ctx;
}
function create_if_block$d(ctx) {
  let li;
  let button;
  let button_data_selected_value;
  let t;
  let mounted;
  let dispose;
  function select_block_type(ctx2, dirty) {
    if (
      /*option*/
      ctx2[3].id < 0
    )
      return create_if_block_1$6;
    return create_else_block$8;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  function click_handler() {
    return (
      /*click_handler*/
      ctx[2](
        /*option*/
        ctx[3]
      )
    );
  }
  return {
    c() {
      var _a;
      li = element("li");
      button = element("button");
      if_block.c();
      t = space();
      attr(button, "class", "plain svelte-ifu19s");
      attr(button, "data-selected", button_data_selected_value = /*currentSelected*/
      ((_a = ctx[0]) == null ? void 0 : _a.id) == /*option*/
      ctx[3].id);
    },
    m(target, anchor) {
      insert(target, li, anchor);
      append(li, button);
      if_block.m(button, null);
      append(li, t);
      if (!mounted) {
        dispose = listen(button, "click", click_handler);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      var _a;
      ctx = new_ctx;
      if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
        if_block.p(ctx, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx);
        if (if_block) {
          if_block.c();
          if_block.m(button, null);
        }
      }
      if (dirty & /*currentSelected, options*/
      3 && button_data_selected_value !== (button_data_selected_value = /*currentSelected*/
      ((_a = ctx[0]) == null ? void 0 : _a.id) == /*option*/
      ctx[3].id)) {
        attr(button, "data-selected", button_data_selected_value);
      }
    },
    d(detaching) {
      if (detaching)
        detach(li);
      if_block.d();
      mounted = false;
      dispose();
    }
  };
}
function create_else_block$8(ctx) {
  let span;
  let t0_value = (
    /*option*/
    ctx[3].id + ""
  );
  let t0;
  let t1;
  let t2_value = (
    /*option*/
    ctx[3].name + ""
  );
  let t2;
  return {
    c() {
      span = element("span");
      t0 = text(t0_value);
      t1 = text(" - ");
      t2 = text(t2_value);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t0);
      append(span, t1);
      append(span, t2);
    },
    p(ctx2, dirty) {
      if (dirty & /*options*/
      2 && t0_value !== (t0_value = /*option*/
      ctx2[3].id + ""))
        set_data(t0, t0_value);
      if (dirty & /*options*/
      2 && t2_value !== (t2_value = /*option*/
      ctx2[3].name + ""))
        set_data(t2, t2_value);
    },
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_1$6(ctx) {
  let span;
  let t_value = (
    /*option*/
    ctx[3].name + ""
  );
  let t;
  return {
    c() {
      span = element("span");
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t);
    },
    p(ctx2, dirty) {
      if (dirty & /*options*/
      2 && t_value !== (t_value = /*option*/
      ctx2[3].name + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_each_block$a(ctx) {
  let if_block_anchor;
  let if_block = (
    /*option*/
    ctx[3] && create_if_block$d(ctx)
  );
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (
        /*option*/
        ctx2[3]
      ) {
        if (if_block) {
          if_block.p(ctx2, dirty);
        } else {
          if_block = create_if_block$d(ctx2);
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
    },
    d(detaching) {
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_fragment$J(ctx) {
  let ul;
  let each_value = (
    /*options*/
    ctx[1]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$a(get_each_context$a(ctx, each_value, i));
  }
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "saveSelect svelte-ifu19s");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & /*currentSelected, options*/
      3) {
        each_value = /*options*/
        ctx2[1];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$a(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$a(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(ul, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(ul);
      destroy_each(each_blocks, detaching);
    }
  };
}
function instance$I($$self, $$props, $$invalidate) {
  let { options = [] } = $$props;
  let { currentSelected = null } = $$props;
  const click_handler = (option) => $$invalidate(0, currentSelected = option);
  $$self.$$set = ($$props2) => {
    if ("options" in $$props2)
      $$invalidate(1, options = $$props2.options);
    if ("currentSelected" in $$props2)
      $$invalidate(0, currentSelected = $$props2.currentSelected);
  };
  return [currentSelected, options, click_handler];
}
class SelectMenu extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$I, create_fragment$J, safe_not_equal, { options: 1, currentSelected: 0 });
  }
}
const LoadProjectPopUp_svelte_svelte_type_style_lang = "";
function create_catch_block$3(ctx) {
  return {
    c: noop,
    m: noop,
    p: noop,
    i: noop,
    o: noop,
    d: noop
  };
}
function create_then_block$3(ctx) {
  let selectmenu;
  let updating_currentSelected;
  let current;
  function selectmenu_currentSelected_binding(value) {
    ctx[3](value);
  }
  let selectmenu_props = { options: (
    /*saveFiles*/
    ctx[7]
  ) };
  if (
    /*currentSelected*/
    ctx[1] !== void 0
  ) {
    selectmenu_props.currentSelected = /*currentSelected*/
    ctx[1];
  }
  selectmenu = new SelectMenu({ props: selectmenu_props });
  binding_callbacks.push(() => bind(selectmenu, "currentSelected", selectmenu_currentSelected_binding));
  return {
    c() {
      create_component(selectmenu.$$.fragment);
    },
    m(target, anchor) {
      mount_component(selectmenu, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const selectmenu_changes = {};
      if (!updating_currentSelected && dirty & /*currentSelected*/
      2) {
        updating_currentSelected = true;
        selectmenu_changes.currentSelected = /*currentSelected*/
        ctx2[1];
        add_flush_callback(() => updating_currentSelected = false);
      }
      selectmenu.$set(selectmenu_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(selectmenu.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(selectmenu.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(selectmenu, detaching);
    }
  };
}
function create_pending_block$3(ctx) {
  let h4;
  return {
    c() {
      h4 = element("h4");
      h4.textContent = "loading existing saves...";
    },
    m(target, anchor) {
      insert(target, h4, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(h4);
    }
  };
}
function create_default_slot$d(ctx) {
  let div;
  let h3;
  let t1;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$3,
    then: create_then_block$3,
    catch: create_catch_block$3,
    value: 7,
    blocks: [, , ,]
  };
  handle_promise(
    /*saveFilesPromise*/
    ctx[2],
    info
  );
  return {
    c() {
      div = element("div");
      h3 = element("h3");
      h3.textContent = "load project...";
      t1 = space();
      info.block.c();
      attr(div, "class", "container svelte-1qrmxpj");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, h3);
      append(div, t1);
      info.block.m(div, info.anchor = null);
      info.mount = () => div;
      info.anchor = null;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block2 = info.blocks[i];
        transition_out(block2);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      info.block.d();
      info.token = null;
      info = null;
    }
  };
}
function create_fragment$I(ctx) {
  let blockingpopup;
  let updating_prompt;
  let current;
  function blockingpopup_prompt_binding(value) {
    ctx[4](value);
  }
  let blockingpopup_props = {
    $$slots: { default: [create_default_slot$d] },
    $$scope: { ctx }
  };
  if (
    /*prompt*/
    ctx[0] !== void 0
  ) {
    blockingpopup_props.prompt = /*prompt*/
    ctx[0];
  }
  blockingpopup = new BlockingPopUp({ props: blockingpopup_props });
  binding_callbacks.push(() => bind(blockingpopup, "prompt", blockingpopup_prompt_binding));
  return {
    c() {
      create_component(blockingpopup.$$.fragment);
    },
    m(target, anchor) {
      mount_component(blockingpopup, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const blockingpopup_changes = {};
      if (dirty & /*$$scope, currentSelected*/
      258) {
        blockingpopup_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (!updating_prompt && dirty & /*prompt*/
      1) {
        updating_prompt = true;
        blockingpopup_changes.prompt = /*prompt*/
        ctx2[0];
        add_flush_callback(() => updating_prompt = false);
      }
      blockingpopup.$set(blockingpopup_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(blockingpopup.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(blockingpopup.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(blockingpopup, detaching);
    }
  };
}
function instance$H($$self, $$props, $$invalidate) {
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { prompt } = $$props;
  let currentSelected = null;
  let saveFilesPromise = getSaveFiles();
  function getSaveFiles() {
    return __awaiter2(this, void 0, void 0, function* () {
      console.log(`- load resource tree from indexed db...`);
      try {
        let files = yield ResourceManager.getSaveFiles();
        let results = files.map((x, i) => {
          var _a;
          return {
            name: `${(_a = x.value.settings) === null || _a === void 0 ? void 0 : _a.title}`,
            id: x.key
          };
        });
        results.unshift(currentSelected);
        return results;
      } catch (e) {
        console.log(`getting data failed: ${e === null || e === void 0 ? void 0 : e.message}`);
        return [];
      }
    });
  }
  function selectmenu_currentSelected_binding(value) {
    currentSelected = value;
    $$invalidate(1, currentSelected);
  }
  function blockingpopup_prompt_binding(value) {
    prompt = value;
    $$invalidate(0, prompt), $$invalidate(1, currentSelected);
  }
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*prompt, currentSelected*/
    3) {
      if (prompt)
        $$invalidate(
          0,
          prompt.buttons = [
            {
              text: "load",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(currentSelected),
              disabled: !currentSelected
            },
            {
              text: "cancel",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(null)
            }
          ],
          prompt
        );
    }
  };
  $$invalidate(0, prompt.text = "", prompt);
  return [
    prompt,
    currentSelected,
    saveFilesPromise,
    selectmenu_currentSelected_binding,
    blockingpopup_prompt_binding
  ];
}
class LoadProjectPopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$H, create_fragment$I, safe_not_equal, { prompt: 0 });
  }
}
function supressWarnings() {
  const origWarn = console.warn;
  console.warn = (message) => {
    if (message.includes("unknown prop"))
      return;
    if (message.includes("unexpected slot"))
      return;
    origWarn(message);
  };
  onMount(() => {
    console.warn = origWarn;
  });
}
function get_each_context_5(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[18] = list[i];
  return child_ctx;
}
function get_each_context_4(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[18] = list[i];
  return child_ctx;
}
function get_each_context_1$3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  return child_ctx;
}
function get_each_context_2$1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[13] = list[i];
  child_ctx[15] = i;
  return child_ctx;
}
function get_each_context_3$1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[16] = list[i];
  child_ctx[15] = i;
  return child_ctx;
}
function get_each_context$9(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[7] = list[i];
  return child_ctx;
}
function create_if_block_1$5(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block_2$1, create_if_block_3$1, create_else_block_1];
  const if_blocks = [];
  function select_block_type_1(ctx2, dirty) {
    if (
      /*type*/
      ctx2[0] === "table"
    )
      return 0;
    if (
      /*type*/
      ctx2[0] === "list"
    )
      return 1;
    return 2;
  }
  current_block_type_index = select_block_type_1(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type_1(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_if_block$c(ctx) {
  let each_1_anchor;
  let current;
  let each_value = (
    /*tokens*/
    ctx[1]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$9(get_each_context$9(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*tokens, renderers*/
      34) {
        each_value = /*tokens*/
        ctx2[1];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$9(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block$9(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_else_block_1(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [
    /*$$restProps*/
    ctx[6]
  ];
  var switch_value = (
    /*renderers*/
    ctx[5][
      /*type*/
      ctx[0]
    ]
  );
  function switch_props(ctx2) {
    let switch_instance_props = {
      $$slots: { default: [create_default_slot_11$1] },
      $$scope: { ctx: ctx2 }
    };
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty & /*$$restProps*/
      64 ? get_spread_update(switch_instance_spread_levels, [get_spread_object(
        /*$$restProps*/
        ctx2[6]
      )]) : {};
      if (dirty & /*$$scope, tokens, renderers, $$restProps*/
      8388706) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers, type*/
      33 && switch_value !== (switch_value = /*renderers*/
      ctx2[5][
        /*type*/
        ctx2[0]
      ])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_if_block_3$1(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block_4$1, create_else_block$7];
  const if_blocks = [];
  function select_block_type_2(ctx2, dirty) {
    if (
      /*ordered*/
      ctx2[4]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type_2(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type_2(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_if_block_2$1(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].table
  );
  function switch_props(ctx2) {
    return {
      props: {
        $$slots: { default: [create_default_slot$c] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$$scope, renderers, rows, $$restProps, header*/
      8388716) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].table)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_else_block_2(ctx) {
  let t_value = (
    /*$$restProps*/
    ctx[6].raw + ""
  );
  let t;
  return {
    c() {
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty & /*$$restProps*/
      64 && t_value !== (t_value = /*$$restProps*/
      ctx2[6].raw + ""))
        set_data(t, t_value);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block_5$1(ctx) {
  let parser;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*tokens*/
        ctx[1]
      ),
      renderers: (
        /*renderers*/
        ctx[5]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = {};
      if (dirty & /*tokens*/
      2)
        parser_changes.tokens = /*tokens*/
        ctx2[1];
      if (dirty & /*renderers*/
      32)
        parser_changes.renderers = /*renderers*/
        ctx2[5];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
    }
  };
}
function create_default_slot_11$1(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block_5$1, create_else_block_2];
  const if_blocks = [];
  function select_block_type_3(ctx2, dirty) {
    if (
      /*tokens*/
      ctx2[1]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type_3(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type_3(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_else_block$7(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [
    { ordered: (
      /*ordered*/
      ctx[4]
    ) },
    /*$$restProps*/
    ctx[6]
  ];
  var switch_value = (
    /*renderers*/
    ctx[5].list
  );
  function switch_props(ctx2) {
    let switch_instance_props = {
      $$slots: { default: [create_default_slot_9$1] },
      $$scope: { ctx: ctx2 }
    };
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty & /*ordered, $$restProps*/
      80 ? get_spread_update(switch_instance_spread_levels, [
        dirty & /*ordered*/
        16 && { ordered: (
          /*ordered*/
          ctx2[4]
        ) },
        dirty & /*$$restProps*/
        64 && get_spread_object(
          /*$$restProps*/
          ctx2[6]
        )
      ]) : {};
      if (dirty & /*$$scope, $$restProps, renderers*/
      8388704) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].list)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_if_block_4$1(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [
    { ordered: (
      /*ordered*/
      ctx[4]
    ) },
    /*$$restProps*/
    ctx[6]
  ];
  var switch_value = (
    /*renderers*/
    ctx[5].list
  );
  function switch_props(ctx2) {
    let switch_instance_props = {
      $$slots: { default: [create_default_slot_7$1] },
      $$scope: { ctx: ctx2 }
    };
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty & /*ordered, $$restProps*/
      80 ? get_spread_update(switch_instance_spread_levels, [
        dirty & /*ordered*/
        16 && { ordered: (
          /*ordered*/
          ctx2[4]
        ) },
        dirty & /*$$restProps*/
        64 && get_spread_object(
          /*$$restProps*/
          ctx2[6]
        )
      ]) : {};
      if (dirty & /*$$scope, $$restProps, renderers*/
      8388704) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].list)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_10$1(ctx) {
  let parser;
  let t;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*item*/
        ctx[18].tokens
      ),
      renderers: (
        /*renderers*/
        ctx[5]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
      t = space();
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = {};
      if (dirty & /*$$restProps*/
      64)
        parser_changes.tokens = /*item*/
        ctx2[18].tokens;
      if (dirty & /*renderers*/
      32)
        parser_changes.renderers = /*renderers*/
        ctx2[5];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block_5(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [
    /*item*/
    ctx[18]
  ];
  var switch_value = (
    /*renderers*/
    ctx[5].unorderedlistitem || /*renderers*/
    ctx[5].listitem
  );
  function switch_props(ctx2) {
    let switch_instance_props = {
      $$slots: { default: [create_default_slot_10$1] },
      $$scope: { ctx: ctx2 }
    };
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty & /*$$restProps*/
      64 ? get_spread_update(switch_instance_spread_levels, [get_spread_object(
        /*item*/
        ctx2[18]
      )]) : {};
      if (dirty & /*$$scope, $$restProps, renderers*/
      8388704) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].unorderedlistitem || /*renderers*/
      ctx2[5].listitem)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_9$1(ctx) {
  let each_1_anchor;
  let current;
  let each_value_5 = (
    /*$$restProps*/
    ctx[6].items
  );
  let each_blocks = [];
  for (let i = 0; i < each_value_5.length; i += 1) {
    each_blocks[i] = create_each_block_5(get_each_context_5(ctx, each_value_5, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*renderers, $$restProps*/
      96) {
        each_value_5 = /*$$restProps*/
        ctx2[6].items;
        let i;
        for (i = 0; i < each_value_5.length; i += 1) {
          const child_ctx = get_each_context_5(ctx2, each_value_5, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block_5(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value_5.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_5.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_default_slot_8$1(ctx) {
  let parser;
  let t;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*item*/
        ctx[18].tokens
      ),
      renderers: (
        /*renderers*/
        ctx[5]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
      t = space();
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = {};
      if (dirty & /*$$restProps*/
      64)
        parser_changes.tokens = /*item*/
        ctx2[18].tokens;
      if (dirty & /*renderers*/
      32)
        parser_changes.renderers = /*renderers*/
        ctx2[5];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block_4(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [
    /*item*/
    ctx[18]
  ];
  var switch_value = (
    /*renderers*/
    ctx[5].orderedlistitem || /*renderers*/
    ctx[5].listitem
  );
  function switch_props(ctx2) {
    let switch_instance_props = {
      $$slots: { default: [create_default_slot_8$1] },
      $$scope: { ctx: ctx2 }
    };
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty & /*$$restProps*/
      64 ? get_spread_update(switch_instance_spread_levels, [get_spread_object(
        /*item*/
        ctx2[18]
      )]) : {};
      if (dirty & /*$$scope, $$restProps, renderers*/
      8388704) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].orderedlistitem || /*renderers*/
      ctx2[5].listitem)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_7$1(ctx) {
  let each_1_anchor;
  let current;
  let each_value_4 = (
    /*$$restProps*/
    ctx[6].items
  );
  let each_blocks = [];
  for (let i = 0; i < each_value_4.length; i += 1) {
    each_blocks[i] = create_each_block_4(get_each_context_4(ctx, each_value_4, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*renderers, $$restProps*/
      96) {
        each_value_4 = /*$$restProps*/
        ctx2[6].items;
        let i;
        for (i = 0; i < each_value_4.length; i += 1) {
          const child_ctx = get_each_context_4(ctx2, each_value_4, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block_4(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value_4.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_4.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_default_slot_6$1(ctx) {
  let parser;
  let t;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*headerItem*/
        ctx[16].tokens
      ),
      renderers: (
        /*renderers*/
        ctx[5]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
      t = space();
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = {};
      if (dirty & /*header*/
      4)
        parser_changes.tokens = /*headerItem*/
        ctx2[16].tokens;
      if (dirty & /*renderers*/
      32)
        parser_changes.renderers = /*renderers*/
        ctx2[5];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block_3$1(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].tablecell
  );
  function switch_props(ctx2) {
    return {
      props: {
        header: true,
        align: (
          /*$$restProps*/
          ctx2[6].align[
            /*i*/
            ctx2[15]
          ] || "center"
        ),
        $$slots: { default: [create_default_slot_6$1] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$$restProps*/
      64)
        switch_instance_changes.align = /*$$restProps*/
        ctx2[6].align[
          /*i*/
          ctx2[15]
        ] || "center";
      if (dirty & /*$$scope, header, renderers*/
      8388644) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].tablecell)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_5$1(ctx) {
  let each_1_anchor;
  let current;
  let each_value_3 = (
    /*header*/
    ctx[2]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value_3.length; i += 1) {
    each_blocks[i] = create_each_block_3$1(get_each_context_3$1(ctx, each_value_3, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*renderers, $$restProps, header*/
      100) {
        each_value_3 = /*header*/
        ctx2[2];
        let i;
        for (i = 0; i < each_value_3.length; i += 1) {
          const child_ctx = get_each_context_3$1(ctx2, each_value_3, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block_3$1(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value_3.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_3.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_default_slot_4$2(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].tablerow
  );
  function switch_props(ctx2) {
    return {
      props: {
        $$slots: { default: [create_default_slot_5$1] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$$scope, header, renderers, $$restProps*/
      8388708) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].tablerow)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_3$2(ctx) {
  let parser;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*cells*/
        ctx[13].tokens
      ),
      renderers: (
        /*renderers*/
        ctx[5]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = {};
      if (dirty & /*rows*/
      8)
        parser_changes.tokens = /*cells*/
        ctx2[13].tokens;
      if (dirty & /*renderers*/
      32)
        parser_changes.renderers = /*renderers*/
        ctx2[5];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
    }
  };
}
function create_each_block_2$1(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].tablecell
  );
  function switch_props(ctx2) {
    return {
      props: {
        header: false,
        align: (
          /*$$restProps*/
          ctx2[6].align[
            /*i*/
            ctx2[15]
          ] || "center"
        ),
        $$slots: { default: [create_default_slot_3$2] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$$restProps*/
      64)
        switch_instance_changes.align = /*$$restProps*/
        ctx2[6].align[
          /*i*/
          ctx2[15]
        ] || "center";
      if (dirty & /*$$scope, rows, renderers*/
      8388648) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].tablecell)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_2$2(ctx) {
  let t;
  let current;
  let each_value_2 = (
    /*row*/
    ctx[10]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_2$1(get_each_context_2$1(ctx, each_value_2, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t = space();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, t, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*renderers, $$restProps, rows*/
      104) {
        each_value_2 = /*row*/
        ctx2[10];
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_2$1(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block_2$1(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(t.parentNode, t);
          }
        }
        group_outros();
        for (i = each_value_2.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_2.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block_1$3(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].tablerow
  );
  function switch_props(ctx2) {
    return {
      props: {
        $$slots: { default: [create_default_slot_2$2] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$$scope, rows, renderers, $$restProps*/
      8388712) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].tablerow)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot_1$2(ctx) {
  let each_1_anchor;
  let current;
  let each_value_1 = (
    /*rows*/
    ctx[3]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1$3(get_each_context_1$3(ctx, each_value_1, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*renderers, rows, $$restProps*/
      104) {
        each_value_1 = /*rows*/
        ctx2[3];
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1$3(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block_1$3(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value_1.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_1.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_default_slot$c(ctx) {
  let switch_instance0;
  let t;
  let switch_instance1;
  let switch_instance1_anchor;
  let current;
  var switch_value = (
    /*renderers*/
    ctx[5].tablehead
  );
  function switch_props(ctx2) {
    return {
      props: {
        $$slots: { default: [create_default_slot_4$2] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance0 = construct_svelte_component(switch_value, switch_props(ctx));
  }
  var switch_value_1 = (
    /*renderers*/
    ctx[5].tablebody
  );
  function switch_props_1(ctx2) {
    return {
      props: {
        $$slots: { default: [create_default_slot_1$2] },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value_1) {
    switch_instance1 = construct_svelte_component(switch_value_1, switch_props_1(ctx));
  }
  return {
    c() {
      if (switch_instance0)
        create_component(switch_instance0.$$.fragment);
      t = space();
      if (switch_instance1)
        create_component(switch_instance1.$$.fragment);
      switch_instance1_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance0)
        mount_component(switch_instance0, target, anchor);
      insert(target, t, anchor);
      if (switch_instance1)
        mount_component(switch_instance1, target, anchor);
      insert(target, switch_instance1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance0_changes = {};
      if (dirty & /*$$scope, renderers, header, $$restProps*/
      8388708) {
        switch_instance0_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value !== (switch_value = /*renderers*/
      ctx2[5].tablehead)) {
        if (switch_instance0) {
          group_outros();
          const old_component = switch_instance0;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance0 = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance0.$$.fragment);
          transition_in(switch_instance0.$$.fragment, 1);
          mount_component(switch_instance0, t.parentNode, t);
        } else {
          switch_instance0 = null;
        }
      } else if (switch_value) {
        switch_instance0.$set(switch_instance0_changes);
      }
      const switch_instance1_changes = {};
      if (dirty & /*$$scope, rows, renderers, $$restProps*/
      8388712) {
        switch_instance1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (dirty & /*renderers*/
      32 && switch_value_1 !== (switch_value_1 = /*renderers*/
      ctx2[5].tablebody)) {
        if (switch_instance1) {
          group_outros();
          const old_component = switch_instance1;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value_1) {
          switch_instance1 = construct_svelte_component(switch_value_1, switch_props_1(ctx2));
          create_component(switch_instance1.$$.fragment);
          transition_in(switch_instance1.$$.fragment, 1);
          mount_component(switch_instance1, switch_instance1_anchor.parentNode, switch_instance1_anchor);
        } else {
          switch_instance1 = null;
        }
      } else if (switch_value_1) {
        switch_instance1.$set(switch_instance1_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance0)
        transition_in(switch_instance0.$$.fragment, local);
      if (switch_instance1)
        transition_in(switch_instance1.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance0)
        transition_out(switch_instance0.$$.fragment, local);
      if (switch_instance1)
        transition_out(switch_instance1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (switch_instance0)
        destroy_component(switch_instance0, detaching);
      if (detaching)
        detach(t);
      if (detaching)
        detach(switch_instance1_anchor);
      if (switch_instance1)
        destroy_component(switch_instance1, detaching);
    }
  };
}
function create_each_block$9(ctx) {
  let parser;
  let current;
  const parser_spread_levels = [
    /*token*/
    ctx[7],
    { renderers: (
      /*renderers*/
      ctx[5]
    ) }
  ];
  let parser_props = {};
  for (let i = 0; i < parser_spread_levels.length; i += 1) {
    parser_props = assign(parser_props, parser_spread_levels[i]);
  }
  parser = new Parser$1({ props: parser_props });
  return {
    c() {
      create_component(parser.$$.fragment);
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const parser_changes = dirty & /*tokens, renderers*/
      34 ? get_spread_update(parser_spread_levels, [
        dirty & /*tokens*/
        2 && get_spread_object(
          /*token*/
          ctx2[7]
        ),
        dirty & /*renderers*/
        32 && { renderers: (
          /*renderers*/
          ctx2[5]
        ) }
      ]) : {};
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
    }
  };
}
function create_fragment$H(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block$c, create_if_block_1$5];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (!/*type*/
    ctx2[0])
      return 0;
    if (
      /*renderers*/
      ctx2[5][
        /*type*/
        ctx2[0]
      ]
    )
      return 1;
    return -1;
  }
  if (~(current_block_type_index = select_block_type(ctx))) {
    if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  }
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].m(target, anchor);
      }
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if (~current_block_type_index) {
          if_blocks[current_block_type_index].p(ctx2, dirty);
        }
      } else {
        if (if_block) {
          group_outros();
          transition_out(if_blocks[previous_block_index], 1, 1, () => {
            if_blocks[previous_block_index] = null;
          });
          check_outros();
        }
        if (~current_block_type_index) {
          if_block = if_blocks[current_block_type_index];
          if (!if_block) {
            if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
            if_block.c();
          } else {
            if_block.p(ctx2, dirty);
          }
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        } else {
          if_block = null;
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].d(detaching);
      }
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance$G($$self, $$props, $$invalidate) {
  const omit_props_names = ["type", "tokens", "header", "rows", "ordered", "renderers"];
  let $$restProps = compute_rest_props($$props, omit_props_names);
  let { type = void 0 } = $$props;
  let { tokens = void 0 } = $$props;
  let { header = void 0 } = $$props;
  let { rows: rows2 = void 0 } = $$props;
  let { ordered = false } = $$props;
  let { renderers } = $$props;
  supressWarnings();
  $$self.$$set = ($$new_props) => {
    $$props = assign(assign({}, $$props), exclude_internal_props($$new_props));
    $$invalidate(6, $$restProps = compute_rest_props($$props, omit_props_names));
    if ("type" in $$new_props)
      $$invalidate(0, type = $$new_props.type);
    if ("tokens" in $$new_props)
      $$invalidate(1, tokens = $$new_props.tokens);
    if ("header" in $$new_props)
      $$invalidate(2, header = $$new_props.header);
    if ("rows" in $$new_props)
      $$invalidate(3, rows2 = $$new_props.rows);
    if ("ordered" in $$new_props)
      $$invalidate(4, ordered = $$new_props.ordered);
    if ("renderers" in $$new_props)
      $$invalidate(5, renderers = $$new_props.renderers);
  };
  return [type, tokens, header, rows2, ordered, renderers, $$restProps];
}
let Parser$1 = class Parser extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$G, create_fragment$H, safe_not_equal, {
      type: 0,
      tokens: 1,
      header: 2,
      rows: 3,
      ordered: 4,
      renderers: 5
    });
  }
};
function getDefaults() {
  return {
    async: false,
    baseUrl: null,
    breaks: false,
    extensions: null,
    gfm: true,
    headerIds: true,
    headerPrefix: "",
    highlight: null,
    hooks: null,
    langPrefix: "language-",
    mangle: true,
    pedantic: false,
    renderer: null,
    sanitize: false,
    sanitizer: null,
    silent: false,
    smartypants: false,
    tokenizer: null,
    walkTokens: null,
    xhtml: false
  };
}
let defaults = getDefaults();
function changeDefaults(newDefaults) {
  defaults = newDefaults;
}
const escapeTest = /[&<>"']/;
const escapeReplace = new RegExp(escapeTest.source, "g");
const escapeTestNoEncode = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/;
const escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, "g");
const escapeReplacements = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
const getEscapeReplacement = (ch) => escapeReplacements[ch];
function escape(html, encode) {
  if (encode) {
    if (escapeTest.test(html)) {
      return html.replace(escapeReplace, getEscapeReplacement);
    }
  } else {
    if (escapeTestNoEncode.test(html)) {
      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
    }
  }
  return html;
}
const unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
function unescape(html) {
  return html.replace(unescapeTest, (_, n) => {
    n = n.toLowerCase();
    if (n === "colon")
      return ":";
    if (n.charAt(0) === "#") {
      return n.charAt(1) === "x" ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
    }
    return "";
  });
}
const caret = /(^|[^\[])\^/g;
function edit(regex, opt) {
  regex = typeof regex === "string" ? regex : regex.source;
  opt = opt || "";
  const obj = {
    replace: (name, val) => {
      val = val.source || val;
      val = val.replace(caret, "$1");
      regex = regex.replace(name, val);
      return obj;
    },
    getRegex: () => {
      return new RegExp(regex, opt);
    }
  };
  return obj;
}
const nonWordAndColonTest = /[^\w:]/g;
const originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
function cleanUrl(sanitize, base, href) {
  if (sanitize) {
    let prot;
    try {
      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, "").toLowerCase();
    } catch (e) {
      return null;
    }
    if (prot.indexOf("javascript:") === 0 || prot.indexOf("vbscript:") === 0 || prot.indexOf("data:") === 0) {
      return null;
    }
  }
  if (base && !originIndependentUrl.test(href)) {
    href = resolveUrl(base, href);
  }
  try {
    href = encodeURI(href).replace(/%25/g, "%");
  } catch (e) {
    return null;
  }
  return href;
}
const baseUrls = {};
const justDomain = /^[^:]+:\/*[^/]*$/;
const protocol = /^([^:]+:)[\s\S]*$/;
const domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;
function resolveUrl(base, href) {
  if (!baseUrls[" " + base]) {
    if (justDomain.test(base)) {
      baseUrls[" " + base] = base + "/";
    } else {
      baseUrls[" " + base] = rtrim(base, "/", true);
    }
  }
  base = baseUrls[" " + base];
  const relativeBase = base.indexOf(":") === -1;
  if (href.substring(0, 2) === "//") {
    if (relativeBase) {
      return href;
    }
    return base.replace(protocol, "$1") + href;
  } else if (href.charAt(0) === "/") {
    if (relativeBase) {
      return href;
    }
    return base.replace(domain, "$1") + href;
  } else {
    return base + href;
  }
}
const noopTest = { exec: function noopTest2() {
} };
function splitCells(tableRow, count) {
  const row = tableRow.replace(/\|/g, (match, offset, str) => {
    let escaped = false, curr = offset;
    while (--curr >= 0 && str[curr] === "\\")
      escaped = !escaped;
    if (escaped) {
      return "|";
    } else {
      return " |";
    }
  }), cells = row.split(/ \|/);
  let i = 0;
  if (!cells[0].trim()) {
    cells.shift();
  }
  if (cells.length > 0 && !cells[cells.length - 1].trim()) {
    cells.pop();
  }
  if (cells.length > count) {
    cells.splice(count);
  } else {
    while (cells.length < count)
      cells.push("");
  }
  for (; i < cells.length; i++) {
    cells[i] = cells[i].trim().replace(/\\\|/g, "|");
  }
  return cells;
}
function rtrim(str, c, invert) {
  const l = str.length;
  if (l === 0) {
    return "";
  }
  let suffLen = 0;
  while (suffLen < l) {
    const currChar = str.charAt(l - suffLen - 1);
    if (currChar === c && !invert) {
      suffLen++;
    } else if (currChar !== c && invert) {
      suffLen++;
    } else {
      break;
    }
  }
  return str.slice(0, l - suffLen);
}
function findClosingBracket(str, b) {
  if (str.indexOf(b[1]) === -1) {
    return -1;
  }
  const l = str.length;
  let level = 0, i = 0;
  for (; i < l; i++) {
    if (str[i] === "\\") {
      i++;
    } else if (str[i] === b[0]) {
      level++;
    } else if (str[i] === b[1]) {
      level--;
      if (level < 0) {
        return i;
      }
    }
  }
  return -1;
}
function checkSanitizeDeprecation(opt) {
  if (opt && opt.sanitize && !opt.silent) {
    console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options");
  }
}
function repeatString(pattern, count) {
  if (count < 1) {
    return "";
  }
  let result = "";
  while (count > 1) {
    if (count & 1) {
      result += pattern;
    }
    count >>= 1;
    pattern += pattern;
  }
  return result + pattern;
}
function outputLink(cap, link, raw, lexer) {
  const href = link.href;
  const title = link.title ? escape(link.title) : null;
  const text2 = cap[1].replace(/\\([\[\]])/g, "$1");
  if (cap[0].charAt(0) !== "!") {
    lexer.state.inLink = true;
    const token = {
      type: "link",
      raw,
      href,
      title,
      text: text2,
      tokens: lexer.inlineTokens(text2)
    };
    lexer.state.inLink = false;
    return token;
  }
  return {
    type: "image",
    raw,
    href,
    title,
    text: escape(text2)
  };
}
function indentCodeCompensation(raw, text2) {
  const matchIndentToCode = raw.match(/^(\s+)(?:```)/);
  if (matchIndentToCode === null) {
    return text2;
  }
  const indentToCode = matchIndentToCode[1];
  return text2.split("\n").map((node) => {
    const matchIndentInNode = node.match(/^\s+/);
    if (matchIndentInNode === null) {
      return node;
    }
    const [indentInNode] = matchIndentInNode;
    if (indentInNode.length >= indentToCode.length) {
      return node.slice(indentToCode.length);
    }
    return node;
  }).join("\n");
}
class Tokenizer {
  constructor(options) {
    this.options = options || defaults;
  }
  space(src) {
    const cap = this.rules.block.newline.exec(src);
    if (cap && cap[0].length > 0) {
      return {
        type: "space",
        raw: cap[0]
      };
    }
  }
  code(src) {
    const cap = this.rules.block.code.exec(src);
    if (cap) {
      const text2 = cap[0].replace(/^ {1,4}/gm, "");
      return {
        type: "code",
        raw: cap[0],
        codeBlockStyle: "indented",
        text: !this.options.pedantic ? rtrim(text2, "\n") : text2
      };
    }
  }
  fences(src) {
    const cap = this.rules.block.fences.exec(src);
    if (cap) {
      const raw = cap[0];
      const text2 = indentCodeCompensation(raw, cap[3] || "");
      return {
        type: "code",
        raw,
        lang: cap[2] ? cap[2].trim().replace(this.rules.inline._escapes, "$1") : cap[2],
        text: text2
      };
    }
  }
  heading(src) {
    const cap = this.rules.block.heading.exec(src);
    if (cap) {
      let text2 = cap[2].trim();
      if (/#$/.test(text2)) {
        const trimmed = rtrim(text2, "#");
        if (this.options.pedantic) {
          text2 = trimmed.trim();
        } else if (!trimmed || / $/.test(trimmed)) {
          text2 = trimmed.trim();
        }
      }
      return {
        type: "heading",
        raw: cap[0],
        depth: cap[1].length,
        text: text2,
        tokens: this.lexer.inline(text2)
      };
    }
  }
  hr(src) {
    const cap = this.rules.block.hr.exec(src);
    if (cap) {
      return {
        type: "hr",
        raw: cap[0]
      };
    }
  }
  blockquote(src) {
    const cap = this.rules.block.blockquote.exec(src);
    if (cap) {
      const text2 = cap[0].replace(/^ *>[ \t]?/gm, "");
      const top = this.lexer.state.top;
      this.lexer.state.top = true;
      const tokens = this.lexer.blockTokens(text2);
      this.lexer.state.top = top;
      return {
        type: "blockquote",
        raw: cap[0],
        tokens,
        text: text2
      };
    }
  }
  list(src) {
    let cap = this.rules.block.list.exec(src);
    if (cap) {
      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;
      let bull = cap[1].trim();
      const isordered = bull.length > 1;
      const list = {
        type: "list",
        raw: "",
        ordered: isordered,
        start: isordered ? +bull.slice(0, -1) : "",
        loose: false,
        items: []
      };
      bull = isordered ? `\\d{1,9}\\${bull.slice(-1)}` : `\\${bull}`;
      if (this.options.pedantic) {
        bull = isordered ? bull : "[*+-]";
      }
      const itemRegex = new RegExp(`^( {0,3}${bull})((?:[	 ][^\\n]*)?(?:\\n|$))`);
      while (src) {
        endEarly = false;
        if (!(cap = itemRegex.exec(src))) {
          break;
        }
        if (this.rules.block.hr.test(src)) {
          break;
        }
        raw = cap[0];
        src = src.substring(raw.length);
        line = cap[2].split("\n", 1)[0].replace(/^\t+/, (t) => " ".repeat(3 * t.length));
        nextLine = src.split("\n", 1)[0];
        if (this.options.pedantic) {
          indent = 2;
          itemContents = line.trimLeft();
        } else {
          indent = cap[2].search(/[^ ]/);
          indent = indent > 4 ? 1 : indent;
          itemContents = line.slice(indent);
          indent += cap[1].length;
        }
        blankLine = false;
        if (!line && /^ *$/.test(nextLine)) {
          raw += nextLine + "\n";
          src = src.substring(nextLine.length + 1);
          endEarly = true;
        }
        if (!endEarly) {
          const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`);
          const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`);
          const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\`\`\`|~~~)`);
          const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);
          while (src) {
            rawLine = src.split("\n", 1)[0];
            nextLine = rawLine;
            if (this.options.pedantic) {
              nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ");
            }
            if (fencesBeginRegex.test(nextLine)) {
              break;
            }
            if (headingBeginRegex.test(nextLine)) {
              break;
            }
            if (nextBulletRegex.test(nextLine)) {
              break;
            }
            if (hrRegex.test(src)) {
              break;
            }
            if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) {
              itemContents += "\n" + nextLine.slice(indent);
            } else {
              if (blankLine) {
                break;
              }
              if (line.search(/[^ ]/) >= 4) {
                break;
              }
              if (fencesBeginRegex.test(line)) {
                break;
              }
              if (headingBeginRegex.test(line)) {
                break;
              }
              if (hrRegex.test(line)) {
                break;
              }
              itemContents += "\n" + nextLine;
            }
            if (!blankLine && !nextLine.trim()) {
              blankLine = true;
            }
            raw += rawLine + "\n";
            src = src.substring(rawLine.length + 1);
            line = nextLine.slice(indent);
          }
        }
        if (!list.loose) {
          if (endsWithBlankLine) {
            list.loose = true;
          } else if (/\n *\n *$/.test(raw)) {
            endsWithBlankLine = true;
          }
        }
        if (this.options.gfm) {
          istask = /^\[[ xX]\] /.exec(itemContents);
          if (istask) {
            ischecked = istask[0] !== "[ ] ";
            itemContents = itemContents.replace(/^\[[ xX]\] +/, "");
          }
        }
        list.items.push({
          type: "list_item",
          raw,
          task: !!istask,
          checked: ischecked,
          loose: false,
          text: itemContents
        });
        list.raw += raw;
      }
      list.items[list.items.length - 1].raw = raw.trimRight();
      list.items[list.items.length - 1].text = itemContents.trimRight();
      list.raw = list.raw.trimRight();
      const l = list.items.length;
      for (i = 0; i < l; i++) {
        this.lexer.state.top = false;
        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
        if (!list.loose) {
          const spacers = list.items[i].tokens.filter((t) => t.type === "space");
          const hasMultipleLineBreaks = spacers.length > 0 && spacers.some((t) => /\n.*\n/.test(t.raw));
          list.loose = hasMultipleLineBreaks;
        }
      }
      if (list.loose) {
        for (i = 0; i < l; i++) {
          list.items[i].loose = true;
        }
      }
      return list;
    }
  }
  html(src) {
    const cap = this.rules.block.html.exec(src);
    if (cap) {
      const token = {
        type: "html",
        raw: cap[0],
        pre: !this.options.sanitizer && (cap[1] === "pre" || cap[1] === "script" || cap[1] === "style"),
        text: cap[0]
      };
      if (this.options.sanitize) {
        const text2 = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);
        token.type = "paragraph";
        token.text = text2;
        token.tokens = this.lexer.inline(text2);
      }
      return token;
    }
  }
  def(src) {
    const cap = this.rules.block.def.exec(src);
    if (cap) {
      const tag = cap[1].toLowerCase().replace(/\s+/g, " ");
      const href = cap[2] ? cap[2].replace(/^<(.*)>$/, "$1").replace(this.rules.inline._escapes, "$1") : "";
      const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline._escapes, "$1") : cap[3];
      return {
        type: "def",
        tag,
        raw: cap[0],
        href,
        title
      };
    }
  }
  table(src) {
    const cap = this.rules.block.table.exec(src);
    if (cap) {
      const item = {
        type: "table",
        header: splitCells(cap[1]).map((c) => {
          return { text: c };
        }),
        align: cap[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\n[ \t]*$/, "").split("\n") : []
      };
      if (item.header.length === item.align.length) {
        item.raw = cap[0];
        let l = item.align.length;
        let i, j, k, row;
        for (i = 0; i < l; i++) {
          if (/^ *-+: *$/.test(item.align[i])) {
            item.align[i] = "right";
          } else if (/^ *:-+: *$/.test(item.align[i])) {
            item.align[i] = "center";
          } else if (/^ *:-+ *$/.test(item.align[i])) {
            item.align[i] = "left";
          } else {
            item.align[i] = null;
          }
        }
        l = item.rows.length;
        for (i = 0; i < l; i++) {
          item.rows[i] = splitCells(item.rows[i], item.header.length).map((c) => {
            return { text: c };
          });
        }
        l = item.header.length;
        for (j = 0; j < l; j++) {
          item.header[j].tokens = this.lexer.inline(item.header[j].text);
        }
        l = item.rows.length;
        for (j = 0; j < l; j++) {
          row = item.rows[j];
          for (k = 0; k < row.length; k++) {
            row[k].tokens = this.lexer.inline(row[k].text);
          }
        }
        return item;
      }
    }
  }
  lheading(src) {
    const cap = this.rules.block.lheading.exec(src);
    if (cap) {
      return {
        type: "heading",
        raw: cap[0],
        depth: cap[2].charAt(0) === "=" ? 1 : 2,
        text: cap[1],
        tokens: this.lexer.inline(cap[1])
      };
    }
  }
  paragraph(src) {
    const cap = this.rules.block.paragraph.exec(src);
    if (cap) {
      const text2 = cap[1].charAt(cap[1].length - 1) === "\n" ? cap[1].slice(0, -1) : cap[1];
      return {
        type: "paragraph",
        raw: cap[0],
        text: text2,
        tokens: this.lexer.inline(text2)
      };
    }
  }
  text(src) {
    const cap = this.rules.block.text.exec(src);
    if (cap) {
      return {
        type: "text",
        raw: cap[0],
        text: cap[0],
        tokens: this.lexer.inline(cap[0])
      };
    }
  }
  escape(src) {
    const cap = this.rules.inline.escape.exec(src);
    if (cap) {
      return {
        type: "escape",
        raw: cap[0],
        text: escape(cap[1])
      };
    }
  }
  tag(src) {
    const cap = this.rules.inline.tag.exec(src);
    if (cap) {
      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {
        this.lexer.state.inLink = true;
      } else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) {
        this.lexer.state.inLink = false;
      }
      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = true;
      } else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = false;
      }
      return {
        type: this.options.sanitize ? "text" : "html",
        raw: cap[0],
        inLink: this.lexer.state.inLink,
        inRawBlock: this.lexer.state.inRawBlock,
        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]
      };
    }
  }
  link(src) {
    const cap = this.rules.inline.link.exec(src);
    if (cap) {
      const trimmedUrl = cap[2].trim();
      if (!this.options.pedantic && /^</.test(trimmedUrl)) {
        if (!/>$/.test(trimmedUrl)) {
          return;
        }
        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), "\\");
        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
          return;
        }
      } else {
        const lastParenIndex = findClosingBracket(cap[2], "()");
        if (lastParenIndex > -1) {
          const start = cap[0].indexOf("!") === 0 ? 5 : 4;
          const linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = "";
        }
      }
      let href = cap[2];
      let title = "";
      if (this.options.pedantic) {
        const link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);
        if (link) {
          href = link[1];
          title = link[3];
        }
      } else {
        title = cap[3] ? cap[3].slice(1, -1) : "";
      }
      href = href.trim();
      if (/^</.test(href)) {
        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {
          href = href.slice(1);
        } else {
          href = href.slice(1, -1);
        }
      }
      return outputLink(cap, {
        href: href ? href.replace(this.rules.inline._escapes, "$1") : href,
        title: title ? title.replace(this.rules.inline._escapes, "$1") : title
      }, cap[0], this.lexer);
    }
  }
  reflink(src, links) {
    let cap;
    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
      let link = (cap[2] || cap[1]).replace(/\s+/g, " ");
      link = links[link.toLowerCase()];
      if (!link) {
        const text2 = cap[0].charAt(0);
        return {
          type: "text",
          raw: text2,
          text: text2
        };
      }
      return outputLink(cap, link, cap[0], this.lexer);
    }
  }
  emStrong(src, maskedSrc, prevChar = "") {
    let match = this.rules.inline.emStrong.lDelim.exec(src);
    if (!match)
      return;
    if (match[3] && prevChar.match(/[\p{L}\p{N}]/u))
      return;
    const nextChar = match[1] || match[2] || "";
    if (!nextChar || nextChar && (prevChar === "" || this.rules.inline.punctuation.exec(prevChar))) {
      const lLength = match[0].length - 1;
      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
      const endReg = match[0][0] === "*" ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;
      endReg.lastIndex = 0;
      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
      while ((match = endReg.exec(maskedSrc)) != null) {
        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
        if (!rDelim)
          continue;
        rLength = rDelim.length;
        if (match[3] || match[4]) {
          delimTotal += rLength;
          continue;
        } else if (match[5] || match[6]) {
          if (lLength % 3 && !((lLength + rLength) % 3)) {
            midDelimTotal += rLength;
            continue;
          }
        }
        delimTotal -= rLength;
        if (delimTotal > 0)
          continue;
        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
        const raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);
        if (Math.min(lLength, rLength) % 2) {
          const text3 = raw.slice(1, -1);
          return {
            type: "em",
            raw,
            text: text3,
            tokens: this.lexer.inlineTokens(text3)
          };
        }
        const text2 = raw.slice(2, -2);
        return {
          type: "strong",
          raw,
          text: text2,
          tokens: this.lexer.inlineTokens(text2)
        };
      }
    }
  }
  codespan(src) {
    const cap = this.rules.inline.code.exec(src);
    if (cap) {
      let text2 = cap[2].replace(/\n/g, " ");
      const hasNonSpaceChars = /[^ ]/.test(text2);
      const hasSpaceCharsOnBothEnds = /^ /.test(text2) && / $/.test(text2);
      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
        text2 = text2.substring(1, text2.length - 1);
      }
      text2 = escape(text2, true);
      return {
        type: "codespan",
        raw: cap[0],
        text: text2
      };
    }
  }
  br(src) {
    const cap = this.rules.inline.br.exec(src);
    if (cap) {
      return {
        type: "br",
        raw: cap[0]
      };
    }
  }
  del(src) {
    const cap = this.rules.inline.del.exec(src);
    if (cap) {
      return {
        type: "del",
        raw: cap[0],
        text: cap[2],
        tokens: this.lexer.inlineTokens(cap[2])
      };
    }
  }
  autolink(src, mangle2) {
    const cap = this.rules.inline.autolink.exec(src);
    if (cap) {
      let text2, href;
      if (cap[2] === "@") {
        text2 = escape(this.options.mangle ? mangle2(cap[1]) : cap[1]);
        href = "mailto:" + text2;
      } else {
        text2 = escape(cap[1]);
        href = text2;
      }
      return {
        type: "link",
        raw: cap[0],
        text: text2,
        href,
        tokens: [
          {
            type: "text",
            raw: text2,
            text: text2
          }
        ]
      };
    }
  }
  url(src, mangle2) {
    let cap;
    if (cap = this.rules.inline.url.exec(src)) {
      let text2, href;
      if (cap[2] === "@") {
        text2 = escape(this.options.mangle ? mangle2(cap[0]) : cap[0]);
        href = "mailto:" + text2;
      } else {
        let prevCapZero;
        do {
          prevCapZero = cap[0];
          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
        } while (prevCapZero !== cap[0]);
        text2 = escape(cap[0]);
        if (cap[1] === "www.") {
          href = "http://" + cap[0];
        } else {
          href = cap[0];
        }
      }
      return {
        type: "link",
        raw: cap[0],
        text: text2,
        href,
        tokens: [
          {
            type: "text",
            raw: text2,
            text: text2
          }
        ]
      };
    }
  }
  inlineText(src, smartypants2) {
    const cap = this.rules.inline.text.exec(src);
    if (cap) {
      let text2;
      if (this.lexer.state.inRawBlock) {
        text2 = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];
      } else {
        text2 = escape(this.options.smartypants ? smartypants2(cap[0]) : cap[0]);
      }
      return {
        type: "text",
        raw: cap[0],
        text: text2
      };
    }
  }
}
const block = {
  newline: /^(?: *(?:\n|$))+/,
  code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
  fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
  hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,
  heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
  blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
  list: /^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,
  html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
  def: /^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
  table: noopTest,
  lheading: /^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
  // regex template, placeholders will be replaced according to different paragraph
  // interruption rules of commonmark and the original markdown spec:
  _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
  text: /^[^\n]+/
};
block._label = /(?!\s*\])(?:\\.|[^\[\]\\])+/;
block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
block.def = edit(block.def).replace("label", block._label).replace("title", block._title).getRegex();
block.bullet = /(?:[*+-]|\d{1,9}[.)])/;
block.listItemStart = edit(/^( *)(bull) */).replace("bull", block.bullet).getRegex();
block.list = edit(block.list).replace(/bull/g, block.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + block.def.source + ")").getRegex();
block._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
block._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/;
block.html = edit(block.html, "i").replace("comment", block._comment).replace("tag", block._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
block.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.blockquote = edit(block.blockquote).replace("paragraph", block.paragraph).getRegex();
block.normal = { ...block };
block.gfm = {
  ...block.normal,
  table: "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"
  // Cells
};
block.gfm.table = edit(block.gfm.table).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.gfm.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("table", block.gfm.table).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.pedantic = {
  ...block.normal,
  html: edit(
    `^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`
  ).replace("comment", block._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
  heading: /^(#{1,6})(.*)(?:\n+|$)/,
  fences: noopTest,
  // fences not supported
  lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
  paragraph: edit(block.normal._paragraph).replace("hr", block.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", block.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
};
const inline = {
  escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
  autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
  url: noopTest,
  tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
  // CDATA section
  link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
  reflink: /^!?\[(label)\]\[(ref)\]/,
  nolink: /^!?\[(ref)\](?:\[\])?/,
  reflinkSearch: "reflink|nolink(?!\\()",
  emStrong: {
    lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.
    //          () Skip orphan inside strong                                      () Consume to delim     (1) #***                (2) a***#, a***                             (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a
    rDelimAst: /^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,
    rDelimUnd: /^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/
    // ^- Not allowed for _
  },
  code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
  br: /^( {2,}|\\)\n(?!\s*$)/,
  del: noopTest,
  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
  punctuation: /^([\spunctuation])/
};
inline._punctuation = "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";
inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();
inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
inline.escapedEmSt = /(?:^|[^\\])(?:\\\\)*\\[*_]/g;
inline._comment = edit(block._comment).replace("(?:-->|$)", "-->").getRegex();
inline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, "g").replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, "g").replace(/punct/g, inline._punctuation).getRegex();
inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
inline.autolink = edit(inline.autolink).replace("scheme", inline._scheme).replace("email", inline._email).getRegex();
inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
inline.tag = edit(inline.tag).replace("comment", inline._comment).replace("attribute", inline._attribute).getRegex();
inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
inline._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;
inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
inline.link = edit(inline.link).replace("label", inline._label).replace("href", inline._href).replace("title", inline._title).getRegex();
inline.reflink = edit(inline.reflink).replace("label", inline._label).replace("ref", block._label).getRegex();
inline.nolink = edit(inline.nolink).replace("ref", block._label).getRegex();
inline.reflinkSearch = edit(inline.reflinkSearch, "g").replace("reflink", inline.reflink).replace("nolink", inline.nolink).getRegex();
inline.normal = { ...inline };
inline.pedantic = {
  ...inline.normal,
  strong: {
    start: /^__|\*\*/,
    middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    endAst: /\*\*(?!\*)/g,
    endUnd: /__(?!_)/g
  },
  em: {
    start: /^_|\*/,
    middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
    endAst: /\*(?!\*)/g,
    endUnd: /_(?!_)/g
  },
  link: edit(/^!?\[(label)\]\((.*?)\)/).replace("label", inline._label).getRegex(),
  reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", inline._label).getRegex()
};
inline.gfm = {
  ...inline.normal,
  escape: edit(inline.escape).replace("])", "~|])").getRegex(),
  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
  url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
  _backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,
  del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
  text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
};
inline.gfm.url = edit(inline.gfm.url, "i").replace("email", inline.gfm._extended_email).getRegex();
inline.breaks = {
  ...inline.gfm,
  br: edit(inline.br).replace("{2,}", "*").getRegex(),
  text: edit(inline.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
};
function smartypants(text2) {
  return text2.replace(/---/g, "").replace(/--/g, "").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1").replace(/'/g, "").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1").replace(/"/g, "").replace(/\.{3}/g, "");
}
function mangle(text2) {
  let out = "", i, ch;
  const l = text2.length;
  for (i = 0; i < l; i++) {
    ch = text2.charCodeAt(i);
    if (Math.random() > 0.5) {
      ch = "x" + ch.toString(16);
    }
    out += "&#" + ch + ";";
  }
  return out;
}
class Lexer {
  constructor(options) {
    this.tokens = [];
    this.tokens.links = /* @__PURE__ */ Object.create(null);
    this.options = options || defaults;
    this.options.tokenizer = this.options.tokenizer || new Tokenizer();
    this.tokenizer = this.options.tokenizer;
    this.tokenizer.options = this.options;
    this.tokenizer.lexer = this;
    this.inlineQueue = [];
    this.state = {
      inLink: false,
      inRawBlock: false,
      top: true
    };
    const rules = {
      block: block.normal,
      inline: inline.normal
    };
    if (this.options.pedantic) {
      rules.block = block.pedantic;
      rules.inline = inline.pedantic;
    } else if (this.options.gfm) {
      rules.block = block.gfm;
      if (this.options.breaks) {
        rules.inline = inline.breaks;
      } else {
        rules.inline = inline.gfm;
      }
    }
    this.tokenizer.rules = rules;
  }
  /**
   * Expose Rules
   */
  static get rules() {
    return {
      block,
      inline
    };
  }
  /**
   * Static Lex Method
   */
  static lex(src, options) {
    const lexer = new Lexer(options);
    return lexer.lex(src);
  }
  /**
   * Static Lex Inline Method
   */
  static lexInline(src, options) {
    const lexer = new Lexer(options);
    return lexer.inlineTokens(src);
  }
  /**
   * Preprocessing
   */
  lex(src) {
    src = src.replace(/\r\n|\r/g, "\n");
    this.blockTokens(src, this.tokens);
    let next;
    while (next = this.inlineQueue.shift()) {
      this.inlineTokens(next.src, next.tokens);
    }
    return this.tokens;
  }
  /**
   * Lexing
   */
  blockTokens(src, tokens = []) {
    if (this.options.pedantic) {
      src = src.replace(/\t/g, "    ").replace(/^ +$/gm, "");
    } else {
      src = src.replace(/^( *)(\t+)/gm, (_, leading, tabs) => {
        return leading + "    ".repeat(tabs.length);
      });
    }
    let token, lastToken, cutSrc, lastParagraphClipped;
    while (src) {
      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.space(src)) {
        src = src.substring(token.raw.length);
        if (token.raw.length === 1 && tokens.length > 0) {
          tokens[tokens.length - 1].raw += "\n";
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.code(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.fences(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.heading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.hr(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.blockquote(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.list(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.html(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.def(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.raw;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else if (!this.tokens.links[token.tag]) {
          this.tokens.links[token.tag] = {
            href: token.href,
            title: token.title
          };
        }
        continue;
      }
      if (token = this.tokenizer.table(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.lheading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startBlock) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startBlock.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
        lastToken = tokens[tokens.length - 1];
        if (lastParagraphClipped && lastToken.type === "paragraph") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        lastParagraphClipped = cutSrc.length !== src.length;
        src = src.substring(token.raw.length);
        continue;
      }
      if (token = this.tokenizer.text(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    this.state.top = true;
    return tokens;
  }
  inline(src, tokens = []) {
    this.inlineQueue.push({ src, tokens });
    return tokens;
  }
  /**
   * Lexing/Compiling
   */
  inlineTokens(src, tokens = []) {
    let token, lastToken, cutSrc;
    let maskedSrc = src;
    let match;
    let keepPrevChar, prevChar;
    if (this.tokens.links) {
      const links = Object.keys(this.tokens.links);
      if (links.length > 0) {
        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
          if (links.includes(match[0].slice(match[0].lastIndexOf("[") + 1, -1))) {
            maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
          }
        }
      }
    }
    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
    }
    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index + match[0].length - 2) + "++" + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);
      this.tokenizer.rules.inline.escapedEmSt.lastIndex--;
    }
    while (src) {
      if (!keepPrevChar) {
        prevChar = "";
      }
      keepPrevChar = false;
      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.escape(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.tag(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.link(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.reflink(src, this.tokens.links)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.codespan(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.br(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.del(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.autolink(src, mangle)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startInline) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startInline.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {
        src = src.substring(token.raw.length);
        if (token.raw.slice(-1) !== "_") {
          prevChar = token.raw.slice(-1);
        }
        keepPrevChar = true;
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    return tokens;
  }
}
class Renderer2 {
  constructor(options) {
    this.options = options || defaults;
  }
  code(code, infostring, escaped) {
    const lang = (infostring || "").match(/\S*/)[0];
    if (this.options.highlight) {
      const out = this.options.highlight(code, lang);
      if (out != null && out !== code) {
        escaped = true;
        code = out;
      }
    }
    code = code.replace(/\n$/, "") + "\n";
    if (!lang) {
      return "<pre><code>" + (escaped ? code : escape(code, true)) + "</code></pre>\n";
    }
    return '<pre><code class="' + this.options.langPrefix + escape(lang) + '">' + (escaped ? code : escape(code, true)) + "</code></pre>\n";
  }
  /**
   * @param {string} quote
   */
  blockquote(quote) {
    return `<blockquote>
${quote}</blockquote>
`;
  }
  html(html) {
    return html;
  }
  /**
   * @param {string} text
   * @param {string} level
   * @param {string} raw
   * @param {any} slugger
   */
  heading(text2, level, raw, slugger) {
    if (this.options.headerIds) {
      const id = this.options.headerPrefix + slugger.slug(raw);
      return `<h${level} id="${id}">${text2}</h${level}>
`;
    }
    return `<h${level}>${text2}</h${level}>
`;
  }
  hr() {
    return this.options.xhtml ? "<hr/>\n" : "<hr>\n";
  }
  list(body, ordered, start) {
    const type = ordered ? "ol" : "ul", startatt = ordered && start !== 1 ? ' start="' + start + '"' : "";
    return "<" + type + startatt + ">\n" + body + "</" + type + ">\n";
  }
  /**
   * @param {string} text
   */
  listitem(text2) {
    return `<li>${text2}</li>
`;
  }
  checkbox(checked) {
    return "<input " + (checked ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> ";
  }
  /**
   * @param {string} text
   */
  paragraph(text2) {
    return `<p>${text2}</p>
`;
  }
  /**
   * @param {string} header
   * @param {string} body
   */
  table(header, body) {
    if (body)
      body = `<tbody>${body}</tbody>`;
    return "<table>\n<thead>\n" + header + "</thead>\n" + body + "</table>\n";
  }
  /**
   * @param {string} content
   */
  tablerow(content) {
    return `<tr>
${content}</tr>
`;
  }
  tablecell(content, flags) {
    const type = flags.header ? "th" : "td";
    const tag = flags.align ? `<${type} align="${flags.align}">` : `<${type}>`;
    return tag + content + `</${type}>
`;
  }
  /**
   * span level renderer
   * @param {string} text
   */
  strong(text2) {
    return `<strong>${text2}</strong>`;
  }
  /**
   * @param {string} text
   */
  em(text2) {
    return `<em>${text2}</em>`;
  }
  /**
   * @param {string} text
   */
  codespan(text2) {
    return `<code>${text2}</code>`;
  }
  br() {
    return this.options.xhtml ? "<br/>" : "<br>";
  }
  /**
   * @param {string} text
   */
  del(text2) {
    return `<del>${text2}</del>`;
  }
  /**
   * @param {string} href
   * @param {string} title
   * @param {string} text
   */
  link(href, title, text2) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text2;
    }
    let out = '<a href="' + href + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += ">" + text2 + "</a>";
    return out;
  }
  /**
   * @param {string} href
   * @param {string} title
   * @param {string} text
   */
  image(href, title, text2) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text2;
    }
    let out = `<img src="${href}" alt="${text2}"`;
    if (title) {
      out += ` title="${title}"`;
    }
    out += this.options.xhtml ? "/>" : ">";
    return out;
  }
  text(text2) {
    return text2;
  }
}
class TextRenderer {
  // no need for block level renderers
  strong(text2) {
    return text2;
  }
  em(text2) {
    return text2;
  }
  codespan(text2) {
    return text2;
  }
  del(text2) {
    return text2;
  }
  html(text2) {
    return text2;
  }
  text(text2) {
    return text2;
  }
  link(href, title, text2) {
    return "" + text2;
  }
  image(href, title, text2) {
    return "" + text2;
  }
  br() {
    return "";
  }
}
class Slugger {
  constructor() {
    this.seen = {};
  }
  /**
   * @param {string} value
   */
  serialize(value) {
    return value.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
  }
  /**
   * Finds the next safe (unique) slug to use
   * @param {string} originalSlug
   * @param {boolean} isDryRun
   */
  getNextSafeSlug(originalSlug, isDryRun) {
    let slug = originalSlug;
    let occurenceAccumulator = 0;
    if (this.seen.hasOwnProperty(slug)) {
      occurenceAccumulator = this.seen[originalSlug];
      do {
        occurenceAccumulator++;
        slug = originalSlug + "-" + occurenceAccumulator;
      } while (this.seen.hasOwnProperty(slug));
    }
    if (!isDryRun) {
      this.seen[originalSlug] = occurenceAccumulator;
      this.seen[slug] = 0;
    }
    return slug;
  }
  /**
   * Convert string to unique id
   * @param {object} [options]
   * @param {boolean} [options.dryrun] Generates the next unique slug without
   * updating the internal accumulator.
   */
  slug(value, options = {}) {
    const slug = this.serialize(value);
    return this.getNextSafeSlug(slug, options.dryrun);
  }
}
class Parser2 {
  constructor(options) {
    this.options = options || defaults;
    this.options.renderer = this.options.renderer || new Renderer2();
    this.renderer = this.options.renderer;
    this.renderer.options = this.options;
    this.textRenderer = new TextRenderer();
    this.slugger = new Slugger();
  }
  /**
   * Static Parse Method
   */
  static parse(tokens, options) {
    const parser = new Parser2(options);
    return parser.parse(tokens);
  }
  /**
   * Static Parse Inline Method
   */
  static parseInline(tokens, options) {
    const parser = new Parser2(options);
    return parser.parseInline(tokens);
  }
  /**
   * Parse Loop
   */
  parse(tokens, top = true) {
    let out = "", i, j, k, l2, l3, row, cell, header, body, token, ordered, start, loose, itemBody, item, checked, task, checkbox, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "space": {
          continue;
        }
        case "hr": {
          out += this.renderer.hr();
          continue;
        }
        case "heading": {
          out += this.renderer.heading(
            this.parseInline(token.tokens),
            token.depth,
            unescape(this.parseInline(token.tokens, this.textRenderer)),
            this.slugger
          );
          continue;
        }
        case "code": {
          out += this.renderer.code(
            token.text,
            token.lang,
            token.escaped
          );
          continue;
        }
        case "table": {
          header = "";
          cell = "";
          l2 = token.header.length;
          for (j = 0; j < l2; j++) {
            cell += this.renderer.tablecell(
              this.parseInline(token.header[j].tokens),
              { header: true, align: token.align[j] }
            );
          }
          header += this.renderer.tablerow(cell);
          body = "";
          l2 = token.rows.length;
          for (j = 0; j < l2; j++) {
            row = token.rows[j];
            cell = "";
            l3 = row.length;
            for (k = 0; k < l3; k++) {
              cell += this.renderer.tablecell(
                this.parseInline(row[k].tokens),
                { header: false, align: token.align[k] }
              );
            }
            body += this.renderer.tablerow(cell);
          }
          out += this.renderer.table(header, body);
          continue;
        }
        case "blockquote": {
          body = this.parse(token.tokens);
          out += this.renderer.blockquote(body);
          continue;
        }
        case "list": {
          ordered = token.ordered;
          start = token.start;
          loose = token.loose;
          l2 = token.items.length;
          body = "";
          for (j = 0; j < l2; j++) {
            item = token.items[j];
            checked = item.checked;
            task = item.task;
            itemBody = "";
            if (item.task) {
              checkbox = this.renderer.checkbox(checked);
              if (loose) {
                if (item.tokens.length > 0 && item.tokens[0].type === "paragraph") {
                  item.tokens[0].text = checkbox + " " + item.tokens[0].text;
                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === "text") {
                    item.tokens[0].tokens[0].text = checkbox + " " + item.tokens[0].tokens[0].text;
                  }
                } else {
                  item.tokens.unshift({
                    type: "text",
                    text: checkbox
                  });
                }
              } else {
                itemBody += checkbox;
              }
            }
            itemBody += this.parse(item.tokens, loose);
            body += this.renderer.listitem(itemBody, task, checked);
          }
          out += this.renderer.list(body, ordered, start);
          continue;
        }
        case "html": {
          out += this.renderer.html(token.text);
          continue;
        }
        case "paragraph": {
          out += this.renderer.paragraph(this.parseInline(token.tokens));
          continue;
        }
        case "text": {
          body = token.tokens ? this.parseInline(token.tokens) : token.text;
          while (i + 1 < l && tokens[i + 1].type === "text") {
            token = tokens[++i];
            body += "\n" + (token.tokens ? this.parseInline(token.tokens) : token.text);
          }
          out += top ? this.renderer.paragraph(body) : body;
          continue;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
  /**
   * Parse Inline Tokens
   */
  parseInline(tokens, renderer) {
    renderer = renderer || this.renderer;
    let out = "", i, token, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "escape": {
          out += renderer.text(token.text);
          break;
        }
        case "html": {
          out += renderer.html(token.text);
          break;
        }
        case "link": {
          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
          break;
        }
        case "image": {
          out += renderer.image(token.href, token.title, token.text);
          break;
        }
        case "strong": {
          out += renderer.strong(this.parseInline(token.tokens, renderer));
          break;
        }
        case "em": {
          out += renderer.em(this.parseInline(token.tokens, renderer));
          break;
        }
        case "codespan": {
          out += renderer.codespan(token.text);
          break;
        }
        case "br": {
          out += renderer.br();
          break;
        }
        case "del": {
          out += renderer.del(this.parseInline(token.tokens, renderer));
          break;
        }
        case "text": {
          out += renderer.text(token.text);
          break;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
}
class Hooks {
  constructor(options) {
    this.options = options || defaults;
  }
  /**
   * Process markdown before marked
   */
  preprocess(markdown) {
    return markdown;
  }
  /**
   * Process HTML after marked is finished
   */
  postprocess(html) {
    return html;
  }
}
__publicField(Hooks, "passThroughHooks", /* @__PURE__ */ new Set([
  "preprocess",
  "postprocess"
]));
function onError(silent, async, callback) {
  return (e) => {
    e.message += "\nPlease report this to https://github.com/markedjs/marked.";
    if (silent) {
      const msg = "<p>An error occurred:</p><pre>" + escape(e.message + "", true) + "</pre>";
      if (async) {
        return Promise.resolve(msg);
      }
      if (callback) {
        callback(null, msg);
        return;
      }
      return msg;
    }
    if (async) {
      return Promise.reject(e);
    }
    if (callback) {
      callback(e);
      return;
    }
    throw e;
  };
}
function parseMarkdown(lexer, parser) {
  return (src, opt, callback) => {
    if (typeof opt === "function") {
      callback = opt;
      opt = null;
    }
    const origOpt = { ...opt };
    opt = { ...marked.defaults, ...origOpt };
    const throwError = onError(opt.silent, opt.async, callback);
    if (typeof src === "undefined" || src === null) {
      return throwError(new Error("marked(): input parameter is undefined or null"));
    }
    if (typeof src !== "string") {
      return throwError(new Error("marked(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected"));
    }
    checkSanitizeDeprecation(opt);
    if (opt.hooks) {
      opt.hooks.options = opt;
    }
    if (callback) {
      const highlight = opt.highlight;
      let tokens;
      try {
        if (opt.hooks) {
          src = opt.hooks.preprocess(src);
        }
        tokens = lexer(src, opt);
      } catch (e) {
        return throwError(e);
      }
      const done = function(err) {
        let out;
        if (!err) {
          try {
            if (opt.walkTokens) {
              marked.walkTokens(tokens, opt.walkTokens);
            }
            out = parser(tokens, opt);
            if (opt.hooks) {
              out = opt.hooks.postprocess(out);
            }
          } catch (e) {
            err = e;
          }
        }
        opt.highlight = highlight;
        return err ? throwError(err) : callback(null, out);
      };
      if (!highlight || highlight.length < 3) {
        return done();
      }
      delete opt.highlight;
      if (!tokens.length)
        return done();
      let pending = 0;
      marked.walkTokens(tokens, function(token) {
        if (token.type === "code") {
          pending++;
          setTimeout(() => {
            highlight(token.text, token.lang, function(err, code) {
              if (err) {
                return done(err);
              }
              if (code != null && code !== token.text) {
                token.text = code;
                token.escaped = true;
              }
              pending--;
              if (pending === 0) {
                done();
              }
            });
          }, 0);
        }
      });
      if (pending === 0) {
        done();
      }
      return;
    }
    if (opt.async) {
      return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src).then((src2) => lexer(src2, opt)).then((tokens) => opt.walkTokens ? Promise.all(marked.walkTokens(tokens, opt.walkTokens)).then(() => tokens) : tokens).then((tokens) => parser(tokens, opt)).then((html) => opt.hooks ? opt.hooks.postprocess(html) : html).catch(throwError);
    }
    try {
      if (opt.hooks) {
        src = opt.hooks.preprocess(src);
      }
      const tokens = lexer(src, opt);
      if (opt.walkTokens) {
        marked.walkTokens(tokens, opt.walkTokens);
      }
      let html = parser(tokens, opt);
      if (opt.hooks) {
        html = opt.hooks.postprocess(html);
      }
      return html;
    } catch (e) {
      return throwError(e);
    }
  };
}
function marked(src, opt, callback) {
  return parseMarkdown(Lexer.lex, Parser2.parse)(src, opt, callback);
}
marked.options = marked.setOptions = function(opt) {
  marked.defaults = { ...marked.defaults, ...opt };
  changeDefaults(marked.defaults);
  return marked;
};
marked.getDefaults = getDefaults;
marked.defaults = defaults;
marked.use = function(...args) {
  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };
  args.forEach((pack) => {
    const opts = { ...pack };
    opts.async = marked.defaults.async || opts.async || false;
    if (pack.extensions) {
      pack.extensions.forEach((ext) => {
        if (!ext.name) {
          throw new Error("extension name required");
        }
        if (ext.renderer) {
          const prevRenderer = extensions.renderers[ext.name];
          if (prevRenderer) {
            extensions.renderers[ext.name] = function(...args2) {
              let ret = ext.renderer.apply(this, args2);
              if (ret === false) {
                ret = prevRenderer.apply(this, args2);
              }
              return ret;
            };
          } else {
            extensions.renderers[ext.name] = ext.renderer;
          }
        }
        if (ext.tokenizer) {
          if (!ext.level || ext.level !== "block" && ext.level !== "inline") {
            throw new Error("extension level must be 'block' or 'inline'");
          }
          if (extensions[ext.level]) {
            extensions[ext.level].unshift(ext.tokenizer);
          } else {
            extensions[ext.level] = [ext.tokenizer];
          }
          if (ext.start) {
            if (ext.level === "block") {
              if (extensions.startBlock) {
                extensions.startBlock.push(ext.start);
              } else {
                extensions.startBlock = [ext.start];
              }
            } else if (ext.level === "inline") {
              if (extensions.startInline) {
                extensions.startInline.push(ext.start);
              } else {
                extensions.startInline = [ext.start];
              }
            }
          }
        }
        if (ext.childTokens) {
          extensions.childTokens[ext.name] = ext.childTokens;
        }
      });
      opts.extensions = extensions;
    }
    if (pack.renderer) {
      const renderer = marked.defaults.renderer || new Renderer2();
      for (const prop in pack.renderer) {
        const prevRenderer = renderer[prop];
        renderer[prop] = (...args2) => {
          let ret = pack.renderer[prop].apply(renderer, args2);
          if (ret === false) {
            ret = prevRenderer.apply(renderer, args2);
          }
          return ret;
        };
      }
      opts.renderer = renderer;
    }
    if (pack.tokenizer) {
      const tokenizer = marked.defaults.tokenizer || new Tokenizer();
      for (const prop in pack.tokenizer) {
        const prevTokenizer = tokenizer[prop];
        tokenizer[prop] = (...args2) => {
          let ret = pack.tokenizer[prop].apply(tokenizer, args2);
          if (ret === false) {
            ret = prevTokenizer.apply(tokenizer, args2);
          }
          return ret;
        };
      }
      opts.tokenizer = tokenizer;
    }
    if (pack.hooks) {
      const hooks = marked.defaults.hooks || new Hooks();
      for (const prop in pack.hooks) {
        const prevHook = hooks[prop];
        if (Hooks.passThroughHooks.has(prop)) {
          hooks[prop] = (arg) => {
            if (marked.defaults.async) {
              return Promise.resolve(pack.hooks[prop].call(hooks, arg)).then((ret2) => {
                return prevHook.call(hooks, ret2);
              });
            }
            const ret = pack.hooks[prop].call(hooks, arg);
            return prevHook.call(hooks, ret);
          };
        } else {
          hooks[prop] = (...args2) => {
            let ret = pack.hooks[prop].apply(hooks, args2);
            if (ret === false) {
              ret = prevHook.apply(hooks, args2);
            }
            return ret;
          };
        }
      }
      opts.hooks = hooks;
    }
    if (pack.walkTokens) {
      const walkTokens = marked.defaults.walkTokens;
      opts.walkTokens = function(token) {
        let values = [];
        values.push(pack.walkTokens.call(this, token));
        if (walkTokens) {
          values = values.concat(walkTokens.call(this, token));
        }
        return values;
      };
    }
    marked.setOptions(opts);
  });
};
marked.walkTokens = function(tokens, callback) {
  let values = [];
  for (const token of tokens) {
    values = values.concat(callback.call(marked, token));
    switch (token.type) {
      case "table": {
        for (const cell of token.header) {
          values = values.concat(marked.walkTokens(cell.tokens, callback));
        }
        for (const row of token.rows) {
          for (const cell of row) {
            values = values.concat(marked.walkTokens(cell.tokens, callback));
          }
        }
        break;
      }
      case "list": {
        values = values.concat(marked.walkTokens(token.items, callback));
        break;
      }
      default: {
        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {
          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {
            values = values.concat(marked.walkTokens(token[childTokens], callback));
          });
        } else if (token.tokens) {
          values = values.concat(marked.walkTokens(token.tokens, callback));
        }
      }
    }
  }
  return values;
};
marked.parseInline = parseMarkdown(Lexer.lexInline, Parser2.parseInline);
marked.Parser = Parser2;
marked.parser = Parser2.parse;
marked.Renderer = Renderer2;
marked.TextRenderer = TextRenderer;
marked.Lexer = Lexer;
marked.lexer = Lexer.lex;
marked.Tokenizer = Tokenizer;
marked.Slugger = Slugger;
marked.Hooks = Hooks;
marked.parse = marked;
marked.options;
marked.setOptions;
marked.use;
marked.walkTokens;
marked.parseInline;
Parser2.parse;
Lexer.lex;
const key = {};
function create_else_block$6(ctx) {
  let t;
  return {
    c() {
      t = text(
        /*raw*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty & /*raw*/
      2)
        set_data(
          t,
          /*raw*/
          ctx2[1]
        );
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block_5(ctx) {
  let h6;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h6 = element("h6");
      if (default_slot)
        default_slot.c();
      attr(
        h6,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h6, anchor);
      if (default_slot) {
        default_slot.m(h6, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h6,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h6);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block_4(ctx) {
  let h5;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h5 = element("h5");
      if (default_slot)
        default_slot.c();
      attr(
        h5,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h5, anchor);
      if (default_slot) {
        default_slot.m(h5, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h5,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h5);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block_3(ctx) {
  let h4;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h4 = element("h4");
      if (default_slot)
        default_slot.c();
      attr(
        h4,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h4, anchor);
      if (default_slot) {
        default_slot.m(h4, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h4,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h4);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block_2(ctx) {
  let h3;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h3 = element("h3");
      if (default_slot)
        default_slot.c();
      attr(
        h3,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h3, anchor);
      if (default_slot) {
        default_slot.m(h3, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h3,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h3);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block_1$4(ctx) {
  let h2;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h2 = element("h2");
      if (default_slot)
        default_slot.c();
      attr(
        h2,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h2, anchor);
      if (default_slot) {
        default_slot.m(h2, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h2,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h2);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block$b(ctx) {
  let h1;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      h1 = element("h1");
      if (default_slot)
        default_slot.c();
      attr(
        h1,
        "id",
        /*id*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, h1, anchor);
      if (default_slot) {
        default_slot.m(h1, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*id*/
      4) {
        attr(
          h1,
          "id",
          /*id*/
          ctx2[2]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h1);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment$G(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [
    create_if_block$b,
    create_if_block_1$4,
    create_if_block_2,
    create_if_block_3,
    create_if_block_4,
    create_if_block_5,
    create_else_block$6
  ];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*depth*/
      ctx2[0] === 1
    )
      return 0;
    if (
      /*depth*/
      ctx2[0] === 2
    )
      return 1;
    if (
      /*depth*/
      ctx2[0] === 3
    )
      return 2;
    if (
      /*depth*/
      ctx2[0] === 4
    )
      return 3;
    if (
      /*depth*/
      ctx2[0] === 5
    )
      return 4;
    if (
      /*depth*/
      ctx2[0] === 6
    )
      return 5;
    return 6;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance$F($$self, $$props, $$invalidate) {
  let id;
  let { $$slots: slots = {}, $$scope } = $$props;
  let { depth } = $$props;
  let { raw } = $$props;
  let { text: text2 } = $$props;
  const { slug, getOptions } = getContext(key);
  const options = getOptions();
  $$self.$$set = ($$props2) => {
    if ("depth" in $$props2)
      $$invalidate(0, depth = $$props2.depth);
    if ("raw" in $$props2)
      $$invalidate(1, raw = $$props2.raw);
    if ("text" in $$props2)
      $$invalidate(3, text2 = $$props2.text);
    if ("$$scope" in $$props2)
      $$invalidate(4, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*text*/
    8) {
      $$invalidate(2, id = options.headerIds ? options.headerPrefix + slug(text2) : void 0);
    }
  };
  return [depth, raw, id, text2, $$scope, slots];
}
class Heading extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$F, create_fragment$G, safe_not_equal, { depth: 0, raw: 1, text: 3 });
  }
}
function create_fragment$F(ctx) {
  let p;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      p = element("p");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, p, anchor);
      if (default_slot) {
        default_slot.m(p, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(p);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$E($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Paragraph extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$E, create_fragment$F, safe_not_equal, {});
  }
}
function create_fragment$E(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$D($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { text: text2 } = $$props;
  let { raw } = $$props;
  $$self.$$set = ($$props2) => {
    if ("text" in $$props2)
      $$invalidate(0, text2 = $$props2.text);
    if ("raw" in $$props2)
      $$invalidate(1, raw = $$props2.raw);
    if ("$$scope" in $$props2)
      $$invalidate(2, $$scope = $$props2.$$scope);
  };
  return [text2, raw, $$scope, slots];
}
class Text extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$D, create_fragment$E, safe_not_equal, { text: 0, raw: 1 });
  }
}
function create_fragment$D(ctx) {
  let img;
  let img_src_value;
  return {
    c() {
      img = element("img");
      if (!src_url_equal(img.src, img_src_value = /*href*/
      ctx[0]))
        attr(img, "src", img_src_value);
      attr(
        img,
        "title",
        /*title*/
        ctx[1]
      );
      attr(
        img,
        "alt",
        /*text*/
        ctx[2]
      );
    },
    m(target, anchor) {
      insert(target, img, anchor);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*href*/
      1 && !src_url_equal(img.src, img_src_value = /*href*/
      ctx2[0])) {
        attr(img, "src", img_src_value);
      }
      if (dirty & /*title*/
      2) {
        attr(
          img,
          "title",
          /*title*/
          ctx2[1]
        );
      }
      if (dirty & /*text*/
      4) {
        attr(
          img,
          "alt",
          /*text*/
          ctx2[2]
        );
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(img);
    }
  };
}
function instance$C($$self, $$props, $$invalidate) {
  let { href = "" } = $$props;
  let { title = void 0 } = $$props;
  let { text: text2 = "" } = $$props;
  $$self.$$set = ($$props2) => {
    if ("href" in $$props2)
      $$invalidate(0, href = $$props2.href);
    if ("title" in $$props2)
      $$invalidate(1, title = $$props2.title);
    if ("text" in $$props2)
      $$invalidate(2, text2 = $$props2.text);
  };
  return [href, title, text2];
}
let Image$1 = class Image2 extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$C, create_fragment$D, safe_not_equal, { href: 0, title: 1, text: 2 });
  }
};
function create_fragment$C(ctx) {
  let a;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      a = element("a");
      if (default_slot)
        default_slot.c();
      attr(
        a,
        "href",
        /*href*/
        ctx[0]
      );
      attr(
        a,
        "title",
        /*title*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, a, anchor);
      if (default_slot) {
        default_slot.m(a, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*href*/
      1) {
        attr(
          a,
          "href",
          /*href*/
          ctx2[0]
        );
      }
      if (!current || dirty & /*title*/
      2) {
        attr(
          a,
          "title",
          /*title*/
          ctx2[1]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(a);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$B($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { href = "" } = $$props;
  let { title = void 0 } = $$props;
  $$self.$$set = ($$props2) => {
    if ("href" in $$props2)
      $$invalidate(0, href = $$props2.href);
    if ("title" in $$props2)
      $$invalidate(1, title = $$props2.title);
    if ("$$scope" in $$props2)
      $$invalidate(2, $$scope = $$props2.$$scope);
  };
  return [href, title, $$scope, slots];
}
class Link extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$B, create_fragment$C, safe_not_equal, { href: 0, title: 1 });
  }
}
function create_fragment$B(ctx) {
  let em;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      em = element("em");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, em, anchor);
      if (default_slot) {
        default_slot.m(em, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(em);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$A($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Em extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$A, create_fragment$B, safe_not_equal, {});
  }
}
function create_fragment$A(ctx) {
  let del;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      del = element("del");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, del, anchor);
      if (default_slot) {
        default_slot.m(del, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(del);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$z($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Del extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$z, create_fragment$A, safe_not_equal, {});
  }
}
function create_fragment$z(ctx) {
  let code;
  let t_value = (
    /*raw*/
    ctx[0].replace(/`/g, "") + ""
  );
  let t;
  return {
    c() {
      code = element("code");
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, code, anchor);
      append(code, t);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*raw*/
      1 && t_value !== (t_value = /*raw*/
      ctx2[0].replace(/`/g, "") + ""))
        set_data(t, t_value);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(code);
    }
  };
}
function instance$y($$self, $$props, $$invalidate) {
  let { raw } = $$props;
  $$self.$$set = ($$props2) => {
    if ("raw" in $$props2)
      $$invalidate(0, raw = $$props2.raw);
  };
  return [raw];
}
class Codespan extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$y, create_fragment$z, safe_not_equal, { raw: 0 });
  }
}
function create_fragment$y(ctx) {
  let strong;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      strong = element("strong");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, strong, anchor);
      if (default_slot) {
        default_slot.m(strong, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(strong);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$x($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Strong extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$x, create_fragment$y, safe_not_equal, {});
  }
}
function create_fragment$x(ctx) {
  let table;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      table = element("table");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, table, anchor);
      if (default_slot) {
        default_slot.m(table, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(table);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$w($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Table extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$w, create_fragment$x, safe_not_equal, {});
  }
}
function create_fragment$w(ctx) {
  let thead;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      thead = element("thead");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, thead, anchor);
      if (default_slot) {
        default_slot.m(thead, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(thead);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$v($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class TableHead extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$v, create_fragment$w, safe_not_equal, {});
  }
}
function create_fragment$v(ctx) {
  let tbody;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      tbody = element("tbody");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, tbody, anchor);
      if (default_slot) {
        default_slot.m(tbody, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(tbody);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$u($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class TableBody extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$u, create_fragment$v, safe_not_equal, {});
  }
}
function create_fragment$u(ctx) {
  let tr;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      tr = element("tr");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, tr, anchor);
      if (default_slot) {
        default_slot.m(tr, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(tr);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$t($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class TableRow extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$t, create_fragment$u, safe_not_equal, {});
  }
}
function create_else_block$5(ctx) {
  let td;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      td = element("td");
      if (default_slot)
        default_slot.c();
      attr(
        td,
        "align",
        /*align*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, td, anchor);
      if (default_slot) {
        default_slot.m(td, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*align*/
      2) {
        attr(
          td,
          "align",
          /*align*/
          ctx2[1]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(td);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block$a(ctx) {
  let th;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      th = element("th");
      if (default_slot)
        default_slot.c();
      attr(
        th,
        "align",
        /*align*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, th, anchor);
      if (default_slot) {
        default_slot.m(th, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*align*/
      2) {
        attr(
          th,
          "align",
          /*align*/
          ctx2[1]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(th);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment$t(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block$a, create_else_block$5];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*header*/
      ctx2[0]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance$s($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { header } = $$props;
  let { align } = $$props;
  $$self.$$set = ($$props2) => {
    if ("header" in $$props2)
      $$invalidate(0, header = $$props2.header);
    if ("align" in $$props2)
      $$invalidate(1, align = $$props2.align);
    if ("$$scope" in $$props2)
      $$invalidate(2, $$scope = $$props2.$$scope);
  };
  return [header, align, $$scope, slots];
}
class TableCell extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$s, create_fragment$t, safe_not_equal, { header: 0, align: 1 });
  }
}
function create_else_block$4(ctx) {
  let ul;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      ul = element("ul");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      if (default_slot) {
        default_slot.m(ul, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_if_block$9(ctx) {
  let ol;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[3].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[2],
    null
  );
  return {
    c() {
      ol = element("ol");
      if (default_slot)
        default_slot.c();
      attr(
        ol,
        "start",
        /*start*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, ol, anchor);
      if (default_slot) {
        default_slot.m(ol, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        4)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[2],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[2]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[2],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*start*/
      2) {
        attr(
          ol,
          "start",
          /*start*/
          ctx2[1]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ol);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment$s(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block$9, create_else_block$4];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*ordered*/
      ctx2[0]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance$r($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { ordered } = $$props;
  let { start } = $$props;
  $$self.$$set = ($$props2) => {
    if ("ordered" in $$props2)
      $$invalidate(0, ordered = $$props2.ordered);
    if ("start" in $$props2)
      $$invalidate(1, start = $$props2.start);
    if ("$$scope" in $$props2)
      $$invalidate(2, $$scope = $$props2.$$scope);
  };
  return [ordered, start, $$scope, slots];
}
class List extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$r, create_fragment$s, safe_not_equal, { ordered: 0, start: 1 });
  }
}
function create_fragment$r(ctx) {
  let li;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      li = element("li");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, li, anchor);
      if (default_slot) {
        default_slot.m(li, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$q($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class ListItem extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$q, create_fragment$r, safe_not_equal, {});
  }
}
function create_fragment$q(ctx) {
  let hr;
  return {
    c() {
      hr = element("hr");
    },
    m(target, anchor) {
      insert(target, hr, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(hr);
    }
  };
}
class Hr extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, null, create_fragment$q, safe_not_equal, {});
  }
}
function create_fragment$p(ctx) {
  let html_tag;
  let html_anchor;
  return {
    c() {
      html_tag = new HtmlTag(false);
      html_anchor = empty();
      html_tag.a = html_anchor;
    },
    m(target, anchor) {
      html_tag.m(
        /*text*/
        ctx[0],
        target,
        anchor
      );
      insert(target, html_anchor, anchor);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*text*/
      1)
        html_tag.p(
          /*text*/
          ctx2[0]
        );
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(html_anchor);
      if (detaching)
        html_tag.d();
    }
  };
}
function instance$p($$self, $$props, $$invalidate) {
  let { text: text2 } = $$props;
  $$self.$$set = ($$props2) => {
    if ("text" in $$props2)
      $$invalidate(0, text2 = $$props2.text);
  };
  return [text2];
}
class Html extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$p, create_fragment$p, safe_not_equal, { text: 0 });
  }
}
function create_fragment$o(ctx) {
  let blockquote;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      blockquote = element("blockquote");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, blockquote, anchor);
      if (default_slot) {
        default_slot.m(blockquote, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(blockquote);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$o($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Blockquote extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$o, create_fragment$o, safe_not_equal, {});
  }
}
function create_fragment$n(ctx) {
  let pre;
  let code;
  let t;
  return {
    c() {
      pre = element("pre");
      code = element("code");
      t = text(
        /*text*/
        ctx[1]
      );
      attr(
        pre,
        "class",
        /*lang*/
        ctx[0]
      );
    },
    m(target, anchor) {
      insert(target, pre, anchor);
      append(pre, code);
      append(code, t);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*text*/
      2)
        set_data(
          t,
          /*text*/
          ctx2[1]
        );
      if (dirty & /*lang*/
      1) {
        attr(
          pre,
          "class",
          /*lang*/
          ctx2[0]
        );
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(pre);
    }
  };
}
function instance$n($$self, $$props, $$invalidate) {
  let { lang } = $$props;
  let { text: text2 } = $$props;
  $$self.$$set = ($$props2) => {
    if ("lang" in $$props2)
      $$invalidate(0, lang = $$props2.lang);
    if ("text" in $$props2)
      $$invalidate(1, text2 = $$props2.text);
  };
  return [lang, text2];
}
class Code extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$n, create_fragment$n, safe_not_equal, { lang: 0, text: 1 });
  }
}
function create_fragment$m(ctx) {
  let br;
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[1].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[0],
    null
  );
  return {
    c() {
      br = element("br");
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      insert(target, br, anchor);
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        1)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[0],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[0]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[0],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(br);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance$m($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(0, $$scope = $$props2.$$scope);
  };
  return [$$scope, slots];
}
class Br extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$m, create_fragment$m, safe_not_equal, {});
  }
}
const defaultRenderers = {
  heading: Heading,
  paragraph: Paragraph,
  text: Text,
  image: Image$1,
  link: Link,
  em: Em,
  strong: Strong,
  codespan: Codespan,
  del: Del,
  table: Table,
  tablehead: TableHead,
  tablebody: TableBody,
  tablerow: TableRow,
  tablecell: TableCell,
  list: List,
  orderedlistitem: null,
  unorderedlistitem: null,
  listitem: ListItem,
  hr: Hr,
  html: Html,
  blockquote: Blockquote,
  code: Code,
  br: Br
};
const defaultOptions = {
  baseUrl: null,
  breaks: false,
  gfm: true,
  headerIds: true,
  headerPrefix: "",
  highlight: null,
  langPrefix: "language-",
  mangle: true,
  pedantic: false,
  renderer: null,
  sanitize: false,
  sanitizer: null,
  silent: false,
  smartLists: false,
  smartypants: false,
  tokenizer: null,
  xhtml: false
};
function create_fragment$l(ctx) {
  let parser;
  let current;
  parser = new Parser$1({
    props: {
      tokens: (
        /*tokens*/
        ctx[0]
      ),
      renderers: (
        /*combinedRenderers*/
        ctx[1]
      )
    }
  });
  return {
    c() {
      create_component(parser.$$.fragment);
    },
    m(target, anchor) {
      mount_component(parser, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const parser_changes = {};
      if (dirty & /*tokens*/
      1)
        parser_changes.tokens = /*tokens*/
        ctx2[0];
      if (dirty & /*combinedRenderers*/
      2)
        parser_changes.renderers = /*combinedRenderers*/
        ctx2[1];
      parser.$set(parser_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(parser.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(parser.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(parser, detaching);
    }
  };
}
function instance$l($$self, $$props, $$invalidate) {
  let preprocessed;
  let slugger;
  let combinedOptions;
  let combinedRenderers;
  let { source = [] } = $$props;
  let { renderers = {} } = $$props;
  let { options = {} } = $$props;
  let { isInline = false } = $$props;
  const dispatch2 = createEventDispatcher();
  let tokens;
  let lexer;
  let mounted;
  setContext(key, {
    slug: (val) => slugger ? slugger.slug(val) : "",
    getOptions: () => combinedOptions
  });
  onMount(() => {
    $$invalidate(7, mounted = true);
  });
  $$self.$$set = ($$props2) => {
    if ("source" in $$props2)
      $$invalidate(2, source = $$props2.source);
    if ("renderers" in $$props2)
      $$invalidate(3, renderers = $$props2.renderers);
    if ("options" in $$props2)
      $$invalidate(4, options = $$props2.options);
    if ("isInline" in $$props2)
      $$invalidate(5, isInline = $$props2.isInline);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*source*/
    4) {
      $$invalidate(8, preprocessed = Array.isArray(source));
    }
    if ($$self.$$.dirty & /*source*/
    4) {
      slugger = source ? new Slugger() : void 0;
    }
    if ($$self.$$.dirty & /*options*/
    16) {
      $$invalidate(9, combinedOptions = { ...defaultOptions, ...options });
    }
    if ($$self.$$.dirty & /*preprocessed, source, combinedOptions, isInline, lexer, tokens*/
    869) {
      if (preprocessed) {
        $$invalidate(0, tokens = source);
      } else {
        $$invalidate(6, lexer = new Lexer(combinedOptions));
        $$invalidate(0, tokens = isInline ? lexer.inlineTokens(source) : lexer.lex(source));
        dispatch2("parsed", { tokens });
      }
    }
    if ($$self.$$.dirty & /*renderers*/
    8) {
      $$invalidate(1, combinedRenderers = { ...defaultRenderers, ...renderers });
    }
    if ($$self.$$.dirty & /*mounted, preprocessed, tokens*/
    385) {
      mounted && !preprocessed && dispatch2("parsed", { tokens });
    }
  };
  return [
    tokens,
    combinedRenderers,
    source,
    renderers,
    options,
    isInline,
    lexer,
    mounted,
    preprocessed,
    combinedOptions
  ];
}
class SvelteMarkdown extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$l, create_fragment$l, safe_not_equal, {
      source: 2,
      renderers: 3,
      options: 4,
      isInline: 5
    });
  }
}
function create_fragment$k(ctx) {
  let a;
  let current;
  let mounted;
  let dispose;
  const default_slot_template = (
    /*#slots*/
    ctx[4].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      a = element("a");
      if (default_slot)
        default_slot.c();
      attr(
        a,
        "href",
        /*href*/
        ctx[0]
      );
      attr(
        a,
        "title",
        /*title*/
        ctx[1]
      );
    },
    m(target, anchor) {
      insert(target, a, anchor);
      if (default_slot) {
        default_slot.m(a, null);
      }
      current = true;
      if (!mounted) {
        dispose = listen(
          a,
          "click",
          /*clickLink*/
          ctx[2]
        );
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (!current || dirty & /*href*/
      1) {
        attr(
          a,
          "href",
          /*href*/
          ctx2[0]
        );
      }
      if (!current || dirty & /*title*/
      2) {
        attr(
          a,
          "title",
          /*title*/
          ctx2[1]
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(a);
      if (default_slot)
        default_slot.d(detaching);
      mounted = false;
      dispose();
    }
  };
}
function instance$k($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { href = "" } = $$props;
  let { title = void 0 } = $$props;
  let changePage = getContext("markdownManager").changePage;
  let clickLink = (event) => {
    let success = changePage(href);
    if (success)
      event.preventDefault();
  };
  $$self.$$set = ($$props2) => {
    if ("href" in $$props2)
      $$invalidate(0, href = $$props2.href);
    if ("title" in $$props2)
      $$invalidate(1, title = $$props2.title);
    if ("$$scope" in $$props2)
      $$invalidate(3, $$scope = $$props2.$$scope);
  };
  return [href, title, clickLink, $$scope, slots];
}
class MarkdownLink extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$k, create_fragment$k, safe_not_equal, { href: 0, title: 1 });
  }
}
const reference = "\r\n# Code Reference\r\n\r\n## Collisions\r\n\r\nCollisions are when things hit each other.\r\n\r\n[Learn more about collisions](collisions)\r\n\r\n## drawing\r\n\r\n## text display\r\n\r\n";
const collisions = "\r\n# Collisions\r\n\r\n[go back to reference](reference)\r\n\r\n---\r\n\r\n## `place_meeting(self, x, y, sprite)`\r\n\r\nChecks if an instance would collide with another instance ('meets it') at a specific position.\r\n\r\n`self`:\r\nInstance to check collision for.\r\n\r\n`x`, `y`:\r\nPosition at which to check for collision.\r\n\r\n`sprite`:\r\nSprite(s) to consider. Can be a sprite, or `all` to include all sprites. \r\n\r\n*returns*: Instance(s) we would collide with. Otherwise `null`.\r\n\r\n### Examples\r\n\r\n```\r\n// self-destruct when hitting a wall\r\nif(place_meeting(this, this.x, this.y, wall)) {\r\n    destroy(this);\r\n}\r\n\r\n// move right, but only if there is no other instance there\r\nif(! place_meeting(this, this.x + 10, this.y, all)) {\r\n    x += 10;\r\n}\r\n\r\n// deal contact damage\r\nlet target = place_meeting(this, this.x, this.y, player);\r\nif(target) {\r\n    target.hp -= 5;\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n## `move_towards(self, x, y, sprite)`\r\n\r\nMoves an instance to a position, while respecting collisions along the path. If there is a collision along the path the instance \r\nwill stop half-way.\r\n\r\n`self`:\r\nInstance to move.\r\n\r\n`x`, `y`:\r\nPosition to move to.\r\n\r\n`sprite`:\r\nSprite(s) to consider. Can be a sprite, or `all` to include all sprites.\r\n\r\n*returns*: The first instance that we meet along the way in case of a collision, otherwise null.\r\n\r\n### Examples\r\n\r\n```\r\n// moves 5 pixels to the top-right, \r\n// but will stop at a wall along the way\r\nmove_towards(this, this.x + 5, this.y - 5, wall)\r\n\r\n// will snap to the mouse (instantly), but only if the path is clear, \r\n// otherwise it will stop at the first wall on the way there.\r\n// (Think of a 'hitscan' weapon in a 2D platformer-shooter)\r\nlet collidedInstance = move_towards(this, mouseX, mouseY, wall);\r\nif(collidedInstance) {\r\n    destroy(collidedInstance); // destroy the wall that was hit\r\n}\r\n```\r\n\r\n---";
const quickref = "## how do I code???? ##\r\n\r\nYou go to a sprite. Then click script > add behaviour > custom code.\r\n\r\nOpen the newly created behaviour and start writing code (JavaScript).\r\n\r\n## quick reference of functions & props for scripting\r\n\r\nYour sprite has some built-in variables you can just access:\r\n\r\n- `x`, `y`,\r\n- `spriteID`,\r\n- `imgScaleX`, `imgScaleY`,\r\n- `imgAlpha`,\r\n- `imgColor`\r\n- `me`\r\n\r\nTo get a reference to the sprite instance (the thing placed in the room) use `me`.\r\n\r\nTo get a reference to a different thing in the room, you can use a function like `find(...)`, `findAll(...)`, `findClosest(...)` or `instancesAt(...)`.\r\n\r\n\r\n```\r\nlet b = find(ball); // ball is the name of a sprite\r\nb.x = 100;\r\n\r\nfor(let other of instancesAt(me, wall, x, y)) {\r\n    destroy(other);\r\n}\r\n```\r\n\r\nWhen a function requires a `string (uuid)` just pass the name of the sprite like `player`, this is a global variable containing the id of the sprite.\r\n\r\nWhen a function requires a `SpriteInstance` this is a specific instance of a sprite in the room, like mentioned above.\r\n\r\nBelow there is a list of all global functions and properties, which are hopefully mostly self-explanatory:\r\n\r\nIn the future there will be documentation for every function, but not right now, sorry!\r\n\r\n- `roomWidth : number`\r\n- `roomHeight : number`\r\n- `mouseX : number`\r\n- `mouseY : number`\r\n- `all : string (uuid)`\r\n- `noone : string (uuid)`\r\n- `currentRoom : string (uuid)`\r\n- `overlayText: string`\r\n- `spawn(sprite: string, x: number, y: number) : SpriteInstance`\r\n- `destroy(instance: SpriteInstance) : boolean`\r\n- `find(sprite: string) : SpriteInstance`\r\n- `findClosest(sprite: string, x: number, y: number) : SpriteInstance`\r\n- `findAll(sprite: string) : SpriteInstance[]`\r\n- `setDepth(self: SpriteInstance, depth: number)`\r\n- `goToNextRoom()`\r\n- `goToPreviousRoom()`\r\n- `moveRooms(difference: number)`\r\n- `nameOf(uuid: string) : string`\r\n- `keyIsDown(...codes: string[]) : boolean`\r\n- `keyIsPressed(...codes: string[]) : boolean`\r\n- `keyIsReleased(...codes: string[]) : boolean`\r\n- `collisionAt(instance: SpriteInstance, spriteID: string, x: number, y: number) : boolean`\r\n- `instancesAt(instance: SpriteInstance, spriteID: string, x: number, y: number) : SpriteInstance[]`\r\n- `lerp(a: number, b: number, factor: number) : number`\r\n- `approach(a: number, b: number, speed: number) : number`\r\n- `distance(x1: number, y1: number, x2: number, y2: number) : number`\r\n- `colorRGBA(r: number, g: number, b: number, a?: number) : Color`\r\n- `colorHSVA(h: number, s: number, v: number, a?: number) : Color`\r\n- `persist(instance: SpriteInstance, level: number = 1)`\r\n- `tag(instance: SpriteInstance, tagName: string)`\r\n- `untag(instance: SpriteInstance, tagName: string)`\r\n- `drandom() : number`\r\n- `drandomSetSeed(seed: string)`\r\n- `getCanvas2DContext() : CanvasRenderingContext2D`\r\n- `openRemixMenu()`\r\n- `playSound(soundID: string, gain: number = 1.0)`\r\n\r\n## other stuff\r\n\r\n[read disclaimer](disclaimer)";
const disclaimer = '## Disclaimer & Hello\r\n\r\nHi! You are currently looking at "Trash Engine"!\r\n\r\nThis engine is in alpha. It comes without any warranty, contains bugs, and is generally rough around the edges.\r\n\r\nThis version of the engine is v.0.0.1, and was published Dec 15, 2022.\r\n\r\nFeel free to send bugs and feedback to me on [Itch](https://nikigawlik.itch.io/) or [Mastodon](https://peoplemaking.games/@niki).\r\n\r\nSome things to consider using this engine:\r\n\r\n - you can save&load different versions of this game using the save and load buttons\r\n - (these are stored in your browser, specifically your indexed db storage)\r\n - you can return to the original game, by deleting all save data in the settings menu\r\n - alternatively you can create a save right now, to have a copy of the original state!\r\n - you can (and should) keep backups of the data using the export button\r\n - be careful with big images! The engine was tested on sprites in the 60-120 pixel range, very high-res images might break the engine.\r\n\r\nHave fun! :) -Niki\r\n\r\n## Licensing / legal stuff\r\n\r\nThis version of Trash Engine is licensed under MIT license.\r\n\r\nCheck the settings menu and the contents of the html file for any additional license information, or ask the author!\r\n\r\nYou can add your own license info in the setting menu.\r\n\r\n[< back to reference](quickref)';
const Reference_svelte_svelte_type_style_lang = "";
function create_default_slot$b(ctx) {
  let div;
  let section;
  let sveltemarkdown;
  let current;
  sveltemarkdown = new SvelteMarkdown({
    props: {
      source: (
        /*source*/
        ctx[1]
      ),
      renderers: { link: MarkdownLink }
    }
  });
  return {
    c() {
      div = element("div");
      section = element("section");
      create_component(sveltemarkdown.$$.fragment);
      attr(section, "class", "document svelte-6et4o5");
      attr(div, "class", "scroll svelte-6et4o5");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, section);
      mount_component(sveltemarkdown, section, null);
      current = true;
    },
    p(ctx2, dirty) {
      const sveltemarkdown_changes = {};
      if (dirty & /*source*/
      2)
        sveltemarkdown_changes.source = /*source*/
        ctx2[1];
      sveltemarkdown.$set(sveltemarkdown_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(sveltemarkdown.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(sveltemarkdown.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(sveltemarkdown);
    }
  };
}
function create_fragment$j(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      card: (
        /*card*/
        ctx[0]
      ),
      autoFocus: false,
      $$slots: { default: [create_default_slot$b] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, source*/
      34) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$j($$self, $$props, $$invalidate) {
  var _a;
  let { card } = $$props;
  const markdownFiles = {
    reference,
    collisions,
    quickref,
    disclaimer
  };
  let pageName = ((_a = card.data) === null || _a === void 0 ? void 0 : _a.pageName) || null;
  let source = pageName && markdownFiles[pageName] ? markdownFiles[pageName] : quickref;
  setContext("markdownManager", {
    changePage: (route) => {
      const src = markdownFiles[route];
      if (src != void 0) {
        $$invalidate(1, source = src);
        return true;
      } else {
        return false;
      }
    }
  });
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$invalidate(0, card.name = "reference", card);
  $$invalidate(0, card.position.width = 600, card);
  return [card, source];
}
class Reference extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$j, create_fragment$j, safe_not_equal, { card: 0 });
  }
}
const GetTextPopUp_svelte_svelte_type_style_lang = "";
function create_else_block$3(ctx) {
  let p;
  let input;
  let mounted;
  let dispose;
  return {
    c() {
      p = element("p");
      input = element("input");
      attr(input, "type", "text");
    },
    m(target, anchor) {
      insert(target, p, anchor);
      append(p, input);
      set_input_value(
        input,
        /*text*/
        ctx[1]
      );
      ctx[8](input);
      if (!mounted) {
        dispose = [
          listen(
            input,
            "input",
            /*input_input_handler*/
            ctx[7]
          ),
          listen(
            input,
            "keyup",
            /*onkeyup*/
            ctx[4]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*text*/
      2 && input.value !== /*text*/
      ctx2[1]) {
        set_input_value(
          input,
          /*text*/
          ctx2[1]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(p);
      ctx[8](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_if_block$8(ctx) {
  let p;
  let textarea;
  let mounted;
  let dispose;
  return {
    c() {
      p = element("p");
      textarea = element("textarea");
      attr(textarea, "cols", 40);
      attr(textarea, "class", "svelte-16ektjy");
    },
    m(target, anchor) {
      insert(target, p, anchor);
      append(p, textarea);
      set_input_value(
        textarea,
        /*text*/
        ctx[1]
      );
      ctx[6](textarea);
      if (!mounted) {
        dispose = [
          listen(
            textarea,
            "input",
            /*textarea_input_handler*/
            ctx[5]
          ),
          listen(
            textarea,
            "keyup",
            /*onkeyup*/
            ctx[4]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*text*/
      2) {
        set_input_value(
          textarea,
          /*text*/
          ctx2[1]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(p);
      ctx[6](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_default_slot$a(ctx) {
  let if_block_anchor;
  function select_block_type(ctx2, dirty) {
    if (
      /*isBig*/
      ctx2[3]
    )
      return create_if_block$8;
    return create_else_block$3;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {
        if_block.p(ctx2, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx2);
        if (if_block) {
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      }
    },
    d(detaching) {
      if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_fragment$i(ctx) {
  let blockingpopup;
  let updating_prompt;
  let current;
  function blockingpopup_prompt_binding(value) {
    ctx[9](value);
  }
  let blockingpopup_props = {
    $$slots: { default: [create_default_slot$a] },
    $$scope: { ctx }
  };
  if (
    /*prompt*/
    ctx[0] !== void 0
  ) {
    blockingpopup_props.prompt = /*prompt*/
    ctx[0];
  }
  blockingpopup = new BlockingPopUp({ props: blockingpopup_props });
  binding_callbacks.push(() => bind(blockingpopup, "prompt", blockingpopup_prompt_binding));
  return {
    c() {
      create_component(blockingpopup.$$.fragment);
    },
    m(target, anchor) {
      mount_component(blockingpopup, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const blockingpopup_changes = {};
      if (dirty & /*$$scope, text, inputElmt, isBig*/
      1038) {
        blockingpopup_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (!updating_prompt && dirty & /*prompt*/
      1) {
        updating_prompt = true;
        blockingpopup_changes.prompt = /*prompt*/
        ctx2[0];
        add_flush_callback(() => updating_prompt = false);
      }
      blockingpopup.$set(blockingpopup_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(blockingpopup.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(blockingpopup.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(blockingpopup, detaching);
    }
  };
}
function instance$i($$self, $$props, $$invalidate) {
  let isBig;
  let { prompt } = $$props;
  let text2 = (prompt === null || prompt === void 0 ? void 0 : prompt.data) || "";
  let inputElmt;
  onMount(() => {
    inputElmt.focus();
    inputElmt.select();
  });
  let onkeyup = (event) => {
    if (event.key == "Enter") {
      prompt === null || prompt === void 0 ? void 0 : prompt.resolve(text2);
      $$invalidate(0, prompt = null);
    }
  };
  function textarea_input_handler() {
    text2 = this.value;
    $$invalidate(1, text2);
  }
  function textarea_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      inputElmt = $$value;
      $$invalidate(2, inputElmt);
    });
  }
  function input_input_handler() {
    text2 = this.value;
    $$invalidate(1, text2);
  }
  function input_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      inputElmt = $$value;
      $$invalidate(2, inputElmt);
    });
  }
  function blockingpopup_prompt_binding(value) {
    prompt = value;
    $$invalidate(0, prompt), $$invalidate(1, text2);
  }
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*prompt, text*/
    3) {
      if (prompt)
        $$invalidate(
          0,
          prompt.buttons = [
            {
              text: "ok",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(text2)
            },
            {
              text: "cancel",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(null)
            }
          ],
          prompt
        );
    }
    if ($$self.$$.dirty & /*text*/
    2) {
      $$invalidate(3, isBig = text2.includes("\n"));
    }
  };
  return [
    prompt,
    text2,
    inputElmt,
    isBig,
    onkeyup,
    textarea_input_handler,
    textarea_binding,
    input_input_handler,
    input_binding,
    blockingpopup_prompt_binding
  ];
}
class GetTextPopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$i, create_fragment$i, safe_not_equal, { prompt: 0 });
  }
}
console.log("ui module loading");
let blockingPopup = writable(null);
let asyncYesNoPopup = async (question, defaultNo = true) => {
  return await new Promise((resolve) => {
    blockingPopup.set({
      componentType: BlockingPopUp,
      text: question,
      data: null,
      buttons: [
        { text: "yes", callback: () => resolve(true), default: !defaultNo },
        { text: "no", callback: () => resolve(false), default: defaultNo }
      ],
      resolve
    });
  });
};
let asyncInfoPopup = async (text2) => {
  return await new Promise((resolve) => {
    blockingPopup.set({
      componentType: BlockingPopUp,
      text: text2,
      data: null,
      buttons: [
        { text: "ok", callback: () => resolve(true), default: true }
      ],
      resolve
    });
  });
};
let asyncGetTextPopup = async (question, defaultText) => {
  return await new Promise((resolve) => {
    blockingPopup.set({
      componentType: GetTextPopUp,
      text: question,
      buttons: [],
      data: defaultText,
      resolve
    });
  });
};
const BehaviourEditor_svelte_svelte_type_style_lang = "";
function create_if_block_1$3(ctx) {
  let p;
  return {
    c() {
      p = element("p");
      p.textContent = "(this behaviour/script needs to be added to a sprite to run)";
      attr(p, "class", "svelte-1bo7i89");
    },
    m(target, anchor) {
      insert(target, p, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(p);
    }
  };
}
function create_if_block$7(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*$behaviour*/
    ctx[2].svelteComponent
  );
  function switch_props(ctx2) {
    return {
      props: { behaviour: (
        /*$behaviour*/
        ctx2[2]
      ) }
    };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty & /*$behaviour*/
      4)
        switch_instance_changes.behaviour = /*$behaviour*/
        ctx2[2];
      if (dirty & /*$behaviour*/
      4 && switch_value !== (switch_value = /*$behaviour*/
      ctx2[2].svelteComponent)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_default_slot$9(ctx) {
  let t;
  let if_block1_anchor;
  let current;
  let if_block0 = (
    /*isIndependent*/
    ctx[4] && create_if_block_1$3()
  );
  let if_block1 = (
    /*$behaviour*/
    ctx[2] && create_if_block$7(ctx)
  );
  return {
    c() {
      if (if_block0)
        if_block0.c();
      t = space();
      if (if_block1)
        if_block1.c();
      if_block1_anchor = empty();
    },
    m(target, anchor) {
      if (if_block0)
        if_block0.m(target, anchor);
      insert(target, t, anchor);
      if (if_block1)
        if_block1.m(target, anchor);
      insert(target, if_block1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (
        /*$behaviour*/
        ctx2[2]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
          if (dirty & /*$behaviour*/
          4) {
            transition_in(if_block1, 1);
          }
        } else {
          if_block1 = create_if_block$7(ctx2);
          if_block1.c();
          transition_in(if_block1, 1);
          if_block1.m(if_block1_anchor.parentNode, if_block1_anchor);
        }
      } else if (if_block1) {
        group_outros();
        transition_out(if_block1, 1, 1, () => {
          if_block1 = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block1);
      current = true;
    },
    o(local) {
      transition_out(if_block1);
      current = false;
    },
    d(detaching) {
      if (if_block0)
        if_block0.d(detaching);
      if (detaching)
        detach(t);
      if (if_block1)
        if_block1.d(detaching);
      if (detaching)
        detach(if_block1_anchor);
    }
  };
}
function create_fragment$h(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      autoFocus: true,
      contentMinWidth: 240,
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$9] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, $behaviour*/
      260) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$h($$self, $$props, $$invalidate) {
  let $behaviour, $$unsubscribe_behaviour = noop, $$subscribe_behaviour = () => ($$unsubscribe_behaviour(), $$unsubscribe_behaviour = subscribe$3(behaviour, ($$value) => $$invalidate(2, $behaviour = $$value)), behaviour);
  let $sprite, $$unsubscribe_sprite = noop, $$subscribe_sprite = () => ($$unsubscribe_sprite(), $$unsubscribe_sprite = subscribe$3(sprite, ($$value) => $$invalidate(5, $sprite = $$value)), sprite);
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(6, $resourceManager = $$value));
  $$self.$$.on_destroy.push(() => $$unsubscribe_behaviour());
  $$self.$$.on_destroy.push(() => $$unsubscribe_sprite());
  let { card } = $$props;
  let uuid = card.uuid;
  console.log(`open behaviour ${card.uuid}`);
  let behaviour;
  let sprite = null;
  $$subscribe_sprite();
  const isIndependent = !card.uuid.includes("/");
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$resourceManager, sprite*/
    66) {
      {
        if (isIndependent) {
          $$subscribe_behaviour($$invalidate(3, behaviour = $resourceManager.getResourceStore(uuid)));
        } else {
          let [spriteUUID, behaviourUUID] = uuid.split("/");
          $$subscribe_sprite($$invalidate(1, sprite = $resourceManager.getResourceStore(spriteUUID)));
          $$subscribe_behaviour($$invalidate(3, behaviour = derived(sprite, ($sprite2) => $sprite2.behaviours.find((x) => x.uuid == behaviourUUID))));
        }
      }
    }
    if ($$self.$$.dirty & /*$behaviour, $sprite*/
    36) {
      {
        $$invalidate(
          0,
          card.name = isIndependent ? `script / ${$behaviour === null || $behaviour === void 0 ? void 0 : $behaviour.name}` : `${$sprite === null || $sprite === void 0 ? void 0 : $sprite.name} / ${$behaviour === null || $behaviour === void 0 ? void 0 : $behaviour.name}`,
          card
        );
      }
    }
    if ($$self.$$.dirty & /*$behaviour*/
    4) {
      {
        console.log($behaviour);
      }
    }
  };
  $$invalidate(0, card.className = "behaviour-editor", card);
  $$invalidate(0, card.position.width = 450, card);
  return [card, sprite, $behaviour, behaviour, isIndependent, $sprite, $resourceManager];
}
class BehaviourEditor extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$h, create_fragment$h, safe_not_equal, { card: 0 });
  }
}
function create_fragment$g(ctx) {
  let canvas;
  return {
    c() {
      canvas = element("canvas");
      attr(
        canvas,
        "width",
        /*width*/
        ctx[2]
      );
      attr(
        canvas,
        "height",
        /*height*/
        ctx[1]
      );
      set_style(
        canvas,
        "width",
        /*growToFit*/
        ctx[0] ? (
          /*width*/
          ctx[2] > /*height*/
          ctx[1] ? "100%" : null
        ) : (
          /*adjWidth*/
          ctx[5]
        )
      );
      set_style(
        canvas,
        "height",
        /*growToFit*/
        ctx[0] ? (
          /*height*/
          ctx[1] >= /*width*/
          ctx[2] ? "100%" : null
        ) : (
          /*adjHeight*/
          ctx[4]
        )
      );
    },
    m(target, anchor) {
      insert(target, canvas, anchor);
      ctx[11](canvas);
    },
    p(ctx2, [dirty]) {
      if (dirty & /*width*/
      4) {
        attr(
          canvas,
          "width",
          /*width*/
          ctx2[2]
        );
      }
      if (dirty & /*height*/
      2) {
        attr(
          canvas,
          "height",
          /*height*/
          ctx2[1]
        );
      }
      if (dirty & /*growToFit, width, height, adjWidth*/
      39) {
        set_style(
          canvas,
          "width",
          /*growToFit*/
          ctx2[0] ? (
            /*width*/
            ctx2[2] > /*height*/
            ctx2[1] ? "100%" : null
          ) : (
            /*adjWidth*/
            ctx2[5]
          )
        );
      }
      if (dirty & /*growToFit, height, width, adjHeight*/
      23) {
        set_style(
          canvas,
          "height",
          /*growToFit*/
          ctx2[0] ? (
            /*height*/
            ctx2[1] >= /*width*/
            ctx2[2] ? "100%" : null
          ) : (
            /*adjHeight*/
            ctx2[4]
          )
        );
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(canvas);
      ctx[11](null);
    }
  };
}
function instance$g($$self, $$props, $$invalidate) {
  let width;
  let height;
  let adjWidth;
  let adjHeight;
  let $s_sprite;
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(12, $resourceManager = $$value));
  var _a, _b;
  let { spriteID } = $$props;
  let { growToFit = true } = $$props;
  let myCanvas;
  let s_sprite = $resourceManager.getResourceStore(spriteID);
  component_subscribe($$self, s_sprite, (value) => $$invalidate(10, $s_sprite = value));
  function redraw() {
    if (myCanvas && $s_sprite.canvas) {
      $$invalidate(3, myCanvas.width = $s_sprite.canvas.width, myCanvas);
      $$invalidate(3, myCanvas.height = $s_sprite.canvas.height, myCanvas);
      let ctx = myCanvas.getContext("2d");
      ctx.clearRect(0, 0, width, height);
      ctx.drawImage($s_sprite.canvas, 0, 0);
    }
  }
  onMount(() => redraw());
  function canvas_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      myCanvas = $$value;
      $$invalidate(3, myCanvas);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("spriteID" in $$props2)
      $$invalidate(7, spriteID = $$props2.spriteID);
    if ("growToFit" in $$props2)
      $$invalidate(0, growToFit = $$props2.growToFit);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$s_sprite, _a*/
    1280) {
      $$invalidate(2, width = ($$invalidate(8, _a = $s_sprite.canvas) === null || _a === void 0 ? void 0 : _a.width) || 1);
    }
    if ($$self.$$.dirty & /*$s_sprite, _b*/
    1536) {
      $$invalidate(1, height = ($$invalidate(9, _b = $s_sprite.canvas) === null || _b === void 0 ? void 0 : _b.height) || 1);
    }
    if ($$self.$$.dirty & /*$s_sprite*/
    1024) {
      {
        redraw();
      }
    }
    if ($$self.$$.dirty & /*width*/
    4) {
      $$invalidate(5, adjWidth = adjustedCanvasSize(width));
    }
    if ($$self.$$.dirty & /*height*/
    2) {
      $$invalidate(4, adjHeight = adjustedCanvasSize(height));
    }
  };
  return [
    growToFit,
    height,
    width,
    myCanvas,
    adjHeight,
    adjWidth,
    s_sprite,
    spriteID,
    _a,
    _b,
    $s_sprite,
    canvas_binding
  ];
}
class SpriteIcon extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$g, create_fragment$g, safe_not_equal, { spriteID: 7, growToFit: 0 });
  }
}
const RoomEditor_svelte_svelte_type_style_lang = "";
function get_each_context$8(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[37] = list[i];
  return child_ctx;
}
function create_if_block_1$2(ctx) {
  let div;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let div_transition;
  let current;
  let each_value = (
    /*sprites*/
    ctx[4]
  );
  const get_key = (ctx2) => (
    /*spr*/
    ctx2[37].uuid
  );
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context$8(ctx, each_value, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block$8(key2, child_ctx));
  }
  return {
    c() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(div, "class", "sprite-select scroll-box svelte-19uhbwd");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty[0] & /*sprites, currentSprite*/
      80) {
        each_value = /*sprites*/
        ctx2[4];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each_1_lookup, div, outro_and_destroy_block, create_each_block$8, null, get_each_context$8);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      if (local) {
        add_render_callback(() => {
          if (!current)
            return;
          if (!div_transition)
            div_transition = create_bidirectional_transition(div, shrink, { delay: 0, duration: 100 }, true);
          div_transition.run(1);
        });
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      if (local) {
        if (!div_transition)
          div_transition = create_bidirectional_transition(div, shrink, { delay: 0, duration: 100 }, false);
        div_transition.run(0);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
      if (detaching && div_transition)
        div_transition.end();
    }
  };
}
function create_each_block$8(key_1, ctx) {
  let button;
  let h4;
  let t0_value = (
    /*spr*/
    ctx[37].name + ""
  );
  let t0;
  let t1;
  let div;
  let spriteicon;
  let t2;
  let button_data_uuid_value;
  let button_data_selected_value;
  let current;
  let mounted;
  let dispose;
  spriteicon = new SpriteIcon({
    props: {
      spriteID: (
        /*spr*/
        ctx[37].uuid
      ),
      growToFit: true
    }
  });
  function click_handler_1() {
    return (
      /*click_handler_1*/
      ctx[18](
        /*spr*/
        ctx[37]
      )
    );
  }
  return {
    key: key_1,
    first: null,
    c() {
      button = element("button");
      h4 = element("h4");
      t0 = text(t0_value);
      t1 = space();
      div = element("div");
      create_component(spriteicon.$$.fragment);
      t2 = space();
      attr(h4, "class", "svelte-19uhbwd");
      attr(div, "class", "icon svelte-19uhbwd");
      attr(button, "data-uuid", button_data_uuid_value = /*spr*/
      ctx[37].uuid);
      attr(button, "data-selected", button_data_selected_value = /*currentSprite*/
      ctx[6] == /*spr*/
      ctx[37]);
      attr(button, "class", "svelte-19uhbwd");
      this.first = button;
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, h4);
      append(h4, t0);
      append(button, t1);
      append(button, div);
      mount_component(spriteicon, div, null);
      append(button, t2);
      current = true;
      if (!mounted) {
        dispose = listen(button, "click", click_handler_1);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if ((!current || dirty[0] & /*sprites*/
      16) && t0_value !== (t0_value = /*spr*/
      ctx[37].name + ""))
        set_data(t0, t0_value);
      const spriteicon_changes = {};
      if (dirty[0] & /*sprites*/
      16)
        spriteicon_changes.spriteID = /*spr*/
        ctx[37].uuid;
      spriteicon.$set(spriteicon_changes);
      if (!current || dirty[0] & /*sprites*/
      16 && button_data_uuid_value !== (button_data_uuid_value = /*spr*/
      ctx[37].uuid)) {
        attr(button, "data-uuid", button_data_uuid_value);
      }
      if (!current || dirty[0] & /*currentSprite, sprites*/
      80 && button_data_selected_value !== (button_data_selected_value = /*currentSprite*/
      ctx[6] == /*spr*/
      ctx[37])) {
        attr(button, "data-selected", button_data_selected_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(spriteicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(spriteicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(button);
      destroy_component(spriteicon);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block$6(ctx) {
  let div;
  let label0;
  let input0;
  let t0;
  let t1;
  let label1;
  let t3;
  let input1;
  let t4;
  let label2;
  let t6;
  let input2;
  let t7;
  let span0;
  let t8;
  let label3;
  let t10;
  let label4;
  let input3;
  let t11;
  let t12;
  let label5;
  let input4;
  let t13;
  let t14;
  let span1;
  let t15;
  let label6;
  let t16;
  let input5;
  let t17;
  let label7;
  let t18;
  let input6;
  let t19;
  let label8;
  let t20;
  let input7;
  let div_transition;
  let current;
  let binding_group;
  let mounted;
  let dispose;
  binding_group = init_binding_group(
    /*$$binding_groups*/
    ctx[24][0]
  );
  return {
    c() {
      div = element("div");
      label0 = element("label");
      input0 = element("input");
      t0 = text(" grid");
      t1 = space();
      label1 = element("label");
      label1.textContent = "width";
      t3 = space();
      input1 = element("input");
      t4 = text("\r\n                x\r\n                ");
      label2 = element("label");
      label2.textContent = "height";
      t6 = space();
      input2 = element("input");
      t7 = space();
      span0 = element("span");
      t8 = space();
      label3 = element("label");
      label3.textContent = "snap";
      t10 = space();
      label4 = element("label");
      input3 = element("input");
      t11 = text("  center");
      t12 = space();
      label5 = element("label");
      input4 = element("input");
      t13 = text(" corner");
      t14 = space();
      span1 = element("span");
      t15 = space();
      label6 = element("label");
      t16 = text("bg color ");
      input5 = element("input");
      t17 = space();
      label7 = element("label");
      t18 = text("width ");
      input6 = element("input");
      t19 = space();
      label8 = element("label");
      t20 = text("height ");
      input7 = element("input");
      attr(input0, "type", "checkbox");
      attr(input0, "name", "grid_enabled");
      attr(input0, "class", "svelte-19uhbwd");
      attr(label0, "class", "svelte-19uhbwd");
      attr(label1, "for", "grid_width");
      label1.hidden = true;
      attr(label1, "class", "svelte-19uhbwd");
      attr(input1, "name", "grid_width");
      attr(input1, "type", "number");
      attr(input1, "class", "svelte-19uhbwd");
      attr(label2, "for", "grid_height");
      label2.hidden = true;
      attr(label2, "class", "svelte-19uhbwd");
      attr(input2, "name", "grid_height");
      attr(input2, "type", "number");
      attr(input2, "class", "svelte-19uhbwd");
      attr(span0, "class", "spacer");
      attr(label3, "for", "snap_mode");
      attr(label3, "class", "svelte-19uhbwd");
      attr(input3, "type", "radio");
      input3.__value = "center";
      input3.value = input3.__value;
      input3.checked = true;
      attr(input3, "class", "svelte-19uhbwd");
      attr(label4, "class", "svelte-19uhbwd");
      attr(input4, "type", "radio");
      input4.__value = "corner";
      input4.value = input4.__value;
      attr(input4, "class", "svelte-19uhbwd");
      attr(label5, "class", "svelte-19uhbwd");
      attr(span1, "class", "spacer");
      attr(input5, "type", "color");
      attr(input5, "class", "svelte-19uhbwd");
      attr(label6, "class", "svelte-19uhbwd");
      attr(input6, "type", "number");
      attr(input6, "class", "svelte-19uhbwd");
      attr(label7, "class", "svelte-19uhbwd");
      attr(input7, "type", "number");
      attr(input7, "class", "svelte-19uhbwd");
      attr(label8, "class", "svelte-19uhbwd");
      attr(div, "class", "room-config svelte-19uhbwd");
      binding_group.p(input3, input4);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, label0);
      append(label0, input0);
      input0.checked = /*$roomStore*/
      ctx[3].grid.enabled;
      append(label0, t0);
      append(div, t1);
      append(div, label1);
      append(div, t3);
      append(div, input1);
      set_input_value(
        input1,
        /*$roomStore*/
        ctx[3].grid.width
      );
      append(div, t4);
      append(div, label2);
      append(div, t6);
      append(div, input2);
      set_input_value(
        input2,
        /*$roomStore*/
        ctx[3].grid.height
      );
      append(div, t7);
      append(div, span0);
      append(div, t8);
      append(div, label3);
      append(div, t10);
      append(div, label4);
      append(label4, input3);
      input3.checked = input3.__value === /*$roomStore*/
      ctx[3].grid.snap;
      append(label4, t11);
      append(div, t12);
      append(div, label5);
      append(label5, input4);
      input4.checked = input4.__value === /*$roomStore*/
      ctx[3].grid.snap;
      append(label5, t13);
      append(div, t14);
      append(div, span1);
      append(div, t15);
      append(div, label6);
      append(label6, t16);
      append(label6, input5);
      set_input_value(
        input5,
        /*$roomStore*/
        ctx[3].backgroundColor
      );
      append(div, t17);
      append(div, label7);
      append(label7, t18);
      append(label7, input6);
      set_input_value(
        input6,
        /*$roomStore*/
        ctx[3].width
      );
      append(div, t19);
      append(div, label8);
      append(label8, t20);
      append(label8, input7);
      set_input_value(
        input7,
        /*$roomStore*/
        ctx[3].height
      );
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            input0,
            "change",
            /*input0_change_handler*/
            ctx[20]
          ),
          listen(
            input1,
            "input",
            /*input1_input_handler*/
            ctx[21]
          ),
          listen(
            input2,
            "input",
            /*input2_input_handler*/
            ctx[22]
          ),
          listen(
            input3,
            "change",
            /*input3_change_handler*/
            ctx[23]
          ),
          listen(
            input4,
            "change",
            /*input4_change_handler*/
            ctx[25]
          ),
          listen(
            input5,
            "input",
            /*input5_input_handler*/
            ctx[26]
          ),
          listen(
            input6,
            "input",
            /*input6_input_handler*/
            ctx[27]
          ),
          listen(
            input7,
            "input",
            /*input7_input_handler*/
            ctx[28]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty[0] & /*$roomStore*/
      8) {
        input0.checked = /*$roomStore*/
        ctx2[3].grid.enabled;
      }
      if (dirty[0] & /*$roomStore*/
      8 && to_number(input1.value) !== /*$roomStore*/
      ctx2[3].grid.width) {
        set_input_value(
          input1,
          /*$roomStore*/
          ctx2[3].grid.width
        );
      }
      if (dirty[0] & /*$roomStore*/
      8 && to_number(input2.value) !== /*$roomStore*/
      ctx2[3].grid.height) {
        set_input_value(
          input2,
          /*$roomStore*/
          ctx2[3].grid.height
        );
      }
      if (dirty[0] & /*$roomStore*/
      8) {
        input3.checked = input3.__value === /*$roomStore*/
        ctx2[3].grid.snap;
      }
      if (dirty[0] & /*$roomStore*/
      8) {
        input4.checked = input4.__value === /*$roomStore*/
        ctx2[3].grid.snap;
      }
      if (dirty[0] & /*$roomStore*/
      8) {
        set_input_value(
          input5,
          /*$roomStore*/
          ctx2[3].backgroundColor
        );
      }
      if (dirty[0] & /*$roomStore*/
      8 && to_number(input6.value) !== /*$roomStore*/
      ctx2[3].width) {
        set_input_value(
          input6,
          /*$roomStore*/
          ctx2[3].width
        );
      }
      if (dirty[0] & /*$roomStore*/
      8 && to_number(input7.value) !== /*$roomStore*/
      ctx2[3].height) {
        set_input_value(
          input7,
          /*$roomStore*/
          ctx2[3].height
        );
      }
    },
    i(local) {
      if (current)
        return;
      if (local) {
        add_render_callback(() => {
          if (!current)
            return;
          if (!div_transition)
            div_transition = create_bidirectional_transition(div, shrink, { delay: 0, duration: 100 }, true);
          div_transition.run(1);
        });
      }
      current = true;
    },
    o(local) {
      if (local) {
        if (!div_transition)
          div_transition = create_bidirectional_transition(div, shrink, { delay: 0, duration: 100 }, false);
        div_transition.run(0);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (detaching && div_transition)
        div_transition.end();
      binding_group.r();
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_default_slot$8(ctx) {
  let div4;
  let div0;
  let h40;
  let button0;
  let t1;
  let t2;
  let div1;
  let h41;
  let button1;
  let t4;
  let t5;
  let div3;
  let div2;
  let canvas_1;
  let style_width = `${/*canvasDisplayWidth*/
  ctx[10]}px`;
  let style_height = `${/*canvasDisplayHeight*/
  ctx[9]}px`;
  let current;
  let mounted;
  let dispose;
  let if_block0 = (
    /*spriteOpen*/
    ctx[7] && create_if_block_1$2(ctx)
  );
  let if_block1 = (
    /*configOpen*/
    ctx[8] && create_if_block$6(ctx)
  );
  return {
    c() {
      div4 = element("div");
      div0 = element("div");
      h40 = element("h4");
      button0 = element("button");
      button0.textContent = "sprites";
      t1 = space();
      if (if_block0)
        if_block0.c();
      t2 = space();
      div1 = element("div");
      h41 = element("h4");
      button1 = element("button");
      button1.textContent = "config";
      t4 = space();
      if (if_block1)
        if_block1.c();
      t5 = space();
      div3 = element("div");
      div2 = element("div");
      canvas_1 = element("canvas");
      attr(button0, "class", "svelte-19uhbwd");
      toggle_class(button0, "rotated", !/*spriteOpen*/
      ctx[7]);
      attr(h40, "class", "svelte-19uhbwd");
      attr(div0, "class", "left-rider svelte-19uhbwd");
      attr(button1, "class", "svelte-19uhbwd");
      toggle_class(button1, "rotated", !/*configOpen*/
      ctx[8]);
      attr(h41, "class", "svelte-19uhbwd");
      attr(div1, "class", "room-rider");
      attr(
        canvas_1,
        "width",
        /*canvasWidth*/
        ctx[1]
      );
      attr(
        canvas_1,
        "height",
        /*canvasHeight*/
        ctx[2]
      );
      attr(canvas_1, "class", "room-canvas svelte-19uhbwd");
      set_style(canvas_1, "width", style_width);
      set_style(canvas_1, "height", style_height);
      attr(div2, "class", "canvas-container svelte-19uhbwd");
      attr(div3, "class", "room-edit svelte-19uhbwd");
      attr(div4, "class", "horizontal svelte-19uhbwd");
    },
    m(target, anchor) {
      insert(target, div4, anchor);
      append(div4, div0);
      append(div0, h40);
      append(h40, button0);
      append(div0, t1);
      if (if_block0)
        if_block0.m(div0, null);
      append(div4, t2);
      append(div4, div1);
      append(div1, h41);
      append(h41, button1);
      append(div1, t4);
      if (if_block1)
        if_block1.m(div1, null);
      append(div4, t5);
      append(div4, div3);
      append(div3, div2);
      append(div2, canvas_1);
      ctx[29](canvas_1);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[17]
          ),
          listen(
            button1,
            "click",
            /*click_handler_2*/
            ctx[19]
          ),
          listen(
            canvas_1,
            "mousedown",
            /*canvasMouseDown*/
            ctx[12]
          ),
          listen(
            canvas_1,
            "mousemove",
            /*canvasMouseMove*/
            ctx[13]
          ),
          listen(
            canvas_1,
            "mouseup",
            /*canvasMouseUp*/
            ctx[14]
          ),
          listen(
            canvas_1,
            "mouseleave",
            /*canvasMouseUp*/
            ctx[14]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (!current || dirty[0] & /*spriteOpen*/
      128) {
        toggle_class(button0, "rotated", !/*spriteOpen*/
        ctx2[7]);
      }
      if (
        /*spriteOpen*/
        ctx2[7]
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
          if (dirty[0] & /*spriteOpen*/
          128) {
            transition_in(if_block0, 1);
          }
        } else {
          if_block0 = create_if_block_1$2(ctx2);
          if_block0.c();
          transition_in(if_block0, 1);
          if_block0.m(div0, null);
        }
      } else if (if_block0) {
        group_outros();
        transition_out(if_block0, 1, 1, () => {
          if_block0 = null;
        });
        check_outros();
      }
      if (!current || dirty[0] & /*configOpen*/
      256) {
        toggle_class(button1, "rotated", !/*configOpen*/
        ctx2[8]);
      }
      if (
        /*configOpen*/
        ctx2[8]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
          if (dirty[0] & /*configOpen*/
          256) {
            transition_in(if_block1, 1);
          }
        } else {
          if_block1 = create_if_block$6(ctx2);
          if_block1.c();
          transition_in(if_block1, 1);
          if_block1.m(div1, null);
        }
      } else if (if_block1) {
        group_outros();
        transition_out(if_block1, 1, 1, () => {
          if_block1 = null;
        });
        check_outros();
      }
      if (!current || dirty[0] & /*canvasWidth*/
      2) {
        attr(
          canvas_1,
          "width",
          /*canvasWidth*/
          ctx2[1]
        );
      }
      if (!current || dirty[0] & /*canvasHeight*/
      4) {
        attr(
          canvas_1,
          "height",
          /*canvasHeight*/
          ctx2[2]
        );
      }
      if (dirty[0] & /*canvasDisplayWidth*/
      1024 && style_width !== (style_width = `${/*canvasDisplayWidth*/
      ctx2[10]}px`)) {
        set_style(canvas_1, "width", style_width);
      }
      if (dirty[0] & /*canvasDisplayHeight*/
      512 && style_height !== (style_height = `${/*canvasDisplayHeight*/
      ctx2[9]}px`)) {
        set_style(canvas_1, "height", style_height);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block0);
      transition_in(if_block1);
      current = true;
    },
    o(local) {
      transition_out(if_block0);
      transition_out(if_block1);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div4);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      ctx[29](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$f(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      card: (
        /*card*/
        ctx[0]
      ),
      isMaximized: data.get().editor.settings.openResourcesMaximized,
      $$slots: { default: [create_default_slot$8] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const card_1_changes = {};
      if (dirty[0] & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty[0] & /*canvasWidth, canvasHeight, canvas, canvasDisplayWidth, canvasDisplayHeight, $roomStore, configOpen, sprites, currentSprite, spriteOpen*/
      2046 | dirty[1] & /*$$scope*/
      512) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$f($$self, $$props, $$invalidate) {
  let room;
  let gridWidth;
  let gridHeight;
  let canvasWidth;
  let canvasHeight;
  let canvasDisplayHeight;
  let canvasDisplayWidth;
  let $roomStore;
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(16, $resourceManager = $$value));
  let { card } = $$props;
  const uuid = card.uuid;
  let sprites = [];
  let canvas;
  let currentSprite = sprites[0];
  let roomStore = $resourceManager.getResourceStore(uuid);
  component_subscribe($$self, roomStore, (value) => $$invalidate(3, $roomStore = value));
  afterUpdate(() => {
    refresh();
  });
  function canvasPlacement(evt, isDownEvent) {
    console.log("here");
    if (!room || evt.button != 0)
      return;
    const inputX = evt.offsetX * (canvas.width / canvasDisplayWidth);
    const inputY = evt.offsetY * (canvas.height / canvasDisplayHeight);
    let mousepos = new DOMRect(inputX, inputY, 0, 0);
    let getBBRect = (inst) => {
      let sprite = $resourceManager.getResource(inst.spriteID);
      return sprite ? new DOMRect(inst.x - sprite.originX + sprite.bBoxX, inst.y - sprite.originY + sprite.bBoxY, sprite.bBoxWidth, sprite.bBoxHeight) : null;
    };
    let alreadyExists = false;
    let filteredInstances = room.instances.filter((inst) => {
      const rect = getBBRect(inst);
      if (!rect || !rectInside(mousepos, rect))
        return true;
      if (!currentSprite)
        return false;
      const sameSprite = inst.spriteID == currentSprite.uuid;
      if (isDownEvent && sameSprite)
        isDeleting = true;
      if (sameSprite)
        alreadyExists = true;
      return sameSprite && !isDeleting;
    });
    let deletedSomething = filteredInstances.length != room.instances.length;
    $$invalidate(15, room.instances = filteredInstances, room);
    if (!deletedSomething && !isDeleting && currentSprite && !alreadyExists) {
      let x, y;
      if (!$roomStore.grid.enabled) {
        x = Math.floor(inputX);
        y = Math.floor(inputY);
      } else if ($roomStore.grid.snap == "center") {
        x = (Math.floor(inputX / gridWidth) + 0.5) * gridWidth;
        y = (Math.floor(inputY / gridHeight) + 0.5) * gridHeight;
      } else if ($roomStore.grid.snap == "corner") {
        x = Math.round(inputX / gridWidth) * gridWidth;
        y = Math.round(inputY / gridHeight) * gridHeight;
      } else {
        x = y = 0;
      }
      let instance2 = new Instance(currentSprite.uuid, x, y);
      room.instances.push(instance2);
    }
    refresh();
  }
  let isPlacing = false;
  let isDeleting = false;
  function canvasMouseDown(evt) {
    if (evt.button != 0)
      return;
    isPlacing = true;
    isDeleting = false;
    canvasPlacement(evt, true);
  }
  function canvasMouseMove(evt) {
    if (isPlacing)
      canvasPlacement(evt, false);
  }
  function canvasMouseUp(evt) {
    isPlacing = false;
    isDeleting = false;
  }
  function refresh() {
    if (!room)
      return;
    let ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext("2d");
    if (!ctx)
      return;
    ctx.fillStyle = room.backgroundColor;
    ctx.fillRect(0, 0, room.width, room.height);
    room.filterInstances();
    for (let inst of room.instances) {
      inst.draw(ctx);
    }
    if ($roomStore.grid.enabled) {
      ctx.strokeStyle = "gray";
      ctx.globalCompositeOperation = "difference";
      ctx.beginPath();
      assert(gridWidth >= 1 && gridHeight >= 1);
      for (let x = 0; x < room.width; x += gridWidth) {
        ctx.moveTo(x + 0.5, 0);
        ctx.lineTo(x + 0.5, room.height);
      }
      for (let y = 0; y < room.height; y += gridHeight) {
        ctx.moveTo(0, y + 0.5);
        ctx.lineTo(room.width, y + 0.5);
      }
      ctx.stroke();
      ctx.closePath();
      ctx.globalCompositeOperation = "source-over";
    }
  }
  let spriteOpen = true;
  let configOpen = true;
  const $$binding_groups = [[]];
  const click_handler = () => $$invalidate(7, spriteOpen = !spriteOpen);
  const click_handler_1 = (spr) => $$invalidate(6, currentSprite = spr);
  const click_handler_2 = () => $$invalidate(8, configOpen = !configOpen);
  function input0_change_handler() {
    $roomStore.grid.enabled = this.checked;
    roomStore.set($roomStore);
  }
  function input1_input_handler() {
    $roomStore.grid.width = to_number(this.value);
    roomStore.set($roomStore);
  }
  function input2_input_handler() {
    $roomStore.grid.height = to_number(this.value);
    roomStore.set($roomStore);
  }
  function input3_change_handler() {
    $roomStore.grid.snap = this.__value;
    roomStore.set($roomStore);
  }
  function input4_change_handler() {
    $roomStore.grid.snap = this.__value;
    roomStore.set($roomStore);
  }
  function input5_input_handler() {
    $roomStore.backgroundColor = this.value;
    roomStore.set($roomStore);
  }
  function input6_input_handler() {
    $roomStore.width = to_number(this.value);
    roomStore.set($roomStore);
  }
  function input7_input_handler() {
    $roomStore.height = to_number(this.value);
    roomStore.set($roomStore);
  }
  function canvas_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvas = $$value;
      $$invalidate(5, canvas);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*$resourceManager*/
    65536) {
      $$invalidate(15, room = $resourceManager === null || $resourceManager === void 0 ? void 0 : $resourceManager.getResource(uuid));
    }
    if ($$self.$$.dirty[0] & /*room*/
    32768) {
      $$invalidate(0, card.name = (room === null || room === void 0 ? void 0 : room.name) || "room not loaded", card);
    }
    if ($$self.$$.dirty[0] & /*$resourceManager*/
    65536) {
      $$invalidate(4, sprites = $resourceManager.getSprites() || []);
    }
    if ($$self.$$.dirty[0] & /*$roomStore*/
    8) {
      gridWidth = Math.max($roomStore.grid.width, 1);
    }
    if ($$self.$$.dirty[0] & /*$roomStore*/
    8) {
      gridHeight = Math.max($roomStore.grid.height, 1);
    }
    if ($$self.$$.dirty[0] & /*room*/
    32768) {
      $$invalidate(1, canvasWidth = (room === null || room === void 0 ? void 0 : room.width) || 100);
    }
    if ($$self.$$.dirty[0] & /*room*/
    32768) {
      $$invalidate(2, canvasHeight = (room === null || room === void 0 ? void 0 : room.height) || 100);
    }
    if ($$self.$$.dirty[0] & /*canvasHeight*/
    4) {
      $$invalidate(9, canvasDisplayHeight = adjustedCanvasSize(canvasHeight));
    }
    if ($$self.$$.dirty[0] & /*canvasWidth*/
    2) {
      $$invalidate(10, canvasDisplayWidth = adjustedCanvasSize(canvasWidth));
    }
  };
  $$invalidate(0, card.className = "room-editor", card);
  return [
    card,
    canvasWidth,
    canvasHeight,
    $roomStore,
    sprites,
    canvas,
    currentSprite,
    spriteOpen,
    configOpen,
    canvasDisplayHeight,
    canvasDisplayWidth,
    roomStore,
    canvasMouseDown,
    canvasMouseMove,
    canvasMouseUp,
    room,
    $resourceManager,
    click_handler,
    click_handler_1,
    click_handler_2,
    input0_change_handler,
    input1_input_handler,
    input2_input_handler,
    input3_change_handler,
    $$binding_groups,
    input4_change_handler,
    input5_input_handler,
    input6_input_handler,
    input7_input_handler,
    canvas_1_binding
  ];
}
class RoomEditor extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$f, create_fragment$f, safe_not_equal, { card: 0 }, null, [-1, -1]);
  }
}
const SoundEffectEditor_svelte_svelte_type_style_lang = "";
function get_each_context$7(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[23] = list[i];
  child_ctx[24] = list;
  child_ctx[25] = i;
  return child_ctx;
}
function create_each_block$7(ctx) {
  let label;
  let t0_value = (
    /*slider*/
    ctx[23].name + ""
  );
  let t0;
  let t1;
  let input;
  let mounted;
  let dispose;
  function input_change_input_handler() {
    ctx[17].call(
      input,
      /*slider*/
      ctx[23]
    );
  }
  return {
    c() {
      label = element("label");
      t0 = text(t0_value);
      t1 = space();
      input = element("input");
      attr(
        label,
        "for",
        /*slider*/
        ctx[23].name
      );
      attr(label, "class", "svelte-wzj2wz");
      attr(
        input,
        "name",
        /*slider*/
        ctx[23].name
      );
      attr(input, "type", "range");
      attr(
        input,
        "min",
        /*slider*/
        ctx[23].min
      );
      attr(
        input,
        "max",
        /*slider*/
        ctx[23].max
      );
      attr(
        input,
        "step",
        /*slider*/
        ctx[23].step
      );
      attr(input, "class", "svelte-wzj2wz");
    },
    m(target, anchor) {
      insert(target, label, anchor);
      append(label, t0);
      insert(target, t1, anchor);
      insert(target, input, anchor);
      set_input_value(
        input,
        /*$soundEffect*/
        ctx[6].settings[
          /*slider*/
          ctx[23].name
        ]
      );
      if (!mounted) {
        dispose = [
          listen(input, "change", input_change_input_handler),
          listen(input, "input", input_change_input_handler)
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & /*$soundEffect, sliders*/
      320) {
        set_input_value(
          input,
          /*$soundEffect*/
          ctx[6].settings[
            /*slider*/
            ctx[23].name
          ]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(label);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(input);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_default_slot$7(ctx) {
  let canvas_1;
  let canvas_1_resize_listener;
  let t0;
  let div0;
  let button0;
  let t2;
  let button1;
  let t4;
  let div1;
  let t5;
  let button2;
  let mounted;
  let dispose;
  let each_value = (
    /*sliders*/
    ctx[8]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));
  }
  return {
    c() {
      canvas_1 = element("canvas");
      t0 = space();
      div0 = element("div");
      button0 = element("button");
      button0.textContent = "random";
      t2 = space();
      button1 = element("button");
      button1.textContent = "mutate";
      t4 = space();
      div1 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t5 = space();
      button2 = element("button");
      button2.textContent = "play sound";
      attr(
        canvas_1,
        "width",
        /*canvasWidth*/
        ctx[3]
      );
      attr(
        canvas_1,
        "height",
        /*canvasHeight*/
        ctx[4]
      );
      attr(canvas_1, "class", "svelte-wzj2wz");
      add_render_callback(() => (
        /*canvas_1_elementresize_handler*/
        ctx[14].call(canvas_1)
      ));
      attr(div0, "class", "buttons svelte-wzj2wz");
      attr(div1, "class", "slider-area svelte-wzj2wz");
    },
    m(target, anchor) {
      insert(target, canvas_1, anchor);
      ctx[13](canvas_1);
      canvas_1_resize_listener = add_iframe_resize_listener(
        canvas_1,
        /*canvas_1_elementresize_handler*/
        ctx[14].bind(canvas_1)
      );
      insert(target, t0, anchor);
      insert(target, div0, anchor);
      append(div0, button0);
      append(div0, t2);
      append(div0, button1);
      insert(target, t4, anchor);
      insert(target, div1, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
      insert(target, t5, anchor);
      insert(target, button2, anchor);
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[15]
          ),
          listen(
            button1,
            "click",
            /*click_handler_1*/
            ctx[16]
          ),
          listen(
            button2,
            "click",
            /*click_handler_2*/
            ctx[18]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*canvasWidth*/
      8) {
        attr(
          canvas_1,
          "width",
          /*canvasWidth*/
          ctx2[3]
        );
      }
      if (dirty & /*canvasHeight*/
      16) {
        attr(
          canvas_1,
          "height",
          /*canvasHeight*/
          ctx2[4]
        );
      }
      if (dirty & /*sliders, $soundEffect*/
      320) {
        each_value = /*sliders*/
        ctx2[8];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$7(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$7(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d(detaching) {
      if (detaching)
        detach(canvas_1);
      ctx[13](null);
      canvas_1_resize_listener();
      if (detaching)
        detach(t0);
      if (detaching)
        detach(div0);
      if (detaching)
        detach(t4);
      if (detaching)
        detach(div1);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(t5);
      if (detaching)
        detach(button2);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$e(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      autoFocus: true,
      contentMinWidth: 240,
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$7] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, $soundEffect, canvasWidth, canvasHeight, canvas, canvasCWidth, canvasCHeight*/
      67109086) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$e($$self, $$props, $$invalidate) {
  let soundEffect;
  let $soundEffect, $$unsubscribe_soundEffect = noop, $$subscribe_soundEffect = () => ($$unsubscribe_soundEffect(), $$unsubscribe_soundEffect = subscribe$3(soundEffect, ($$value) => $$invalidate(6, $soundEffect = $$value)), soundEffect);
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(12, $resourceManager = $$value));
  $$self.$$.on_destroy.push(() => $$unsubscribe_soundEffect());
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { card } = $$props;
  let uuid = card.uuid;
  let canvas;
  let canvasCWidth;
  let canvasCHeight;
  let canvasWidth = 0;
  let canvasHeight = 0;
  function updateCanvas() {
    return __awaiter2(this, void 0, void 0, function* () {
      yield tick();
      updateBufferAndCanvas();
    });
  }
  const sliders = [
    { name: "attack", min: 1, max: 50, step: 1 },
    { name: "hold", min: 1, max: 200, step: 1 },
    { name: "decay", min: 1, max: 500, step: 1 },
    { name: "freq", min: 50, max: 600, step: 1 },
    {
      name: "freqSlide",
      min: -500,
      max: 500,
      step: 1
    },
    { name: "shape", min: 0, max: 100, step: 1 },
    {
      name: "slopes",
      min: -50,
      max: 50,
      step: 1
    },
    { name: "crunch", min: 0, max: 16, step: 1 },
    {
      name: "subcrunch",
      min: 0,
      max: 16,
      step: 1
    }
  ];
  function setRandom() {
    for (let slider of sliders) {
      set_store_value(soundEffect, $soundEffect.settings[slider.name] = Math.random() * (slider.max - slider.min) + slider.min, $soundEffect);
    }
    updateBufferAndCanvas();
  }
  function mutate() {
    for (let slider of sliders) {
      set_store_value(soundEffect, $soundEffect.settings[slider.name] += (Math.random() * 2 - 1) * (slider.max - slider.min) * 0.1, $soundEffect);
      set_store_value(soundEffect, $soundEffect.settings[slider.name] = Math.min(Math.max($soundEffect.settings[slider.name], slider.min), slider.max), $soundEffect);
    }
    updateBufferAndCanvas();
  }
  function playSound() {
    $soundEffect.play();
  }
  function updateBufferAndCanvas() {
    let ctx = canvas.getContext("2d");
    $soundEffect.createBuffer();
    let buffer = $soundEffect._buffer;
    let data2 = buffer.getChannelData(0);
    let px = 0;
    let py = 0;
    ctx.fillStyle = "#222";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = "#aaa";
    ctx.beginPath();
    for (let t = 0; t < data2.length; t++) {
      const x = t / data2.length * canvas.width;
      const y = (data2[t] + 1) * canvas.height / 2;
      if (t > 0) {
        ctx.moveTo(px, py);
        ctx.lineTo(x, y);
      }
      px = x;
      py = y;
    }
    ctx.stroke();
  }
  function canvas_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvas = $$value;
      $$invalidate(7, canvas);
    });
  }
  function canvas_1_elementresize_handler() {
    canvasCWidth = this.clientWidth;
    canvasCHeight = this.clientHeight;
    $$invalidate(1, canvasCWidth);
    $$invalidate(2, canvasCHeight);
  }
  const click_handler = () => {
    setRandom();
    playSound();
  };
  const click_handler_1 = () => {
    mutate();
    playSound();
  };
  function input_change_input_handler(slider) {
    $soundEffect.settings[slider.name] = to_number(this.value);
    soundEffect.set($soundEffect);
  }
  const click_handler_2 = () => playSound();
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$resourceManager*/
    4096) {
      $$subscribe_soundEffect($$invalidate(5, soundEffect = $resourceManager.getResourceStore(uuid)));
    }
    if ($$self.$$.dirty & /*$soundEffect*/
    64) {
      {
        $$invalidate(0, card.name = $soundEffect.name, card);
      }
    }
    if ($$self.$$.dirty & /*canvasCWidth, canvasCHeight*/
    6) {
      {
        if (canvasCWidth && canvasCHeight) {
          $$invalidate(3, canvasWidth = canvasCWidth * devicePixelRatio);
          $$invalidate(4, canvasHeight = canvasCHeight * devicePixelRatio);
        }
      }
    }
    if ($$self.$$.dirty & /*soundEffect, canvasHeight, canvasWidth*/
    56) {
      {
        updateCanvas();
      }
    }
  };
  $$invalidate(0, card.className = "sound-effect-editor", card);
  $$invalidate(0, card.position.width = 350, card);
  return [
    card,
    canvasCWidth,
    canvasCHeight,
    canvasWidth,
    canvasHeight,
    soundEffect,
    $soundEffect,
    canvas,
    sliders,
    setRandom,
    mutate,
    playSound,
    $resourceManager,
    canvas_1_binding,
    canvas_1_elementresize_handler,
    click_handler,
    click_handler_1,
    input_change_input_handler,
    click_handler_2
  ];
}
class SoundEffectEditor extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$e, create_fragment$e, safe_not_equal, { card: 0 });
  }
}
const BehaviourPreview_svelte_svelte_type_style_lang = "";
function create_if_block$5(ctx) {
  let button;
  let mounted;
  let dispose;
  return {
    c() {
      button = element("button");
      button.textContent = "convert to code";
    },
    m(target, anchor) {
      insert(target, button, anchor);
      if (!mounted) {
        dispose = listen(
          button,
          "click",
          /*click_handler_4*/
          ctx[13]
        );
        mounted = true;
      }
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(button);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$d(ctx) {
  let p0;
  let atlasicon0;
  let t0;
  let span0;
  let t1;
  let span1;
  let t2_value = (
    /*$bStore*/
    ctx[2].name + ""
  );
  let t2;
  let t3;
  let button0;
  let atlasicon1;
  let t4;
  let button1;
  let atlasicon2;
  let t5;
  let button2;
  let atlasicon3;
  let t6;
  let p1;
  let button3;
  let t8;
  let current;
  let mounted;
  let dispose;
  atlasicon0 = new AtlasIcon({
    props: { id: (
      /*behaviour*/
      ctx[0].iconID
    ) }
  });
  atlasicon1 = new AtlasIcon({ props: { id: 6 } });
  atlasicon2 = new AtlasIcon({ props: { id: 7 } });
  atlasicon3 = new AtlasIcon({ props: { id: 32 } });
  let if_block = (
    /*behaviour*/
    ctx[0].svelteComponent != BCustom && create_if_block$5(ctx)
  );
  return {
    c() {
      p0 = element("p");
      create_component(atlasicon0.$$.fragment);
      t0 = space();
      span0 = element("span");
      t1 = space();
      span1 = element("span");
      t2 = text(t2_value);
      t3 = space();
      button0 = element("button");
      create_component(atlasicon1.$$.fragment);
      t4 = space();
      button1 = element("button");
      create_component(atlasicon2.$$.fragment);
      t5 = space();
      button2 = element("button");
      create_component(atlasicon3.$$.fragment);
      t6 = space();
      p1 = element("p");
      button3 = element("button");
      button3.textContent = "open";
      t8 = space();
      if (if_block)
        if_block.c();
      attr(span0, "class", "spacer");
      attr(span1, "class", "name svelte-2virto");
      attr(button0, "class", "borderless");
      attr(button1, "class", "borderless");
      attr(button2, "class", "borderless");
      attr(p0, "class", "behaviour-title svelte-2virto");
      attr(p1, "class", "bottom-bar svelte-2virto");
    },
    m(target, anchor) {
      insert(target, p0, anchor);
      mount_component(atlasicon0, p0, null);
      append(p0, t0);
      append(p0, span0);
      append(p0, t1);
      append(p0, span1);
      append(span1, t2);
      append(p0, t3);
      append(p0, button0);
      mount_component(atlasicon1, button0, null);
      append(p0, t4);
      append(p0, button1);
      mount_component(atlasicon2, button1, null);
      append(p0, t5);
      append(p0, button2);
      mount_component(atlasicon3, button2, null);
      insert(target, t6, anchor);
      insert(target, p1, anchor);
      append(p1, button3);
      append(p1, t8);
      if (if_block)
        if_block.m(p1, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[9]
          ),
          listen(
            button1,
            "click",
            /*click_handler_1*/
            ctx[10]
          ),
          listen(
            button2,
            "click",
            /*click_handler_2*/
            ctx[11]
          ),
          listen(
            button3,
            "click",
            /*click_handler_3*/
            ctx[12]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      const atlasicon0_changes = {};
      if (dirty & /*behaviour*/
      1)
        atlasicon0_changes.id = /*behaviour*/
        ctx2[0].iconID;
      atlasicon0.$set(atlasicon0_changes);
      if ((!current || dirty & /*$bStore*/
      4) && t2_value !== (t2_value = /*$bStore*/
      ctx2[2].name + ""))
        set_data(t2, t2_value);
      if (
        /*behaviour*/
        ctx2[0].svelteComponent != BCustom
      ) {
        if (if_block) {
          if_block.p(ctx2, dirty);
        } else {
          if_block = create_if_block$5(ctx2);
          if_block.c();
          if_block.m(p1, null);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon0.$$.fragment, local);
      transition_in(atlasicon1.$$.fragment, local);
      transition_in(atlasicon2.$$.fragment, local);
      transition_in(atlasicon3.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon0.$$.fragment, local);
      transition_out(atlasicon1.$$.fragment, local);
      transition_out(atlasicon2.$$.fragment, local);
      transition_out(atlasicon3.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(p0);
      destroy_component(atlasicon0);
      destroy_component(atlasicon1);
      destroy_component(atlasicon2);
      destroy_component(atlasicon3);
      if (detaching)
        detach(t6);
      if (detaching)
        detach(p1);
      if (if_block)
        if_block.d();
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance$d($$self, $$props, $$invalidate) {
  let uuid;
  let $resourceManager;
  let $bStore;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(14, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { behaviour } = $$props;
  let { sprite } = $$props;
  let bStore = behaviour instanceof BehaviourLink ? $resourceManager.getResourceStore(behaviour.linkedBehaviourUUID) : $resourceManager.getResourceStore(behaviour);
  component_subscribe($$self, bStore, (value) => $$invalidate(2, $bStore = value));
  const dispatch2 = createEventDispatcher();
  function moveUp() {
    dispatch2("move", -1);
  }
  function moveDown() {
    dispatch2("move", 1);
  }
  function remove() {
    dispatch2("remove");
  }
  function transformToCode() {
    return __awaiter2(this, void 0, void 0, function* () {
      let result = yield asyncYesNoPopup("Do you want to convert this component to a code block? This is not reversible at the moment.");
      if (result)
        $$invalidate(0, behaviour.svelteComponent = BCustom, behaviour);
      cards.remove(uuid, true);
    });
  }
  const click_handler = () => moveUp();
  const click_handler_1 = () => moveDown();
  const click_handler_2 = () => remove();
  const click_handler_3 = () => {
    openCard(BehaviourEditor, true, uuid);
  };
  const click_handler_4 = () => {
    transformToCode();
  };
  $$self.$$set = ($$props2) => {
    if ("behaviour" in $$props2)
      $$invalidate(0, behaviour = $$props2.behaviour);
    if ("sprite" in $$props2)
      $$invalidate(8, sprite = $$props2.sprite);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*behaviour, sprite*/
    257) {
      $$invalidate(1, uuid = behaviour instanceof BehaviourLink ? behaviour.uuid : `${sprite.uuid}/${behaviour.uuid}`);
    }
  };
  return [
    behaviour,
    uuid,
    $bStore,
    bStore,
    moveUp,
    moveDown,
    remove,
    transformToCode,
    sprite,
    click_handler,
    click_handler_1,
    click_handler_2,
    click_handler_3,
    click_handler_4
  ];
}
class BehaviourPreview extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$d, create_fragment$d, safe_not_equal, { behaviour: 0, sprite: 8 });
  }
}
const brushesURL = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAPCAYAAADOBNy/AAAAB3RJTUUH5gYeEQ8l4jeG/AAAABd0RVh0U29mdHdhcmUAR0xEUE5HIHZlciAzLjRxhaThAAAACHRwTkdHTEQzAAAAAEqAKR8AAAAEZ0FNQQAAsY8L/GEFAAAABmJLR0QA/wD/AP+gvaeTAAAA1ElEQVR4nO2USxKAIAxDvf+lqxtdODL0E0wLOJMdrWn64BCRY8uv65O32J5gs7ENZFloT54e7Dk3HAQ4IlBVEt1ANTgQr07LCzuXDUcSOEa8NmjI1OF5w2eDgITDU9fKAQ2HtVbzPzgciGFHQ8WGw/vaIMAwAZwNDsQNWgkO7XmP13RwaBcc0SxwaM5GPA9ZcASMP8SGo9cLBYZ35qeGvahKcERrUXBELp4JYPaiVoXjq5/FOzKD5hn2oqrBYa1nzxrKiW2gIhzaHuw5NxzsACeE4tYJ/M+Ai4WwJvAAAAAASUVORK5CYII=";
function create_default_slot$6(ctx) {
  let p0;
  let t3;
  let p1;
  let label0;
  let t4;
  let input0;
  let t5;
  let p2;
  let label1;
  let t6;
  let input1;
  let mounted;
  let dispose;
  return {
    c() {
      p0 = element("p");
      p0.innerHTML = `This will <em>erase</em> your drawing!!!`;
      t3 = space();
      p1 = element("p");
      label0 = element("label");
      t4 = text("width: ");
      input0 = element("input");
      t5 = space();
      p2 = element("p");
      label1 = element("label");
      t6 = text("height: ");
      input1 = element("input");
    },
    m(target, anchor) {
      insert(target, p0, anchor);
      insert(target, t3, anchor);
      insert(target, p1, anchor);
      append(p1, label0);
      append(label0, t4);
      append(label0, input0);
      set_input_value(
        input0,
        /*width*/
        ctx[1]
      );
      insert(target, t5, anchor);
      insert(target, p2, anchor);
      append(p2, label1);
      append(label1, t6);
      append(label1, input1);
      set_input_value(
        input1,
        /*height*/
        ctx[2]
      );
      if (!mounted) {
        dispose = [
          listen(
            input0,
            "input",
            /*input0_input_handler*/
            ctx[3]
          ),
          listen(
            input1,
            "input",
            /*input1_input_handler*/
            ctx[4]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*width*/
      2 && input0.value !== /*width*/
      ctx2[1]) {
        set_input_value(
          input0,
          /*width*/
          ctx2[1]
        );
      }
      if (dirty & /*height*/
      4 && input1.value !== /*height*/
      ctx2[2]) {
        set_input_value(
          input1,
          /*height*/
          ctx2[2]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(p0);
      if (detaching)
        detach(t3);
      if (detaching)
        detach(p1);
      if (detaching)
        detach(t5);
      if (detaching)
        detach(p2);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$c(ctx) {
  let blockingpopup;
  let updating_prompt;
  let current;
  function blockingpopup_prompt_binding(value) {
    ctx[5](value);
  }
  let blockingpopup_props = {
    $$slots: { default: [create_default_slot$6] },
    $$scope: { ctx }
  };
  if (
    /*prompt*/
    ctx[0] !== void 0
  ) {
    blockingpopup_props.prompt = /*prompt*/
    ctx[0];
  }
  blockingpopup = new BlockingPopUp({ props: blockingpopup_props });
  binding_callbacks.push(() => bind(blockingpopup, "prompt", blockingpopup_prompt_binding));
  return {
    c() {
      create_component(blockingpopup.$$.fragment);
    },
    m(target, anchor) {
      mount_component(blockingpopup, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const blockingpopup_changes = {};
      if (dirty & /*$$scope, height, width*/
      70) {
        blockingpopup_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (!updating_prompt && dirty & /*prompt*/
      1) {
        updating_prompt = true;
        blockingpopup_changes.prompt = /*prompt*/
        ctx2[0];
        add_flush_callback(() => updating_prompt = false);
      }
      blockingpopup.$set(blockingpopup_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(blockingpopup.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(blockingpopup.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(blockingpopup, detaching);
    }
  };
}
function instance$c($$self, $$props, $$invalidate) {
  let { prompt } = $$props;
  let { width = prompt === null || prompt === void 0 ? void 0 : prompt.data.width } = $$props;
  let { height = prompt === null || prompt === void 0 ? void 0 : prompt.data.height } = $$props;
  function input0_input_handler() {
    width = this.value;
    $$invalidate(1, width);
  }
  function input1_input_handler() {
    height = this.value;
    $$invalidate(2, height);
  }
  function blockingpopup_prompt_binding(value) {
    prompt = value;
    $$invalidate(0, prompt), $$invalidate(1, width), $$invalidate(2, height);
  }
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
    if ("width" in $$props2)
      $$invalidate(1, width = $$props2.width);
    if ("height" in $$props2)
      $$invalidate(2, height = $$props2.height);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*prompt, width, height*/
    7) {
      if (prompt)
        $$invalidate(
          0,
          prompt.buttons = [
            {
              text: "ok",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve({ width, height })
            },
            {
              text: "cancel",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(null)
            }
          ],
          prompt
        );
    }
  };
  return [
    prompt,
    width,
    height,
    input0_input_handler,
    input1_input_handler,
    blockingpopup_prompt_binding
  ];
}
class ResizeSpritePopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$c, create_fragment$c, safe_not_equal, { prompt: 0, width: 1, height: 2 });
  }
}
const ImageEditor_svelte_svelte_type_style_lang = "";
function get_each_context$6(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[54] = list[i];
  child_ctx[55] = list;
  child_ctx[56] = i;
  return child_ctx;
}
function get_each_context_1$2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[57] = list[i];
  child_ctx[56] = i;
  return child_ctx;
}
function create_each_block_1$2(ctx) {
  let button;
  let canvas_1;
  let style_width = `${/*iconDisplayWidth*/
  ctx[14]}px`;
  let style_height = `${/*iconDisplayWidth*/
  ctx[14]}px`;
  let t;
  let button_data_selected_value;
  let mounted;
  let dispose;
  function click_handler() {
    return (
      /*click_handler*/
      ctx[30](
        /*i*/
        ctx[56]
      )
    );
  }
  return {
    c() {
      button = element("button");
      canvas_1 = element("canvas");
      t = space();
      attr(canvas_1, "width", "1");
      attr(canvas_1, "height", "1");
      attr(canvas_1, "class", "svelte-84nuy");
      set_style(canvas_1, "width", style_width);
      set_style(canvas_1, "height", style_height);
      attr(
        button,
        "data-id",
        /*i*/
        ctx[56]
      );
      attr(
        button,
        "data-eraser",
        /*isEraser*/
        ctx[16](
          /*color*/
          ctx[57]
        )
      );
      attr(button, "data-selected", button_data_selected_value = /*currentColor*/
      ctx[5] == /*color*/
      ctx[57]);
      attr(button, "class", "svelte-84nuy");
      set_style(
        button,
        "background-color",
        /*color*/
        ctx[57]
      );
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, canvas_1);
      append(button, t);
      if (!mounted) {
        dispose = listen(button, "click", click_handler);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*currentColor*/
      32 && button_data_selected_value !== (button_data_selected_value = /*currentColor*/
      ctx[5] == /*color*/
      ctx[57])) {
        attr(button, "data-selected", button_data_selected_value);
      }
    },
    d(detaching) {
      if (detaching)
        detach(button);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block$6(ctx) {
  let button;
  let canvas_1;
  let i = (
    /*i*/
    ctx[56]
  );
  let style_width = `${/*iconDisplayWidth*/
  ctx[14]}px`;
  let style_height = `${/*iconDisplayWidth*/
  ctx[14]}px`;
  let t;
  let button_data_selected_value;
  let mounted;
  let dispose;
  const assign_canvas_1 = () => (
    /*canvas_1_binding*/
    ctx[31](canvas_1, i)
  );
  const unassign_canvas_1 = () => (
    /*canvas_1_binding*/
    ctx[31](null, i)
  );
  function click_handler_1() {
    return (
      /*click_handler_1*/
      ctx[32](
        /*i*/
        ctx[56]
      )
    );
  }
  return {
    c() {
      button = element("button");
      canvas_1 = element("canvas");
      t = space();
      attr(canvas_1, "class", "svelte-84nuy");
      set_style(canvas_1, "width", style_width);
      set_style(canvas_1, "height", style_height);
      attr(button, "data-selected", button_data_selected_value = /*brush*/
      ctx[54] == /*currentBrush*/
      ctx[8]);
      attr(
        button,
        "data-id",
        /*i*/
        ctx[56]
      );
      attr(button, "class", "svelte-84nuy");
      set_style(
        button,
        "background-color",
        /*tweak*/
        ctx[11] ? "var(--off-bg-color)" : ""
      );
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, canvas_1);
      assign_canvas_1();
      append(button, t);
      if (!mounted) {
        dispose = listen(button, "click", click_handler_1);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (i !== /*i*/
      ctx[56]) {
        unassign_canvas_1();
        i = /*i*/
        ctx[56];
        assign_canvas_1();
      }
      if (dirty[0] & /*brushes, currentBrush*/
      264 && button_data_selected_value !== (button_data_selected_value = /*brush*/
      ctx[54] == /*currentBrush*/
      ctx[8])) {
        attr(button, "data-selected", button_data_selected_value);
      }
      if (dirty[0] & /*tweak*/
      2048) {
        set_style(
          button,
          "background-color",
          /*tweak*/
          ctx[11] ? "var(--off-bg-color)" : ""
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(button);
      unassign_canvas_1();
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$b(ctx) {
  let div0;
  let p0;
  let span0;
  let t1;
  let span1;
  let t2;
  let t3;
  let t4;
  let t5;
  let button0;
  let t7;
  let p1;
  let button1;
  let t9;
  let p2;
  let t10;
  let t11_value = (
    /*$s_sprite*/
    ctx[7].bBoxX + ""
  );
  let t11;
  let t12;
  let t13_value = (
    /*$s_sprite*/
    ctx[7].bBoxY + ""
  );
  let t13;
  let t14;
  let t15_value = (
    /*$s_sprite*/
    ctx[7].bBoxWidth + ""
  );
  let t15;
  let t16;
  let t17_value = (
    /*$s_sprite*/
    ctx[7].bBoxHeight + ""
  );
  let t17;
  let t18;
  let div4;
  let div1;
  let t19;
  let div2;
  let t20;
  let div3;
  let button2;
  let atlasicon0;
  let t21;
  let button3;
  let atlasicon1;
  let t22;
  let div5;
  let canvas_1;
  let style_width = `${/*canvasDisplayWidth*/
  ctx[10]}px`;
  let style_height = `${/*canvasDisplayHeight*/
  ctx[12]}px`;
  let current;
  let mounted;
  let dispose;
  let each_value_1 = colors;
  let each_blocks_1 = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks_1[i] = create_each_block_1$2(get_each_context_1$2(ctx, each_value_1, i));
  }
  let each_value = (
    /*brushes*/
    ctx[3]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));
  }
  atlasicon0 = new AtlasIcon({ props: { id: 21, height: 16 } });
  atlasicon1 = new AtlasIcon({ props: { id: 22, height: 16 } });
  return {
    c() {
      div0 = element("div");
      p0 = element("p");
      span0 = element("span");
      span0.textContent = "size:";
      t1 = space();
      span1 = element("span");
      t2 = text(
        /*canvasWidth*/
        ctx[0]
      );
      t3 = text(" x ");
      t4 = text(
        /*canvasHeight*/
        ctx[1]
      );
      t5 = space();
      button0 = element("button");
      button0.textContent = "change";
      t7 = space();
      p1 = element("p");
      button1 = element("button");
      button1.textContent = "upload image";
      t9 = space();
      p2 = element("p");
      t10 = text("bbox: ");
      t11 = text(t11_value);
      t12 = space();
      t13 = text(t13_value);
      t14 = space();
      t15 = text(t15_value);
      t16 = space();
      t17 = text(t17_value);
      t18 = space();
      div4 = element("div");
      div1 = element("div");
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].c();
      }
      t19 = space();
      div2 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t20 = space();
      div3 = element("div");
      button2 = element("button");
      create_component(atlasicon0.$$.fragment);
      t21 = space();
      button3 = element("button");
      create_component(atlasicon1.$$.fragment);
      t22 = space();
      div5 = element("div");
      canvas_1 = element("canvas");
      attr(span0, "class", "svelte-84nuy");
      attr(span1, "class", "size-description svelte-84nuy");
      attr(button0, "class", "resize svelte-84nuy");
      attr(p0, "class", "svelte-84nuy");
      attr(button1, "class", "upload svelte-84nuy");
      attr(p1, "class", "svelte-84nuy");
      attr(p2, "class", "svelte-84nuy");
      attr(div0, "class", "card-settings svelte-84nuy");
      attr(div1, "class", "toolbar colors svelte-84nuy");
      attr(div2, "class", "toolbar brushes svelte-84nuy");
      attr(button2, "class", "svelte-84nuy");
      attr(button3, "class", "svelte-84nuy");
      attr(div3, "class", "toolbar zoom svelte-84nuy");
      attr(div4, "class", "toolbar-container svelte-84nuy");
      attr(
        canvas_1,
        "width",
        /*canvasWidth*/
        ctx[0]
      );
      attr(
        canvas_1,
        "height",
        /*canvasHeight*/
        ctx[1]
      );
      set_style(canvas_1, "width", style_width);
      set_style(canvas_1, "height", style_height);
      attr(div5, "class", "canvas-container svelte-84nuy");
      set_style(div5, "min-height", `0`);
    },
    m(target, anchor) {
      insert(target, div0, anchor);
      append(div0, p0);
      append(p0, span0);
      append(p0, t1);
      append(p0, span1);
      append(span1, t2);
      append(span1, t3);
      append(span1, t4);
      append(p0, t5);
      append(p0, button0);
      append(div0, t7);
      append(div0, p1);
      append(p1, button1);
      append(div0, t9);
      append(div0, p2);
      append(p2, t10);
      append(p2, t11);
      append(p2, t12);
      append(p2, t13);
      append(p2, t14);
      append(p2, t15);
      append(p2, t16);
      append(p2, t17);
      insert(target, t18, anchor);
      insert(target, div4, anchor);
      append(div4, div1);
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        if (each_blocks_1[i]) {
          each_blocks_1[i].m(div1, null);
        }
      }
      append(div4, t19);
      append(div4, div2);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div2, null);
        }
      }
      append(div4, t20);
      append(div4, div3);
      append(div3, button2);
      mount_component(atlasicon0, button2, null);
      append(div3, t21);
      append(div3, button3);
      mount_component(atlasicon1, button3, null);
      insert(target, t22, anchor);
      insert(target, div5, anchor);
      append(div5, canvas_1);
      ctx[35](canvas_1);
      ctx[36](div5);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*resizeButtonClick*/
            ctx[22]
          ),
          listen(
            button1,
            "click",
            /*uploadButtonClick*/
            ctx[23]
          ),
          listen(
            p2,
            "mouseenter",
            /*mouseenter_handler*/
            ctx[28]
          ),
          listen(
            p2,
            "mouseleave",
            /*mouseleave_handler*/
            ctx[29]
          ),
          listen(
            button2,
            "click",
            /*click_handler_2*/
            ctx[33]
          ),
          listen(
            button3,
            "click",
            /*click_handler_3*/
            ctx[34]
          ),
          listen(
            canvas_1,
            "mouseup",
            /*cancelDraw*/
            ctx[20]
          ),
          listen(
            canvas_1,
            "mousedown",
            /*canvasOnMouseDown*/
            ctx[18]
          ),
          listen(
            canvas_1,
            "mousemove",
            /*canvasOnMouseMove*/
            ctx[19]
          ),
          listen(
            canvas_1,
            "mouseleave",
            /*canvasLeave*/
            ctx[21]
          ),
          listen(
            div5,
            "mouseup",
            /*cancelDraw*/
            ctx[20]
          ),
          listen(
            div5,
            "mouseleave",
            /*cancelDraw*/
            ctx[20]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (!current || dirty[0] & /*canvasWidth*/
      1)
        set_data(
          t2,
          /*canvasWidth*/
          ctx2[0]
        );
      if (!current || dirty[0] & /*canvasHeight*/
      2)
        set_data(
          t4,
          /*canvasHeight*/
          ctx2[1]
        );
      if ((!current || dirty[0] & /*$s_sprite*/
      128) && t11_value !== (t11_value = /*$s_sprite*/
      ctx2[7].bBoxX + ""))
        set_data(t11, t11_value);
      if ((!current || dirty[0] & /*$s_sprite*/
      128) && t13_value !== (t13_value = /*$s_sprite*/
      ctx2[7].bBoxY + ""))
        set_data(t13, t13_value);
      if ((!current || dirty[0] & /*$s_sprite*/
      128) && t15_value !== (t15_value = /*$s_sprite*/
      ctx2[7].bBoxWidth + ""))
        set_data(t15, t15_value);
      if ((!current || dirty[0] & /*$s_sprite*/
      128) && t17_value !== (t17_value = /*$s_sprite*/
      ctx2[7].bBoxHeight + ""))
        set_data(t17, t17_value);
      if (dirty[0] & /*isEraser, currentColor, selectColor, iconDisplayWidth*/
      213024) {
        each_value_1 = colors;
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1$2(ctx2, each_value_1, i);
          if (each_blocks_1[i]) {
            each_blocks_1[i].p(child_ctx, dirty);
          } else {
            each_blocks_1[i] = create_each_block_1$2(child_ctx);
            each_blocks_1[i].c();
            each_blocks_1[i].m(div1, null);
          }
        }
        for (; i < each_blocks_1.length; i += 1) {
          each_blocks_1[i].d(1);
        }
        each_blocks_1.length = each_value_1.length;
      }
      if (dirty[0] & /*brushes, currentBrush, tweak, selectBrush, iconDisplayWidth*/
      51464) {
        each_value = /*brushes*/
        ctx2[3];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$6(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$6(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div2, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (!current || dirty[0] & /*canvasWidth*/
      1) {
        attr(
          canvas_1,
          "width",
          /*canvasWidth*/
          ctx2[0]
        );
      }
      if (!current || dirty[0] & /*canvasHeight*/
      2) {
        attr(
          canvas_1,
          "height",
          /*canvasHeight*/
          ctx2[1]
        );
      }
      if (dirty[0] & /*canvasDisplayWidth*/
      1024 && style_width !== (style_width = `${/*canvasDisplayWidth*/
      ctx2[10]}px`)) {
        set_style(canvas_1, "width", style_width);
      }
      if (dirty[0] & /*canvasDisplayHeight*/
      4096 && style_height !== (style_height = `${/*canvasDisplayHeight*/
      ctx2[12]}px`)) {
        set_style(canvas_1, "height", style_height);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon0.$$.fragment, local);
      transition_in(atlasicon1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon0.$$.fragment, local);
      transition_out(atlasicon1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div0);
      if (detaching)
        detach(t18);
      if (detaching)
        detach(div4);
      destroy_each(each_blocks_1, detaching);
      destroy_each(each_blocks, detaching);
      destroy_component(atlasicon0);
      destroy_component(atlasicon1);
      if (detaching)
        detach(t22);
      if (detaching)
        detach(div5);
      ctx[35](null);
      ctx[36](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
var __awaiter = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
let brushesSrcImage;
function init() {
  return __awaiter(this, void 0, void 0, function* () {
    console.log("init sprite editor...");
    brushesSrcImage = new Image();
    brushesSrcImage.src = brushesURL;
    yield new Promise((resolve) => brushesSrcImage.onload = resolve);
  });
}
let colors = [
  "#00000000",
  "#000000ff",
  "#504050ff",
  "#2633dfff",
  "#ef4b2eff",
  "#f0ff4dff",
  "#4ccb2aff",
  "#9dab9fff",
  "#ffffffff"
];
let colorUIAdjust = {
  "#000000ff": "dark",
  "#ffffffff": "light"
};
function brightnessFromColor(color) {
  let canvas = document.createElement("canvas");
  canvas.width = canvas.height = 1;
  let ctx = canvas.getContext("2d");
  ctx.fillStyle = color;
  ctx.fillRect(0, 0, 1, 1);
  let val = ctx.getImageData(0, 0, 1, 1).data;
  let brightness = (val[0] + val[1] + val[2]) / 3;
  return brightness;
}
function instance$b($$self, $$props, $$invalidate) {
  let canvasDisplayWidth;
  let canvasDisplayHeight;
  let modeIsDark;
  let colorMode;
  let tweak;
  let canvasCtx;
  let spriteCanvas;
  let $s_sprite;
  let $currentTheme;
  let $resourceManager;
  component_subscribe($$self, currentTheme, ($$value) => $$invalidate(27, $currentTheme = $$value));
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(46, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  var _a, _b;
  if (!brushesSrcImage)
    init();
  let { spriteID } = $$props;
  let s_sprite = $resourceManager.getResourceStore(spriteID);
  component_subscribe($$self, s_sprite, (value) => $$invalidate(7, $s_sprite = value));
  let canvasWidth = ((_a = $s_sprite.canvas) === null || _a === void 0 ? void 0 : _a.width) || 60;
  let canvasHeight = ((_b = $s_sprite.canvas) === null || _b === void 0 ? void 0 : _b.height) || 60;
  let zoomLevel = 2;
  let brushes = [];
  const brushWidth = brushesSrcImage.height;
  const numberOfIcons = ~~(brushesSrcImage.width / brushWidth);
  const iconDisplayWidth = adjustedCanvasSize(brushWidth);
  brushes.length = numberOfIcons;
  let canvas;
  onMount(() => {
    let ctx = canvas.getContext("2d");
    ctx.fillStyle = "black";
    ctx.drawImage($s_sprite.canvas, 0, 0);
  });
  let currentBrush;
  let selectBrush = (i) => {
    $$invalidate(8, currentBrush = brushes[i]);
  };
  onMount(() => selectBrush(0));
  let currentCanvasOP = "source-over";
  let currentColor;
  let isEraser = (c) => c == "#00000000";
  let selectColor = (i) => {
    let color = colors[i];
    $$invalidate(5, currentColor = color);
  };
  onMount(() => selectColor(colors.length - 1));
  let draw = false;
  let prevX = -1;
  let prevY = -1;
  let drawStrokeCTX = (x1, y1, x2, y2, ctx) => {
    const scale = canvas.width / canvasDisplayWidth;
    x1 *= scale;
    y1 *= scale;
    x2 *= scale;
    y2 *= scale;
    x1 = ~~x1;
    y1 = ~~y1;
    x2 = ~~x2;
    y2 = ~~y2;
    let dx = x2 - x1;
    let dy = y2 - y1;
    ctx.globalCompositeOperation = currentCanvasOP;
    let alongX = Math.abs(dx) > Math.abs(dy);
    let dLong = alongX ? dx : dy;
    if (dLong < 0) {
      x1 += dx;
      x2 -= dx;
      y1 += dy;
      y2 -= dy;
      dx *= -1;
      dy *= -1;
      dLong *= -1;
    }
    for (let i = 0; i <= dLong; i++) {
      let rx = alongX ? i : ~~(i / dy * dx);
      let ry = !alongX ? i : ~~(i / dx * dy);
      let x = x1 + rx - ~~(brushWidth / 2);
      let y = y1 + ry - ~~(brushWidth / 2);
      ctx.drawImage(currentBrush, x, y);
    }
  };
  let resetDisplayCanvas = () => {
    if (!canvasCtx)
      return;
    const op = canvasCtx.globalCompositeOperation;
    canvasCtx.globalCompositeOperation = "copy";
    canvasCtx.drawImage(spriteCanvas, 0, 0);
    canvasCtx.globalCompositeOperation = op;
  };
  let drawStroke = (x1, y1, x2, y2) => {
    drawStrokeCTX(x1, y1, x2, y2, spriteCanvas.getContext("2d"));
    resetDisplayCanvas();
    s_sprite.set($s_sprite);
  };
  function canvasOnMouseDown(e) {
    if (e.button != 0)
      return;
    draw = true;
    prevX = e.offsetX;
    prevY = e.offsetY;
    drawStroke(prevX, prevY, prevX, prevY);
  }
  function canvasOnMouseMove(e) {
    let x = e.offsetX;
    let y = e.offsetY;
    if (draw) {
      drawStroke(prevX, prevY, x, y);
      prevX = x;
      prevY = y;
    } else {
      resetDisplayCanvas();
      drawStrokeCTX(x, y, x, y, canvasCtx);
    }
  }
  function cancelDraw() {
    draw = false;
  }
  function canvasLeave() {
    resetDisplayCanvas();
  }
  let canvasContainer;
  let resizeButtonClick = () => __awaiter2(void 0, void 0, void 0, function* () {
    let result = yield new Promise((resolve) => blockingPopup.set({
      componentType: ResizeSpritePopUp,
      data: { width: canvasWidth, height: canvasHeight },
      resolve
    }));
    if (result) {
      $$invalidate(0, canvasWidth = Math.max(1, result.width));
      $$invalidate(1, canvasHeight = Math.max(1, result.height));
      s_sprite.update((s) => {
        s.autoCalculateBBox();
        return s;
      });
    }
  });
  let uploadButtonClick = () => __awaiter2(void 0, void 0, void 0, function* () {
    let element2 = document.createElement("input");
    element2.setAttribute("type", "file");
    element2.style.display = "none";
    document.body.appendChild(element2);
    element2.click();
    let imgFile = yield new Promise((resolve) => element2.addEventListener("change", () => {
      if (element2.files && element2.files[0]) {
        element2.innerHTML = element2.files[0].name;
        resolve(element2.files[0]);
      } else {
        resolve(null);
      }
    }));
    document.body.removeChild(element2);
    if (imgFile) {
      let reader = new FileReader();
      let readPromise = new Promise((resolve, reject) => {
        reader.onload = (event2) => resolve(event2);
        reader.onerror = reject;
      });
      reader.readAsDataURL(imgFile);
      let event = yield readPromise;
      let dataUri = event.target.result, img = document.createElement("img");
      let imgLoadPromise = new Promise((resolve) => img.onload = resolve);
      img.src = dataUri;
      img.width;
      img.height;
      imgFile.size;
      yield imgLoadPromise;
      $$invalidate(0, canvasWidth = img.width);
      $$invalidate(1, canvasHeight = img.height);
      s_sprite.update((sprite) => {
        const _canvas = sprite.canvas;
        _canvas.width = img.width;
        _canvas.height = img.height;
        sprite.originX = ~~(_canvas.width / 2);
        sprite.originY = ~~(_canvas.height / 2);
        _canvas.getContext("2d").drawImage(img, 0, 0);
        return sprite;
      });
      requestAnimationFrame(() => resetDisplayCanvas());
    }
  });
  let showBBox = false;
  function drawBBox() {
    if (!canvasCtx)
      return;
    canvasCtx.strokeStyle = modeIsDark ? "white" : "black";
    canvasCtx.strokeRect($s_sprite.bBoxX + 0.5, $s_sprite.bBoxY + 0.5, $s_sprite.bBoxWidth - 1, $s_sprite.bBoxHeight - 1);
  }
  const mouseenter_handler = () => $$invalidate(6, showBBox = true);
  const mouseleave_handler = () => $$invalidate(6, showBBox = false);
  const click_handler = (i) => selectColor(i);
  function canvas_1_binding($$value, i) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      brushes[i] = $$value;
      $$invalidate(3, brushes);
    });
  }
  const click_handler_1 = (i) => selectBrush(i);
  const click_handler_2 = () => $$invalidate(2, zoomLevel = Math.max(zoomLevel - 1, 1));
  const click_handler_3 = () => $$invalidate(2, zoomLevel += 1);
  function canvas_1_binding_1($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvas = $$value;
      $$invalidate(4, canvas);
    });
  }
  function div5_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvasContainer = $$value;
      $$invalidate(9, canvasContainer);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("spriteID" in $$props2)
      $$invalidate(24, spriteID = $$props2.spriteID);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*$s_sprite, canvasWidth, canvasHeight*/
    131) {
      {
        if (!$s_sprite.canvas) {
          set_store_value(s_sprite, $s_sprite.canvas = document.createElement("canvas"), $s_sprite);
        }
        if ($s_sprite.canvas.width != canvasWidth)
          set_store_value(s_sprite, $s_sprite.canvas.width = canvasWidth, $s_sprite);
        if ($s_sprite.canvas.height != canvasHeight)
          set_store_value(s_sprite, $s_sprite.canvas.height = canvasHeight, $s_sprite);
        $s_sprite.autoCalculateBBox();
        console.log("recalc bbox");
      }
    }
    if ($$self.$$.dirty[0] & /*canvasWidth, zoomLevel*/
    5) {
      $$invalidate(10, canvasDisplayWidth = adjustedCanvasSize(canvasWidth) * zoomLevel);
    }
    if ($$self.$$.dirty[0] & /*canvasHeight, zoomLevel*/
    6) {
      $$invalidate(12, canvasDisplayHeight = adjustedCanvasSize(canvasHeight) * zoomLevel);
    }
    if ($$self.$$.dirty[0] & /*brushes*/
    8) {
      {
        for (let i = 0; i < numberOfIcons; i++) {
          if (!brushes[i])
            break;
          let brushCanvas = brushes[i];
          brushCanvas.width = brushCanvas.height = brushWidth;
          let ctx = brushCanvas.getContext("2d");
          ctx.imageSmoothingEnabled = false;
          ctx.drawImage(brushesSrcImage, i * brushWidth, 0, brushWidth, brushWidth, 0, 0, brushWidth, brushWidth);
          $$invalidate(3, brushes[i] = brushCanvas, brushes);
          brushCanvas.style.width = brushCanvas.style.height = iconDisplayWidth + "px";
        }
      }
    }
    if ($$self.$$.dirty[0] & /*$currentTheme*/
    134217728) {
      $currentTheme.mainColor;
    }
    if ($$self.$$.dirty[0] & /*$currentTheme*/
    134217728) {
      $$invalidate(25, modeIsDark = brightnessFromColor($currentTheme.bgColor) < 128);
    }
    if ($$self.$$.dirty[0] & /*$currentTheme*/
    134217728) {
      console.log(brightnessFromColor($currentTheme.bgColor));
    }
    if ($$self.$$.dirty[0] & /*modeIsDark*/
    33554432) {
      $$invalidate(26, colorMode = modeIsDark ? "dark" : "light");
    }
    if ($$self.$$.dirty[0] & /*currentColor, colorMode*/
    67108896) {
      $$invalidate(11, tweak = colorUIAdjust[currentColor] == colorMode);
    }
    if ($$self.$$.dirty[0] & /*canvas*/
    16) {
      canvasCtx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext("2d");
    }
    if ($$self.$$.dirty[0] & /*currentColor, brushes, modeIsDark*/
    33554472) {
      {
        console.log("brush redraw");
        const eraser = isEraser(currentColor);
        for (let brush of brushes) {
          if (!brush)
            break;
          let ctx = brush.getContext("2d");
          ctx.globalCompositeOperation = "source-in";
          ctx.fillStyle = !eraser ? currentColor : modeIsDark ? "#fff" : "#000";
          ctx.fillRect(0, 0, brushWidth, brushWidth);
          currentCanvasOP = eraser ? "destination-out" : "source-over";
        }
      }
    }
    if ($$self.$$.dirty[0] & /*$s_sprite*/
    128) {
      spriteCanvas = $s_sprite.canvas;
    }
    if ($$self.$$.dirty[0] & /*showBBox*/
    64) {
      {
        if (showBBox) {
          resetDisplayCanvas();
          drawBBox();
        } else {
          resetDisplayCanvas();
        }
      }
    }
  };
  return [
    canvasWidth,
    canvasHeight,
    zoomLevel,
    brushes,
    canvas,
    currentColor,
    showBBox,
    $s_sprite,
    currentBrush,
    canvasContainer,
    canvasDisplayWidth,
    tweak,
    canvasDisplayHeight,
    s_sprite,
    iconDisplayWidth,
    selectBrush,
    isEraser,
    selectColor,
    canvasOnMouseDown,
    canvasOnMouseMove,
    cancelDraw,
    canvasLeave,
    resizeButtonClick,
    uploadButtonClick,
    spriteID,
    modeIsDark,
    colorMode,
    $currentTheme,
    mouseenter_handler,
    mouseleave_handler,
    click_handler,
    canvas_1_binding,
    click_handler_1,
    click_handler_2,
    click_handler_3,
    canvas_1_binding_1,
    div5_binding
  ];
}
class ImageEditor extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$b, create_fragment$b, safe_not_equal, { spriteID: 24 }, null, [-1, -1]);
  }
}
function get_each_context$5(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[8] = list[i];
  child_ctx[10] = i;
  return child_ctx;
}
function create_each_block$5(ctx) {
  let option;
  let t_value = (
    /*opt*/
    ctx[8].text + ""
  );
  let t;
  return {
    c() {
      option = element("option");
      t = text(t_value);
      option.__value = /*i*/
      ctx[10];
      option.value = option.__value;
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_default_slot$5(ctx) {
  let p;
  let t1;
  let select;
  let mounted;
  let dispose;
  let each_value = (
    /*options*/
    ctx[2]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));
  }
  return {
    c() {
      p = element("p");
      p.textContent = "Choose behaviour to add:";
      t1 = space();
      select = element("select");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      if (
        /*selectedID*/
        ctx[1] === void 0
      )
        add_render_callback(() => (
          /*select_change_handler*/
          ctx[4].call(select)
        ));
    },
    m(target, anchor) {
      insert(target, p, anchor);
      insert(target, t1, anchor);
      insert(target, select, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(select, null);
        }
      }
      select_option(
        select,
        /*selectedID*/
        ctx[1],
        true
      );
      if (!mounted) {
        dispose = listen(
          select,
          "change",
          /*select_change_handler*/
          ctx[4]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*options*/
      4) {
        each_value = /*options*/
        ctx2[2];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$5(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$5(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(select, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (dirty & /*selectedID*/
      2) {
        select_option(
          select,
          /*selectedID*/
          ctx2[1]
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(p);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(select);
      destroy_each(each_blocks, detaching);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$a(ctx) {
  let blockingpopup;
  let updating_prompt;
  let current;
  function blockingpopup_prompt_binding(value) {
    ctx[5](value);
  }
  let blockingpopup_props = {
    $$slots: { default: [create_default_slot$5] },
    $$scope: { ctx }
  };
  if (
    /*prompt*/
    ctx[0] !== void 0
  ) {
    blockingpopup_props.prompt = /*prompt*/
    ctx[0];
  }
  blockingpopup = new BlockingPopUp({ props: blockingpopup_props });
  binding_callbacks.push(() => bind(blockingpopup, "prompt", blockingpopup_prompt_binding));
  return {
    c() {
      create_component(blockingpopup.$$.fragment);
    },
    m(target, anchor) {
      mount_component(blockingpopup, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const blockingpopup_changes = {};
      if (dirty & /*$$scope, selectedID*/
      2050) {
        blockingpopup_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (!updating_prompt && dirty & /*prompt*/
      1) {
        updating_prompt = true;
        blockingpopup_changes.prompt = /*prompt*/
        ctx2[0];
        add_flush_callback(() => updating_prompt = false);
      }
      blockingpopup.$set(blockingpopup_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(blockingpopup.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(blockingpopup.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(blockingpopup, detaching);
    }
  };
}
function instance$a($$self, $$props, $$invalidate) {
  let selected;
  let { prompt } = $$props;
  let defaultOptions2 = [
    {
      text: "player controller",
      behaviourComp: BPlayerController
    },
    {
      text: "custom code",
      behaviourComp: BCustom
    }
  ];
  let additionalOptions = resourceManager.get().getBehaviours().map((x) => ({ text: `s: ${x.name}`, linkedBehaviour: x }));
  let options = defaultOptions2.concat(additionalOptions);
  let selectedID;
  function select_change_handler() {
    selectedID = select_value(this);
    $$invalidate(1, selectedID);
  }
  function blockingpopup_prompt_binding(value) {
    prompt = value;
    $$invalidate(0, prompt), $$invalidate(3, selected), $$invalidate(2, options), $$invalidate(1, selectedID);
  }
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*selectedID*/
    2) {
      $$invalidate(3, selected = options[selectedID]);
    }
    if ($$self.$$.dirty & /*prompt, selected*/
    9) {
      if (prompt)
        $$invalidate(
          0,
          prompt.buttons = [
            {
              text: "ok",
              callback: () => {
                let b;
                if (selected.linkedBehaviour) {
                  b = new BehaviourLink(selected.linkedBehaviour.uuid);
                } else {
                  b = new Behaviour(selected.text);
                  b.svelteComponent = selected.behaviourComp;
                }
                prompt === null || prompt === void 0 ? void 0 : prompt.resolve(b);
              }
            },
            {
              text: "cancel",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(null)
            }
          ],
          prompt
        );
    }
  };
  return [
    prompt,
    selectedID,
    options,
    selected,
    select_change_handler,
    blockingpopup_prompt_binding
  ];
}
class SelectBehaviourPopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$a, create_fragment$a, safe_not_equal, { prompt: 0 });
  }
}
const SpriteEditor_svelte_svelte_type_style_lang = "";
function get_each_context$4(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[13] = list[i];
  child_ctx[15] = i;
  return child_ctx;
}
function create_if_block_1$1(ctx) {
  let ul;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let t0;
  let li;
  let button;
  let atlasicon;
  let t1;
  let current;
  let mounted;
  let dispose;
  let each_value = (
    /*behaviours*/
    ctx[3]
  );
  const get_key = (ctx2) => (
    /*behaviour*/
    ctx2[13].uuid
  );
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context$4(ctx, each_value, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block$4(key2, child_ctx));
  }
  atlasicon = new AtlasIcon({ props: { id: 22, height: 16 } });
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      li = element("li");
      button = element("button");
      create_component(atlasicon.$$.fragment);
      t1 = text("\r\n                add behaviour");
      attr(li, "class", "svelte-10d6cnx");
      attr(ul, "class", "behaviours svelte-10d6cnx");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      append(ul, t0);
      append(ul, li);
      append(li, button);
      mount_component(atlasicon, button, null);
      append(button, t1);
      current = true;
      if (!mounted) {
        dispose = listen(
          button,
          "click",
          /*addBehaviour*/
          ctx[7]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*$sSprite, behaviours, reinsertBehaviour, removeBehaviour*/
      106) {
        each_value = /*behaviours*/
        ctx2[3];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each_1_lookup, ul, outro_and_destroy_block, create_each_block$4, t0, get_each_context$4);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
      destroy_component(atlasicon);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block$4(ctx) {
  let imageeditor;
  let current;
  imageeditor = new ImageEditor({
    props: { spriteID: (
      /*$sSprite*/
      ctx[1].uuid
    ) }
  });
  return {
    c() {
      create_component(imageeditor.$$.fragment);
    },
    m(target, anchor) {
      mount_component(imageeditor, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const imageeditor_changes = {};
      if (dirty & /*$sSprite*/
      2)
        imageeditor_changes.spriteID = /*$sSprite*/
        ctx2[1].uuid;
      imageeditor.$set(imageeditor_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(imageeditor.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(imageeditor.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(imageeditor, detaching);
    }
  };
}
function create_each_block$4(key_1, ctx) {
  let li;
  let behaviourpreview;
  let current;
  function move_handler(...args) {
    return (
      /*move_handler*/
      ctx[10](
        /*behaviour*/
        ctx[13],
        /*i*/
        ctx[15],
        ...args
      )
    );
  }
  function remove_handler() {
    return (
      /*remove_handler*/
      ctx[11](
        /*behaviour*/
        ctx[13]
      )
    );
  }
  behaviourpreview = new BehaviourPreview({
    props: {
      sprite: (
        /*$sSprite*/
        ctx[1]
      ),
      behaviour: (
        /*behaviour*/
        ctx[13]
      )
    }
  });
  behaviourpreview.$on("move", move_handler);
  behaviourpreview.$on("remove", remove_handler);
  return {
    key: key_1,
    first: null,
    c() {
      li = element("li");
      create_component(behaviourpreview.$$.fragment);
      attr(li, "class", "svelte-10d6cnx");
      this.first = li;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      mount_component(behaviourpreview, li, null);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const behaviourpreview_changes = {};
      if (dirty & /*$sSprite*/
      2)
        behaviourpreview_changes.sprite = /*$sSprite*/
        ctx[1];
      if (dirty & /*behaviours*/
      8)
        behaviourpreview_changes.behaviour = /*behaviour*/
        ctx[13];
      behaviourpreview.$set(behaviourpreview_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(behaviourpreview.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(behaviourpreview.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(behaviourpreview);
    }
  };
}
function create_default_slot$4(ctx) {
  let div;
  let button0;
  let t1;
  let button1;
  let t3;
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  let mounted;
  let dispose;
  const if_block_creators = [create_if_block$4, create_if_block_1$1];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*mode*/
      ctx2[2] == "draw"
    )
      return 0;
    if (
      /*mode*/
      ctx2[2] == "script"
    )
      return 1;
    return -1;
  }
  if (~(current_block_type_index = select_block_type(ctx))) {
    if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  }
  return {
    c() {
      div = element("div");
      button0 = element("button");
      button0.textContent = "draw";
      t1 = space();
      button1 = element("button");
      button1.textContent = "script";
      t3 = space();
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
      attr(button0, "class", "svelte-10d6cnx");
      toggle_class(
        button0,
        "selected",
        /*mode*/
        ctx[2] == "draw"
      );
      attr(button1, "class", "svelte-10d6cnx");
      toggle_class(
        button1,
        "selected",
        /*mode*/
        ctx[2] == "script"
      );
      attr(div, "class", "modes svelte-10d6cnx");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, button0);
      append(div, t1);
      append(div, button1);
      insert(target, t3, anchor);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].m(target, anchor);
      }
      insert(target, if_block_anchor, anchor);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[8]
          ),
          listen(
            button1,
            "click",
            /*click_handler_1*/
            ctx[9]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (!current || dirty & /*mode*/
      4) {
        toggle_class(
          button0,
          "selected",
          /*mode*/
          ctx2[2] == "draw"
        );
      }
      if (!current || dirty & /*mode*/
      4) {
        toggle_class(
          button1,
          "selected",
          /*mode*/
          ctx2[2] == "script"
        );
      }
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if (~current_block_type_index) {
          if_blocks[current_block_type_index].p(ctx2, dirty);
        }
      } else {
        if (if_block) {
          group_outros();
          transition_out(if_blocks[previous_block_index], 1, 1, () => {
            if_blocks[previous_block_index] = null;
          });
          check_outros();
        }
        if (~current_block_type_index) {
          if_block = if_blocks[current_block_type_index];
          if (!if_block) {
            if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
            if_block.c();
          } else {
            if_block.p(ctx2, dirty);
          }
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        } else {
          if_block = null;
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (detaching)
        detach(t3);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].d(detaching);
      }
      if (detaching)
        detach(if_block_anchor);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$9(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      autoFocus: true,
      contentMinWidth: 240,
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$4] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, $sSprite, mode, behaviours*/
      65550) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$9($$self, $$props, $$invalidate) {
  let behaviours;
  let $sSprite;
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { card } = $$props;
  console.log(`open sprite ${card.uuid}`);
  let sSprite = resourceManager.get().getResourceStore(card.uuid);
  component_subscribe($$self, sSprite, (value) => $$invalidate(1, $sSprite = value));
  card.className = "sprite-editor";
  card.position.width = 350;
  let mode = "draw";
  function removeBehaviour(behaviour) {
    $sSprite.removeBehaviour(behaviour);
    sSprite.set($sSprite);
  }
  function reinsertBehaviour(behaviour, position) {
    let curIndex = $sSprite.behaviours.indexOf(behaviour);
    if (curIndex < 0)
      return;
    position = Math.min(Math.max(position, 0), behaviours.length);
    $sSprite.behaviours.splice(curIndex, 1);
    $sSprite.behaviours.splice(position, 0, behaviour);
    sSprite.set($sSprite);
  }
  function addBehaviour() {
    return __awaiter2(this, void 0, void 0, function* () {
      let result = yield new Promise((resolve) => blockingPopup.set({
        componentType: SelectBehaviourPopUp,
        data: {},
        resolve
      }));
      if (result instanceof Behaviour || result instanceof BehaviourLink) {
        let b = result;
        let uuid = b instanceof BehaviourLink ? b.uuid : `${$sSprite.uuid}/${b.uuid}`;
        if (!(b instanceof BehaviourLink))
          openCard(BehaviourEditor, true, uuid);
        $sSprite.addBehaviour(result);
        sSprite.set($sSprite);
      }
    });
  }
  const click_handler = () => $$invalidate(2, mode = "draw");
  const click_handler_1 = () => $$invalidate(2, mode = "script");
  const move_handler = (behaviour, i, evt) => reinsertBehaviour(behaviour, i + evt.detail);
  const remove_handler = (behaviour) => removeBehaviour(behaviour);
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$sSprite, card*/
    3) {
      {
        $$invalidate(
          0,
          card.name = $sSprite === null || $sSprite === void 0 ? void 0 : $sSprite.name,
          card
        );
        $$invalidate(0, card), $$invalidate(1, $sSprite);
      }
    }
    if ($$self.$$.dirty & /*$sSprite*/
    2) {
      $$invalidate(3, behaviours = $sSprite.resolveBehaviours());
    }
  };
  return [
    card,
    $sSprite,
    mode,
    behaviours,
    sSprite,
    removeBehaviour,
    reinsertBehaviour,
    addBehaviour,
    click_handler,
    click_handler_1,
    move_handler,
    remove_handler
  ];
}
class SpriteEditor extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$9, create_fragment$9, safe_not_equal, { card: 0 });
  }
}
const ResourceTreeResource_svelte_svelte_type_style_lang = "";
function create_else_block$2(ctx) {
  let t_value = (
    /*selfResource*/
    ctx[0].getIconElement() + ""
  );
  let t;
  return {
    c() {
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty & /*selfResource*/
      1 && t_value !== (t_value = /*selfResource*/
      ctx2[0].getIconElement() + ""))
        set_data(t, t_value);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block$3(ctx) {
  let spriteicon;
  let current;
  spriteicon = new SpriteIcon({
    props: { spriteID: (
      /*selfResource*/
      ctx[0].uuid
    ) }
  });
  return {
    c() {
      create_component(spriteicon.$$.fragment);
    },
    m(target, anchor) {
      mount_component(spriteicon, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const spriteicon_changes = {};
      if (dirty & /*selfResource*/
      1)
        spriteicon_changes.spriteID = /*selfResource*/
        ctx2[0].uuid;
      spriteicon.$set(spriteicon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(spriteicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(spriteicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(spriteicon, detaching);
    }
  };
}
function create_fragment$8(ctx) {
  let div;
  let span1;
  let span0;
  let current_block_type_index;
  let if_block;
  let t0;
  let button0;
  let t1_value = (
    /*selfResource*/
    ctx[0].name + ""
  );
  let t1;
  let t2;
  let button1;
  let atlasicon0;
  let t3;
  let button2;
  let atlasicon1;
  let div_class_value;
  let current;
  let mounted;
  let dispose;
  const if_block_creators = [create_if_block$3, create_else_block$2];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*selfResource*/
      ctx2[0] instanceof Sprite
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  atlasicon0 = new AtlasIcon({ props: { id: 33 } });
  atlasicon1 = new AtlasIcon({ props: { id: 51 } });
  return {
    c() {
      div = element("div");
      span1 = element("span");
      span0 = element("span");
      if_block.c();
      t0 = space();
      button0 = element("button");
      t1 = text(t1_value);
      t2 = space();
      button1 = element("button");
      create_component(atlasicon0.$$.fragment);
      t3 = space();
      button2 = element("button");
      create_component(atlasicon1.$$.fragment);
      attr(span0, "class", "icon svelte-wko9nl");
      attr(button0, "class", "name borderless svelte-wko9nl");
      attr(button0, "title", "open");
      attr(button1, "class", "borderless svelte-wko9nl");
      attr(button1, "title", "rename");
      attr(button2, "class", "borderless svelte-wko9nl");
      attr(button2, "title", "delete");
      attr(span1, "class", "grabbable container svelte-wko9nl");
      toggle_class(
        span1,
        "drag-hover",
        /*hover*/
        ctx[1]
      );
      attr(div, "draggable", "true");
      attr(div, "class", div_class_value = null_to_empty(`resource-link  resource-${/*selfResource*/
      ctx[0].type}`) + " svelte-wko9nl");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span1);
      append(span1, span0);
      if_blocks[current_block_type_index].m(span0, null);
      append(span1, t0);
      append(span1, button0);
      append(button0, t1);
      append(span1, t2);
      append(span1, button1);
      mount_component(atlasicon0, button1, null);
      append(span1, t3);
      append(span1, button2);
      mount_component(atlasicon1, button2, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[9]
          ),
          listen(
            button1,
            "click",
            /*click_handler_1*/
            ctx[10]
          ),
          listen(
            button2,
            "click",
            /*click_handler_2*/
            ctx[11]
          ),
          listen(div, "dragover", ondragover),
          listen(
            div,
            "dragenter",
            /*ondragenter*/
            ctx[5]
          ),
          listen(
            div,
            "dragleave",
            /*ondragleave*/
            ctx[6]
          ),
          listen(
            div,
            "dragstart",
            /*ondragstart*/
            ctx[7]
          ),
          listen(
            div,
            "drop",
            /*ondrop*/
            ctx[8]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(span0, null);
      }
      if ((!current || dirty & /*selfResource*/
      1) && t1_value !== (t1_value = /*selfResource*/
      ctx2[0].name + ""))
        set_data(t1, t1_value);
      if (!current || dirty & /*hover*/
      2) {
        toggle_class(
          span1,
          "drag-hover",
          /*hover*/
          ctx2[1]
        );
      }
      if (!current || dirty & /*selfResource*/
      1 && div_class_value !== (div_class_value = null_to_empty(`resource-link  resource-${/*selfResource*/
      ctx2[0].type}`) + " svelte-wko9nl")) {
        attr(div, "class", div_class_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      transition_in(atlasicon0.$$.fragment, local);
      transition_in(atlasicon1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      transition_out(atlasicon0.$$.fragment, local);
      transition_out(atlasicon1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if_blocks[current_block_type_index].d();
      destroy_component(atlasicon0);
      destroy_component(atlasicon1);
      mounted = false;
      run_all(dispose);
    }
  };
}
globalThis && globalThis.__awaiter || function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
function openEditorWindow(resource) {
  if (resource instanceof Sprite) {
    openCard(SpriteEditor, true, resource.uuid);
  } else if (resource instanceof Room) {
    openCard(RoomEditor, true, resource.uuid);
  } else if (resource instanceof Behaviour) {
    openCard(BehaviourEditor, true, resource.uuid);
  } else if (resource instanceof SoundEffect) {
    openCard(SoundEffectEditor, true, resource.uuid);
  } else {
    console.log(`no window implemented for ${resource.type}`);
  }
}
function ondragover(evt) {
  evt.preventDefault();
}
function instance$8($$self, $$props, $$invalidate) {
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(12, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { selfResource } = $$props;
  let hover = false;
  function openMe() {
    openEditorWindow(selfResource);
  }
  function deleteMe() {
    return __awaiter2(this, void 0, void 0, function* () {
      let confirmed = yield asyncYesNoPopup(`Delete ${selfResource.name}?`);
      if (confirmed) {
        $resourceManager.deleteResource(selfResource.uuid);
        cards.remove(selfResource.uuid);
        $resourceManager.refresh();
      }
    });
  }
  function renameMe() {
    return __awaiter2(this, void 0, void 0, function* () {
      let name = yield asyncGetTextPopup(`Choose new name:`, selfResource.name);
      if (name) {
        $$invalidate(0, selfResource.name = name, selfResource);
        $resourceManager.refresh();
      }
    });
  }
  function ondragenter(evt) {
    $$invalidate(1, hover = true);
  }
  function ondragleave(evt) {
    $$invalidate(1, hover = false);
  }
  function ondragstart(evt) {
    var _a;
    (_a = evt.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData("text/uuid", selfResource.uuid);
  }
  function ondrop(evt) {
    var _a;
    evt.preventDefault();
    $$invalidate(1, hover = false);
    let otherUUID = (_a = evt.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData("text/uuid");
    if (otherUUID) {
      const _resourceManager = $resourceManager;
      let other = _resourceManager.getResource(otherUUID);
      if (!other) {
        console.log(`could not find ${otherUUID}`);
      } else if (other == selfResource) {
        console.log(`can't move something into itself`);
      }
      if (other.type != selfResource.type) {
        console.log(`can only swap with resources of same type`);
      } else {
        _resourceManager.moveResource(otherUUID, selfResource.uuid);
        _resourceManager.refresh();
      }
    }
  }
  const click_handler = () => openMe();
  const click_handler_1 = () => renameMe();
  const click_handler_2 = () => deleteMe();
  $$self.$$set = ($$props2) => {
    if ("selfResource" in $$props2)
      $$invalidate(0, selfResource = $$props2.selfResource);
  };
  return [
    selfResource,
    hover,
    openMe,
    deleteMe,
    renameMe,
    ondragenter,
    ondragleave,
    ondragstart,
    ondrop,
    click_handler,
    click_handler_1,
    click_handler_2
  ];
}
class ResourceTreeResource extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$8, create_fragment$8, safe_not_equal, { selfResource: 0 });
  }
}
const ResourcesFolder_svelte_svelte_type_style_lang = "";
function create_if_block$2(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment$7(ctx) {
  let div;
  let button0;
  let atlasicon0;
  let t0;
  let span0;
  let t2;
  let span1;
  let t3;
  let t4;
  let button1;
  let atlasicon1;
  let t5;
  let t6;
  let if_block_anchor;
  let current;
  let mounted;
  let dispose;
  atlasicon0 = new AtlasIcon({
    props: { id: (
      /*contentsHidden*/
      ctx[1] ? 4 : 7
    ) }
  });
  atlasicon1 = new AtlasIcon({ props: { id: 22 } });
  let if_block = !/*contentsHidden*/
  ctx[1] && create_if_block$2(ctx);
  return {
    c() {
      div = element("div");
      button0 = element("button");
      create_component(atlasicon0.$$.fragment);
      t0 = space();
      span0 = element("span");
      span0.textContent = "";
      t2 = space();
      span1 = element("span");
      t3 = text(
        /*displayName*/
        ctx[0]
      );
      t4 = space();
      button1 = element("button");
      create_component(atlasicon1.$$.fragment);
      t5 = text("\r\n        new");
      t6 = space();
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
      attr(button0, "class", "fold borderless svelte-bf2bgp");
      attr(span0, "class", "icon svelte-bf2bgp");
      attr(span1, "class", "name svelte-bf2bgp");
      attr(button1, "class", "new svelte-bf2bgp");
      attr(div, "class", "resource-link svelte-bf2bgp");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, button0);
      mount_component(atlasicon0, button0, null);
      append(div, t0);
      append(div, span0);
      append(div, t2);
      append(div, span1);
      append(span1, t3);
      append(div, t4);
      append(div, button1);
      mount_component(atlasicon1, button1, null);
      append(button1, t5);
      insert(target, t6, anchor);
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[6]
          ),
          listen(
            button1,
            "click",
            /*click_handler_1*/
            ctx[7]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      const atlasicon0_changes = {};
      if (dirty & /*contentsHidden*/
      2)
        atlasicon0_changes.id = /*contentsHidden*/
        ctx2[1] ? 4 : 7;
      atlasicon0.$set(atlasicon0_changes);
      if (!current || dirty & /*displayName*/
      1)
        set_data(
          t3,
          /*displayName*/
          ctx2[0]
        );
      if (!/*contentsHidden*/
      ctx2[1]) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & /*contentsHidden*/
          2) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block$2(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon0.$$.fragment, local);
      transition_in(atlasicon1.$$.fragment, local);
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(atlasicon0.$$.fragment, local);
      transition_out(atlasicon1.$$.fragment, local);
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(atlasicon0);
      destroy_component(atlasicon1);
      if (detaching)
        detach(t6);
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance$7($$self, $$props, $$invalidate) {
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(8, $resourceManager = $$value));
  let { $$slots: slots = {}, $$scope } = $$props;
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { resourceConstructor } = $$props;
  let { displayName } = $$props;
  let contentsHidden = false;
  let resourceName = resourceConstructor == Sprite ? "sprite" : resourceConstructor == Room ? "room" : resourceConstructor == Behaviour ? "script" : resourceConstructor == SoundEffect ? "sound effect" : "null";
  function newResource() {
    return __awaiter2(this, void 0, void 0, function* () {
      let name = yield asyncGetTextPopup(`Name of the ${resourceName}:`, `unnamed ${resourceName}`);
      if (name) {
        let newResource2 = new resourceConstructor(name);
        $resourceManager.addResource(newResource2);
        openEditorWindow(newResource2);
        $$invalidate(1, contentsHidden = false);
      }
    });
  }
  const click_handler = () => $$invalidate(1, contentsHidden = !contentsHidden);
  const click_handler_1 = () => newResource();
  $$self.$$set = ($$props2) => {
    if ("resourceConstructor" in $$props2)
      $$invalidate(3, resourceConstructor = $$props2.resourceConstructor);
    if ("displayName" in $$props2)
      $$invalidate(0, displayName = $$props2.displayName);
    if ("$$scope" in $$props2)
      $$invalidate(4, $$scope = $$props2.$$scope);
  };
  return [
    displayName,
    contentsHidden,
    newResource,
    resourceConstructor,
    $$scope,
    slots,
    click_handler,
    click_handler_1
  ];
}
class ResourcesFolder extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$7, create_fragment$7, safe_not_equal, { resourceConstructor: 3, displayName: 0 });
  }
}
const Resources_svelte_svelte_type_style_lang = "";
function get_each_context$3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[6] = list[i];
  return child_ctx;
}
function get_each_context_1$1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[9] = list[i];
  return child_ctx;
}
function get_each_context_2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[12] = list[i];
  return child_ctx;
}
function get_each_context_3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[15] = list[i];
  return child_ctx;
}
function create_each_block_3(key_1, ctx) {
  let li;
  let resourcetreeresource;
  let t;
  let current;
  resourcetreeresource = new ResourceTreeResource({
    props: { selfResource: (
      /*sprite*/
      ctx[15]
    ) }
  });
  return {
    key: key_1,
    first: null,
    c() {
      li = element("li");
      create_component(resourcetreeresource.$$.fragment);
      t = space();
      attr(li, "class", "svelte-1q73bjx");
      this.first = li;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      mount_component(resourcetreeresource, li, null);
      append(li, t);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const resourcetreeresource_changes = {};
      if (dirty & /*sprites*/
      16)
        resourcetreeresource_changes.selfResource = /*sprite*/
        ctx[15];
      resourcetreeresource.$set(resourcetreeresource_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(resourcetreeresource.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(resourcetreeresource.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(resourcetreeresource);
    }
  };
}
function create_default_slot_4$1(ctx) {
  let ul;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let current;
  let each_value_3 = (
    /*sprites*/
    ctx[4]
  );
  const get_key = (ctx2) => (
    /*sprite*/
    ctx2[15].uuid
  );
  for (let i = 0; i < each_value_3.length; i += 1) {
    let child_ctx = get_each_context_3(ctx, each_value_3, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block_3(key2, child_ctx));
  }
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "resources sprites svelte-1q73bjx");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*sprites*/
      16) {
        each_value_3 = /*sprites*/
        ctx2[4];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value_3, each_1_lookup, ul, outro_and_destroy_block, create_each_block_3, null, get_each_context_3);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_3.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
    }
  };
}
function create_each_block_2(key_1, ctx) {
  let li;
  let resourcetreeresource;
  let t;
  let current;
  resourcetreeresource = new ResourceTreeResource({
    props: { selfResource: (
      /*room*/
      ctx[12]
    ) }
  });
  return {
    key: key_1,
    first: null,
    c() {
      li = element("li");
      create_component(resourcetreeresource.$$.fragment);
      t = space();
      attr(li, "class", "svelte-1q73bjx");
      this.first = li;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      mount_component(resourcetreeresource, li, null);
      append(li, t);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const resourcetreeresource_changes = {};
      if (dirty & /*rooms*/
      8)
        resourcetreeresource_changes.selfResource = /*room*/
        ctx[12];
      resourcetreeresource.$set(resourcetreeresource_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(resourcetreeresource.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(resourcetreeresource.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(resourcetreeresource);
    }
  };
}
function create_default_slot_3$1(ctx) {
  let ul;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let current;
  let each_value_2 = (
    /*rooms*/
    ctx[3]
  );
  const get_key = (ctx2) => (
    /*room*/
    ctx2[12].uuid
  );
  for (let i = 0; i < each_value_2.length; i += 1) {
    let child_ctx = get_each_context_2(ctx, each_value_2, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block_2(key2, child_ctx));
  }
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "resources sprites svelte-1q73bjx");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*rooms*/
      8) {
        each_value_2 = /*rooms*/
        ctx2[3];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value_2, each_1_lookup, ul, outro_and_destroy_block, create_each_block_2, null, get_each_context_2);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_2.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
    }
  };
}
function create_each_block_1$1(key_1, ctx) {
  let li;
  let resourcetreeresource;
  let t;
  let current;
  resourcetreeresource = new ResourceTreeResource({
    props: { selfResource: (
      /*behaviour*/
      ctx[9]
    ) }
  });
  return {
    key: key_1,
    first: null,
    c() {
      li = element("li");
      create_component(resourcetreeresource.$$.fragment);
      t = space();
      attr(li, "class", "svelte-1q73bjx");
      this.first = li;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      mount_component(resourcetreeresource, li, null);
      append(li, t);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const resourcetreeresource_changes = {};
      if (dirty & /*behaviours*/
      4)
        resourcetreeresource_changes.selfResource = /*behaviour*/
        ctx[9];
      resourcetreeresource.$set(resourcetreeresource_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(resourcetreeresource.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(resourcetreeresource.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(resourcetreeresource);
    }
  };
}
function create_default_slot_2$1(ctx) {
  let ul;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let current;
  let each_value_1 = (
    /*behaviours*/
    ctx[2]
  );
  const get_key = (ctx2) => (
    /*behaviour*/
    ctx2[9].uuid
  );
  for (let i = 0; i < each_value_1.length; i += 1) {
    let child_ctx = get_each_context_1$1(ctx, each_value_1, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block_1$1(key2, child_ctx));
  }
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "resources behaviours svelte-1q73bjx");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*behaviours*/
      4) {
        each_value_1 = /*behaviours*/
        ctx2[2];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value_1, each_1_lookup, ul, outro_and_destroy_block, create_each_block_1$1, null, get_each_context_1$1);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_1.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
    }
  };
}
function create_each_block$3(key_1, ctx) {
  let li;
  let resourcetreeresource;
  let t;
  let current;
  resourcetreeresource = new ResourceTreeResource({
    props: { selfResource: (
      /*soundEffect*/
      ctx[6]
    ) }
  });
  return {
    key: key_1,
    first: null,
    c() {
      li = element("li");
      create_component(resourcetreeresource.$$.fragment);
      t = space();
      attr(li, "class", "svelte-1q73bjx");
      this.first = li;
    },
    m(target, anchor) {
      insert(target, li, anchor);
      mount_component(resourcetreeresource, li, null);
      append(li, t);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const resourcetreeresource_changes = {};
      if (dirty & /*soundEffects*/
      2)
        resourcetreeresource_changes.selfResource = /*soundEffect*/
        ctx[6];
      resourcetreeresource.$set(resourcetreeresource_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(resourcetreeresource.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(resourcetreeresource.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(li);
      destroy_component(resourcetreeresource);
    }
  };
}
function create_default_slot_1$1(ctx) {
  let ul;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let current;
  let each_value = (
    /*soundEffects*/
    ctx[1]
  );
  const get_key = (ctx2) => (
    /*soundEffect*/
    ctx2[6].uuid
  );
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context$3(ctx, each_value, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block$3(key2, child_ctx));
  }
  return {
    c() {
      ul = element("ul");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(ul, "class", "resources sounds svelte-1q73bjx");
    },
    m(target, anchor) {
      insert(target, ul, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(ul, null);
        }
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*soundEffects*/
      2) {
        each_value = /*soundEffects*/
        ctx2[1];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each_1_lookup, ul, outro_and_destroy_block, create_each_block$3, null, get_each_context$3);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(ul);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
    }
  };
}
function create_default_slot$3(ctx) {
  let div;
  let resourcesfolder0;
  let t0;
  let resourcesfolder1;
  let t1;
  let resourcesfolder2;
  let t2;
  let resourcesfolder3;
  let current;
  resourcesfolder0 = new ResourcesFolder({
    props: {
      displayName: "sprites",
      resourceConstructor: Sprite,
      $$slots: { default: [create_default_slot_4$1] },
      $$scope: { ctx }
    }
  });
  resourcesfolder1 = new ResourcesFolder({
    props: {
      displayName: "rooms",
      resourceConstructor: Room,
      $$slots: { default: [create_default_slot_3$1] },
      $$scope: { ctx }
    }
  });
  resourcesfolder2 = new ResourcesFolder({
    props: {
      displayName: "scripts",
      resourceConstructor: Behaviour,
      $$slots: { default: [create_default_slot_2$1] },
      $$scope: { ctx }
    }
  });
  resourcesfolder3 = new ResourcesFolder({
    props: {
      displayName: "sounds",
      resourceConstructor: SoundEffect,
      $$slots: { default: [create_default_slot_1$1] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      div = element("div");
      create_component(resourcesfolder0.$$.fragment);
      t0 = space();
      create_component(resourcesfolder1.$$.fragment);
      t1 = space();
      create_component(resourcesfolder2.$$.fragment);
      t2 = space();
      create_component(resourcesfolder3.$$.fragment);
      attr(div, "class", "scroll-box svelte-1q73bjx");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      mount_component(resourcesfolder0, div, null);
      append(div, t0);
      mount_component(resourcesfolder1, div, null);
      append(div, t1);
      mount_component(resourcesfolder2, div, null);
      append(div, t2);
      mount_component(resourcesfolder3, div, null);
      current = true;
    },
    p(ctx2, dirty) {
      const resourcesfolder0_changes = {};
      if (dirty & /*$$scope, sprites*/
      262160) {
        resourcesfolder0_changes.$$scope = { dirty, ctx: ctx2 };
      }
      resourcesfolder0.$set(resourcesfolder0_changes);
      const resourcesfolder1_changes = {};
      if (dirty & /*$$scope, rooms*/
      262152) {
        resourcesfolder1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      resourcesfolder1.$set(resourcesfolder1_changes);
      const resourcesfolder2_changes = {};
      if (dirty & /*$$scope, behaviours*/
      262148) {
        resourcesfolder2_changes.$$scope = { dirty, ctx: ctx2 };
      }
      resourcesfolder2.$set(resourcesfolder2_changes);
      const resourcesfolder3_changes = {};
      if (dirty & /*$$scope, soundEffects*/
      262146) {
        resourcesfolder3_changes.$$scope = { dirty, ctx: ctx2 };
      }
      resourcesfolder3.$set(resourcesfolder3_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(resourcesfolder0.$$.fragment, local);
      transition_in(resourcesfolder1.$$.fragment, local);
      transition_in(resourcesfolder2.$$.fragment, local);
      transition_in(resourcesfolder3.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(resourcesfolder0.$$.fragment, local);
      transition_out(resourcesfolder1.$$.fragment, local);
      transition_out(resourcesfolder2.$$.fragment, local);
      transition_out(resourcesfolder3.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(resourcesfolder0);
      destroy_component(resourcesfolder1);
      destroy_component(resourcesfolder2);
      destroy_component(resourcesfolder3);
    }
  };
}
function create_fragment$6(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$3] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, soundEffects, behaviours, rooms, sprites*/
      262174) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$6($$self, $$props, $$invalidate) {
  let sprites;
  let rooms;
  let behaviours;
  let soundEffects;
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(5, $resourceManager = $$value));
  let { card } = $$props;
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$resourceManager*/
    32) {
      $$invalidate(4, sprites = $resourceManager.getSprites());
    }
    if ($$self.$$.dirty & /*$resourceManager*/
    32) {
      $$invalidate(3, rooms = $resourceManager.getRooms());
    }
    if ($$self.$$.dirty & /*$resourceManager*/
    32) {
      $$invalidate(2, behaviours = $resourceManager.getBehaviours());
    }
    if ($$self.$$.dirty & /*$resourceManager*/
    32) {
      $$invalidate(1, soundEffects = $resourceManager.getSoundEffects());
    }
  };
  $$invalidate(0, card.name = "resources", card);
  $$invalidate(0, card.className = "resources", card);
  $$invalidate(0, card.position.width = 240, card);
  return [card, soundEffects, behaviours, rooms, sprites, $resourceManager];
}
class Resources extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$6, create_fragment$6, safe_not_equal, { card: 0 });
  }
}
const SaveProjectPopUp_svelte_svelte_type_style_lang = "";
function create_catch_block$2(ctx) {
  return {
    c: noop,
    m: noop,
    p: noop,
    i: noop,
    o: noop,
    d: noop
  };
}
function create_then_block$2(ctx) {
  let selectmenu;
  let updating_currentSelected;
  let t;
  let if_block_anchor;
  let current;
  function selectmenu_currentSelected_binding(value) {
    ctx[3](value);
  }
  let selectmenu_props = { options: (
    /*saveFiles*/
    ctx[7]
  ) };
  if (
    /*currentSelected*/
    ctx[1] !== void 0
  ) {
    selectmenu_props.currentSelected = /*currentSelected*/
    ctx[1];
  }
  selectmenu = new SelectMenu({ props: selectmenu_props });
  binding_callbacks.push(() => bind(selectmenu, "currentSelected", selectmenu_currentSelected_binding));
  function select_block_type(ctx2, dirty) {
    if (
      /*currentSelected*/
      ctx2[1] && /*currentSelected*/
      ctx2[1].id >= 0
    )
      return create_if_block$1;
    return create_else_block$1;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  return {
    c() {
      create_component(selectmenu.$$.fragment);
      t = space();
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      mount_component(selectmenu, target, anchor);
      insert(target, t, anchor);
      if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const selectmenu_changes = {};
      if (!updating_currentSelected && dirty & /*currentSelected*/
      2) {
        updating_currentSelected = true;
        selectmenu_changes.currentSelected = /*currentSelected*/
        ctx2[1];
        add_flush_callback(() => updating_currentSelected = false);
      }
      selectmenu.$set(selectmenu_changes);
      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {
        if_block.p(ctx2, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx2);
        if (if_block) {
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(selectmenu.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(selectmenu.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(selectmenu, detaching);
      if (detaching)
        detach(t);
      if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_else_block$1(ctx) {
  let p;
  return {
    c() {
      p = element("p");
      p.textContent = "";
      attr(p, "class", "confirmText svelte-18mo8lf");
    },
    m(target, anchor) {
      insert(target, p, anchor);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(p);
    }
  };
}
function create_if_block$1(ctx) {
  let p;
  let t0;
  let em;
  let t1_value = (
    /*currentSelected*/
    ctx[1].id + ""
  );
  let t1;
  let t2;
  let t3_value = (
    /*currentSelected*/
    ctx[1].name + ""
  );
  let t3;
  let t4;
  return {
    c() {
      p = element("p");
      t0 = text("replace ");
      em = element("em");
      t1 = text(t1_value);
      t2 = text(" - ");
      t3 = text(t3_value);
      t4 = text("?");
      attr(em, "class", "svelte-18mo8lf");
      attr(p, "class", "confirmText svelte-18mo8lf");
    },
    m(target, anchor) {
      insert(target, p, anchor);
      append(p, t0);
      append(p, em);
      append(em, t1);
      append(em, t2);
      append(em, t3);
      append(p, t4);
    },
    p(ctx2, dirty) {
      if (dirty & /*currentSelected*/
      2 && t1_value !== (t1_value = /*currentSelected*/
      ctx2[1].id + ""))
        set_data(t1, t1_value);
      if (dirty & /*currentSelected*/
      2 && t3_value !== (t3_value = /*currentSelected*/
      ctx2[1].name + ""))
        set_data(t3, t3_value);
    },
    d(detaching) {
      if (detaching)
        detach(p);
    }
  };
}
function create_pending_block$2(ctx) {
  let h4;
  return {
    c() {
      h4 = element("h4");
      h4.textContent = "loading existing saves...";
    },
    m(target, anchor) {
      insert(target, h4, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(h4);
    }
  };
}
function create_default_slot$2(ctx) {
  let div;
  let h3;
  let t1;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$2,
    then: create_then_block$2,
    catch: create_catch_block$2,
    value: 7,
    blocks: [, , ,]
  };
  handle_promise(
    /*saveFilesPromise*/
    ctx[2],
    info
  );
  return {
    c() {
      div = element("div");
      h3 = element("h3");
      h3.textContent = "save project...";
      t1 = space();
      info.block.c();
      attr(div, "class", "container svelte-18mo8lf");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, h3);
      append(div, t1);
      info.block.m(div, info.anchor = null);
      info.mount = () => div;
      info.anchor = null;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block2 = info.blocks[i];
        transition_out(block2);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      info.block.d();
      info.token = null;
      info = null;
    }
  };
}
function create_fragment$5(ctx) {
  let blockingpopup;
  let updating_prompt;
  let current;
  function blockingpopup_prompt_binding(value) {
    ctx[4](value);
  }
  let blockingpopup_props = {
    $$slots: { default: [create_default_slot$2] },
    $$scope: { ctx }
  };
  if (
    /*prompt*/
    ctx[0] !== void 0
  ) {
    blockingpopup_props.prompt = /*prompt*/
    ctx[0];
  }
  blockingpopup = new BlockingPopUp({ props: blockingpopup_props });
  binding_callbacks.push(() => bind(blockingpopup, "prompt", blockingpopup_prompt_binding));
  return {
    c() {
      create_component(blockingpopup.$$.fragment);
    },
    m(target, anchor) {
      mount_component(blockingpopup, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const blockingpopup_changes = {};
      if (dirty & /*$$scope, currentSelected*/
      258) {
        blockingpopup_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (!updating_prompt && dirty & /*prompt*/
      1) {
        updating_prompt = true;
        blockingpopup_changes.prompt = /*prompt*/
        ctx2[0];
        add_flush_callback(() => updating_prompt = false);
      }
      blockingpopup.$set(blockingpopup_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(blockingpopup.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(blockingpopup.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(blockingpopup, detaching);
    }
  };
}
function instance$5($$self, $$props, $$invalidate) {
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { prompt } = $$props;
  let currentSelected = { name: "new save file", id: -1 };
  let saveFilesPromise = getSaveFiles();
  function getSaveFiles() {
    return __awaiter2(this, void 0, void 0, function* () {
      console.log(`- load resource tree from indexed db...`);
      try {
        let files = yield ResourceManager.getSaveFiles();
        let results = files.map((x, i) => {
          var _a;
          return {
            name: `${(_a = x.value.settings) === null || _a === void 0 ? void 0 : _a.title}`,
            id: x.key
          };
        });
        results.unshift(currentSelected);
        return results;
      } catch (e) {
        console.log(`getting data failed: ${e === null || e === void 0 ? void 0 : e.message}`);
        return [];
      }
    });
  }
  function selectmenu_currentSelected_binding(value) {
    currentSelected = value;
    $$invalidate(1, currentSelected);
  }
  function blockingpopup_prompt_binding(value) {
    prompt = value;
    $$invalidate(0, prompt), $$invalidate(1, currentSelected);
  }
  $$self.$$set = ($$props2) => {
    if ("prompt" in $$props2)
      $$invalidate(0, prompt = $$props2.prompt);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*prompt, currentSelected*/
    3) {
      if (prompt)
        $$invalidate(
          0,
          prompt.buttons = [
            {
              text: "save",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(currentSelected)
            },
            {
              text: "cancel",
              callback: () => prompt === null || prompt === void 0 ? void 0 : prompt.resolve(null)
            }
          ],
          prompt
        );
    }
  };
  $$invalidate(0, prompt.text = "", prompt);
  return [
    prompt,
    currentSelected,
    saveFilesPromise,
    selectmenu_currentSelected_binding,
    blockingpopup_prompt_binding
  ];
}
class SaveProjectPopUp extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$5, create_fragment$5, safe_not_equal, { prompt: 0 });
  }
}
const WhackyButton_svelte_svelte_type_style_lang = "";
function create_fragment$4(ctx) {
  let button;
  let current;
  let mounted;
  let dispose;
  const default_slot_template = (
    /*#slots*/
    ctx[5].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[4],
    null
  );
  return {
    c() {
      button = element("button");
      if (default_slot)
        default_slot.c();
      attr(button, "class", "svelte-1jk4d84");
      set_style(button, "transform", `rotate(${/*rotation*/
      ctx[0]}deg) translate(${/*transX*/
      ctx[1]}px,${/*transY*/
      ctx[2]}px)`);
    },
    m(target, anchor) {
      insert(target, button, anchor);
      if (default_slot) {
        default_slot.m(button, null);
      }
      current = true;
      if (!mounted) {
        dispose = listen(
          button,
          "click",
          /*onClick*/
          ctx[3]
        );
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        16)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[4],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[4]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[4],
              dirty,
              null
            ),
            null
          );
        }
      }
      if (dirty & /*rotation, transX, transY*/
      7) {
        set_style(button, "transform", `rotate(${/*rotation*/
        ctx2[0]}deg) translate(${/*transX*/
        ctx2[1]}px,${/*transY*/
        ctx2[2]}px)`);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(button);
      if (default_slot)
        default_slot.d(detaching);
      mounted = false;
      dispose();
    }
  };
}
function instance$4($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const dispatch2 = createEventDispatcher();
  function onClick(event) {
    dispatch2("click", event);
    reroll();
  }
  function reroll() {
    $$invalidate(0, rotation = Math.random() * 4 - 2);
    $$invalidate(1, transX = ~~(Math.random() * 2 - 1));
    $$invalidate(2, transY = ~~(Math.random() * 2 - 1));
  }
  let rotation = 0;
  let transX = 0;
  let transY = 0;
  $$self.$$set = ($$props2) => {
    if ("$$scope" in $$props2)
      $$invalidate(4, $$scope = $$props2.$$scope);
  };
  return [rotation, transX, transY, onClick, $$scope, slots];
}
class WhackyButton extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$4, create_fragment$4, safe_not_equal, {});
  }
}
const Main_svelte_svelte_type_style_lang = "";
function get_each_context$2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[4] = list[i];
  return child_ctx;
}
function create_each_block$2(key_1, ctx) {
  let first;
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = (
    /*card*/
    ctx[4].componentType
  );
  function switch_props(ctx2) {
    return { props: { card: (
      /*card*/
      ctx2[4]
    ) } };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
  }
  return {
    key: key_1,
    first: null,
    c() {
      first = empty();
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
      this.first = first;
    },
    m(target, anchor) {
      insert(target, first, anchor);
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const switch_instance_changes = {};
      if (dirty & /*sortedCards*/
      2)
        switch_instance_changes.card = /*card*/
        ctx[4];
      if (dirty & /*sortedCards*/
      2 && switch_value !== (switch_value = /*card*/
      ctx[4].componentType)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(first);
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_fragment$3(ctx) {
  let main2;
  let div;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let current;
  let each_value = (
    /*sortedCards*/
    ctx[1]
  );
  const get_key = (ctx2) => (
    /*card*/
    ctx2[4].uuid
  );
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context$2(ctx, each_value, i);
    let key2 = get_key(child_ctx);
    each_1_lookup.set(key2, each_blocks[i] = create_each_block$2(key2, child_ctx));
  }
  return {
    c() {
      main2 = element("main");
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(div, "class", "cards svelte-10cvrb4");
      attr(main2, "class", "svelte-10cvrb4");
    },
    m(target, anchor) {
      insert(target, main2, anchor);
      append(main2, div);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      ctx[3](div);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (dirty & /*sortedCards*/
      2) {
        each_value = /*sortedCards*/
        ctx2[1];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each_1_lookup, div, outro_and_destroy_block, create_each_block$2, null, get_each_context$2);
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(main2);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
      ctx[3](null);
    }
  };
}
function instance$3($$self, $$props, $$invalidate) {
  let sortedCards;
  let $cards;
  component_subscribe($$self, cards, ($$value) => $$invalidate(2, $cards = $$value));
  openCard(Resources, false);
  let boundsElmt = null;
  setContext("getCardsBounds", () => boundsElmt);
  function div_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      boundsElmt = $$value;
      $$invalidate(0, boundsElmt);
    });
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*$cards*/
    4) {
      $$invalidate(1, sortedCards = $cards.sort((a, b) => a.position.x - b.position.x));
    }
  };
  return [boundsElmt, sortedCards, $cards, div_binding];
}
class Main extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$3, create_fragment$3, safe_not_equal, {});
  }
}
const version = "1.0.5";
const Settings_svelte_svelte_type_style_lang = "";
function get_each_context$1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  child_ctx[12] = i;
  return child_ctx;
}
function create_each_block$1(ctx) {
  let option;
  let t_value = (
    /*theme*/
    ctx[10].name + ""
  );
  let t;
  let option_value_value;
  return {
    c() {
      option = element("option");
      t = text(t_value);
      option.__value = option_value_value = /*theme*/
      ctx[10].name;
      option.value = option.__value;
    },
    m(target, anchor) {
      insert(target, option, anchor);
      append(option, t);
    },
    p(ctx2, dirty) {
      if (dirty & /*$data*/
      2 && t_value !== (t_value = /*theme*/
      ctx2[10].name + ""))
        set_data(t, t_value);
      if (dirty & /*$data*/
      2 && option_value_value !== (option_value_value = /*theme*/
      ctx2[10].name)) {
        option.__value = option_value_value;
        option.value = option.__value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(option);
    }
  };
}
function create_default_slot$1(ctx) {
  let p0;
  let t2;
  let h20;
  let t4;
  let p1;
  let label0;
  let t6;
  let select;
  let t7;
  let p2;
  let button0;
  let t9;
  let p3;
  let label1;
  let t10;
  let input0;
  let t11;
  let p4;
  let label2;
  let t12;
  let input1;
  let t13;
  let p5;
  let button1;
  let t15;
  let h21;
  let t17;
  let p6;
  let t19;
  let textarea;
  let mounted;
  let dispose;
  let each_value = (
    /*$data*/
    ctx[1].editor.settings.themes
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));
  }
  return {
    c() {
      p0 = element("p");
      p0.textContent = `running tash engine version ${version}`;
      t2 = space();
      h20 = element("h2");
      h20.textContent = "editor:";
      t4 = space();
      p1 = element("p");
      label0 = element("label");
      label0.textContent = "color theme ";
      t6 = space();
      select = element("select");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t7 = space();
      p2 = element("p");
      button0 = element("button");
      button0.textContent = "edit themes";
      t9 = space();
      p3 = element("p");
      label1 = element("label");
      t10 = text("open resources maximized  ");
      input0 = element("input");
      t11 = space();
      p4 = element("p");
      label2 = element("label");
      t12 = text("show warning before leaving app  ");
      input1 = element("input");
      t13 = space();
      p5 = element("p");
      button1 = element("button");
      button1.textContent = "DELETE ALL SAVE DATA";
      t15 = space();
      h21 = element("h2");
      h21.textContent = "game:";
      t17 = space();
      p6 = element("p");
      p6.innerHTML = `<label for="licenseText">license info included in the build:</label>`;
      t19 = space();
      textarea = element("textarea");
      attr(h20, "class", "svelte-8ittxn");
      attr(label0, "for", "theme");
      attr(select, "name", "theme");
      if (
        /*$data*/
        ctx[1].editor.settings.currentTheme === void 0
      )
        add_render_callback(() => (
          /*select_change_handler*/
          ctx[5].call(select)
        ));
      attr(input0, "type", "checkbox");
      attr(input1, "type", "checkbox");
      attr(h21, "class", "svelte-8ittxn");
      attr(textarea, "name", "licenseText");
      attr(textarea, "class", "svelte-8ittxn");
    },
    m(target, anchor) {
      insert(target, p0, anchor);
      insert(target, t2, anchor);
      insert(target, h20, anchor);
      insert(target, t4, anchor);
      insert(target, p1, anchor);
      append(p1, label0);
      append(p1, t6);
      append(p1, select);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(select, null);
        }
      }
      select_option(
        select,
        /*$data*/
        ctx[1].editor.settings.currentTheme,
        true
      );
      insert(target, t7, anchor);
      insert(target, p2, anchor);
      append(p2, button0);
      insert(target, t9, anchor);
      insert(target, p3, anchor);
      append(p3, label1);
      append(label1, t10);
      append(label1, input0);
      input0.checked = /*$data*/
      ctx[1].editor.settings.openResourcesMaximized;
      insert(target, t11, anchor);
      insert(target, p4, anchor);
      append(p4, label2);
      append(label2, t12);
      append(label2, input1);
      input1.checked = /*$data*/
      ctx[1].editor.settings.showWarningBeforeClosingApp;
      insert(target, t13, anchor);
      insert(target, p5, anchor);
      append(p5, button1);
      insert(target, t15, anchor);
      insert(target, h21, anchor);
      insert(target, t17, anchor);
      insert(target, p6, anchor);
      insert(target, t19, anchor);
      insert(target, textarea, anchor);
      set_input_value(
        textarea,
        /*$resourceManager*/
        ctx[2].settings.LICENSE
      );
      if (!mounted) {
        dispose = [
          listen(
            select,
            "change",
            /*select_change_handler*/
            ctx[5]
          ),
          listen(
            button0,
            "click",
            /*editThemes*/
            ctx[4]
          ),
          listen(
            input0,
            "change",
            /*input0_change_handler*/
            ctx[6]
          ),
          listen(
            input1,
            "change",
            /*input1_change_handler*/
            ctx[7]
          ),
          listen(
            button1,
            "click",
            /*deleteData*/
            ctx[3]
          ),
          listen(
            textarea,
            "input",
            /*textarea_input_handler*/
            ctx[8]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & /*$data*/
      2) {
        each_value = /*$data*/
        ctx2[1].editor.settings.themes;
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$1(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$1(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(select, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (dirty & /*$data*/
      2) {
        select_option(
          select,
          /*$data*/
          ctx2[1].editor.settings.currentTheme
        );
      }
      if (dirty & /*$data*/
      2) {
        input0.checked = /*$data*/
        ctx2[1].editor.settings.openResourcesMaximized;
      }
      if (dirty & /*$data*/
      2) {
        input1.checked = /*$data*/
        ctx2[1].editor.settings.showWarningBeforeClosingApp;
      }
      if (dirty & /*$resourceManager*/
      4) {
        set_input_value(
          textarea,
          /*$resourceManager*/
          ctx2[2].settings.LICENSE
        );
      }
    },
    d(detaching) {
      if (detaching)
        detach(p0);
      if (detaching)
        detach(t2);
      if (detaching)
        detach(h20);
      if (detaching)
        detach(t4);
      if (detaching)
        detach(p1);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(t7);
      if (detaching)
        detach(p2);
      if (detaching)
        detach(t9);
      if (detaching)
        detach(p3);
      if (detaching)
        detach(t11);
      if (detaching)
        detach(p4);
      if (detaching)
        detach(t13);
      if (detaching)
        detach(p5);
      if (detaching)
        detach(t15);
      if (detaching)
        detach(h21);
      if (detaching)
        detach(t17);
      if (detaching)
        detach(p6);
      if (detaching)
        detach(t19);
      if (detaching)
        detach(textarea);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$2(ctx) {
  let card_1;
  let current;
  card_1 = new Card({
    props: {
      card: (
        /*card*/
        ctx[0]
      ),
      $$slots: { default: [create_default_slot$1] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(card_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(card_1, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const card_1_changes = {};
      if (dirty & /*card*/
      1)
        card_1_changes.card = /*card*/
        ctx2[0];
      if (dirty & /*$$scope, $resourceManager, $data*/
      8198) {
        card_1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      card_1.$set(card_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(card_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(card_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(card_1, detaching);
    }
  };
}
function instance$2($$self, $$props, $$invalidate) {
  let $data;
  let $resourceManager;
  component_subscribe($$self, data, ($$value) => $$invalidate(1, $data = $$value));
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(2, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let { card } = $$props;
  function deleteData() {
    return __awaiter2(this, void 0, void 0, function* () {
      (yield asyncYesNoPopup(`Do you REALLY want to delete all save data?

 This includes all saved projects on this domain (${location.host})?`)) && deleteDatabase();
    });
  }
  function editThemes() {
    return __awaiter2(this, void 0, void 0, function* () {
      let result = yield asyncGetTextPopup("enter valid json:", JSON.stringify($data.editor.settings.themes, void 0, 2));
      if (result) {
        try {
          let themes = JSON.parse(result);
          if (themes instanceof Array) {
            set_store_value(data, $data.editor.settings.themes = themes, $data);
          }
        } catch (e) {
          console.log("invalid json");
        }
      }
    });
  }
  function select_change_handler() {
    $data.editor.settings.currentTheme = select_value(this);
    data.set($data);
  }
  function input0_change_handler() {
    $data.editor.settings.openResourcesMaximized = this.checked;
    data.set($data);
  }
  function input1_change_handler() {
    $data.editor.settings.showWarningBeforeClosingApp = this.checked;
    data.set($data);
  }
  function textarea_input_handler() {
    $resourceManager.settings.LICENSE = this.value;
    resourceManager.set($resourceManager);
  }
  $$self.$$set = ($$props2) => {
    if ("card" in $$props2)
      $$invalidate(0, card = $$props2.card);
  };
  $$invalidate(0, card.name = "settings", card);
  return [
    card,
    $data,
    $resourceManager,
    deleteData,
    editThemes,
    select_change_handler,
    input0_change_handler,
    input1_change_handler,
    textarea_input_handler
  ];
}
class Settings extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$2, create_fragment$2, safe_not_equal, { card: 0 });
  }
}
const index_svelte_svelte_type_style_lang = "";
const { document: document_1, window: window_1 } = globals;
function create_catch_block_1(ctx) {
  let p;
  let t1;
  let pre0;
  let t2_value = (
    /*err*/
    ctx[38].name + ""
  );
  let t2;
  let t3;
  let pre1;
  let t4_value = (
    /*err*/
    ctx[38].message + ""
  );
  let t4;
  return {
    c() {
      p = element("p");
      p.textContent = "loading the app failed:";
      t1 = space();
      pre0 = element("pre");
      t2 = text(t2_value);
      t3 = space();
      pre1 = element("pre");
      t4 = text(t4_value);
    },
    m(target, anchor) {
      insert(target, p, anchor);
      insert(target, t1, anchor);
      insert(target, pre0, anchor);
      append(pre0, t2);
      insert(target, t3, anchor);
      insert(target, pre1, anchor);
      append(pre1, t4);
    },
    p: noop,
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(p);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(pre0);
      if (detaching)
        detach(t3);
      if (detaching)
        detach(pre1);
    }
  };
}
function create_then_block$1(ctx) {
  let await_block_anchor;
  let promise2;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: true,
    pending: create_pending_block_1,
    then: create_then_block_1,
    catch: create_catch_block$1,
    error: 38,
    blocks: [, , ,]
  };
  handle_promise(promise2 = /*savingPromise*/
  ctx[0], info);
  return {
    c() {
      await_block_anchor = empty();
      info.block.c();
    },
    m(target, anchor) {
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      info.ctx = ctx;
      if (dirty[0] & /*savingPromise*/
      1 && promise2 !== (promise2 = /*savingPromise*/
      ctx[0]) && handle_promise(promise2, info))
        ;
      else {
        update_await_block_branch(info, ctx, dirty);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block2 = info.blocks[i];
        transition_out(block2);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_catch_block$1(ctx) {
  let p;
  let t1;
  let pre0;
  let t2_value = (
    /*err*/
    ctx[38].name + ""
  );
  let t2;
  let t3;
  let pre1;
  let t4_value = (
    /*err*/
    ctx[38].message + ""
  );
  let t4;
  return {
    c() {
      p = element("p");
      p.textContent = "saving failed";
      t1 = space();
      pre0 = element("pre");
      t2 = text(t2_value);
      t3 = space();
      pre1 = element("pre");
      t4 = text(t4_value);
    },
    m(target, anchor) {
      insert(target, p, anchor);
      insert(target, t1, anchor);
      insert(target, pre0, anchor);
      append(pre0, t2);
      insert(target, t3, anchor);
      insert(target, pre1, anchor);
      append(pre1, t4);
    },
    p(ctx2, dirty) {
      if (dirty[0] & /*savingPromise*/
      1 && t2_value !== (t2_value = /*err*/
      ctx2[38].name + ""))
        set_data(t2, t2_value);
      if (dirty[0] & /*savingPromise*/
      1 && t4_value !== (t4_value = /*err*/
      ctx2[38].message + ""))
        set_data(t4, t4_value);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(p);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(pre0);
      if (detaching)
        detach(t3);
      if (detaching)
        detach(pre1);
    }
  };
}
function create_then_block_1(ctx) {
  let header;
  let div;
  let icon;
  let t0;
  let span;
  let t1;
  let input;
  let t2;
  let ul;
  let li0;
  let whackybutton0;
  let t3;
  let li1;
  let whackybutton1;
  let t4;
  let li2;
  let whackybutton2;
  let t5;
  let li3;
  let whackybutton3;
  let t6;
  let li4;
  let whackybutton4;
  let t7;
  let li5;
  let whackybutton5;
  let t8;
  let li6;
  let whackybutton6;
  let t9;
  let li7;
  let whackybutton7;
  let t10;
  let li8;
  let whackybutton8;
  let t11;
  let li9;
  let whackybutton9;
  let t12;
  let li10;
  let whackybutton10;
  let t13;
  let li11;
  let whackybutton11;
  let t14;
  let li12;
  let whackybutton12;
  let t15;
  let li13;
  let whackybutton13;
  let t16;
  let li14;
  let whackybutton14;
  let t17;
  let main_1;
  let current;
  let mounted;
  let dispose;
  icon = new Icon({});
  whackybutton0 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_14] },
      $$scope: { ctx }
    }
  });
  whackybutton0.$on(
    "click",
    /*clearProject*/
    ctx[13]
  );
  whackybutton1 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_13] },
      $$scope: { ctx }
    }
  });
  whackybutton1.$on(
    "click",
    /*click_handler*/
    ctx[17]
  );
  whackybutton2 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_12] },
      $$scope: { ctx }
    }
  });
  whackybutton2.$on(
    "click",
    /*click_handler_1*/
    ctx[18]
  );
  whackybutton3 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_11] },
      $$scope: { ctx }
    }
  });
  whackybutton3.$on(
    "click",
    /*click_handler_2*/
    ctx[19]
  );
  whackybutton4 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_10] },
      $$scope: { ctx }
    }
  });
  whackybutton4.$on(
    "click",
    /*click_handler_3*/
    ctx[20]
  );
  whackybutton5 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_9] },
      $$scope: { ctx }
    }
  });
  whackybutton5.$on(
    "click",
    /*click_handler_4*/
    ctx[21]
  );
  whackybutton6 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_8] },
      $$scope: { ctx }
    }
  });
  whackybutton6.$on(
    "click",
    /*click_handler_5*/
    ctx[22]
  );
  whackybutton7 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_7] },
      $$scope: { ctx }
    }
  });
  whackybutton7.$on(
    "click",
    /*click_handler_6*/
    ctx[23]
  );
  whackybutton8 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_6] },
      $$scope: { ctx }
    }
  });
  whackybutton8.$on(
    "click",
    /*click_handler_7*/
    ctx[24]
  );
  whackybutton9 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_5] },
      $$scope: { ctx }
    }
  });
  whackybutton9.$on(
    "click",
    /*click_handler_8*/
    ctx[25]
  );
  whackybutton10 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_4] },
      $$scope: { ctx }
    }
  });
  whackybutton10.$on(
    "click",
    /*click_handler_9*/
    ctx[26]
  );
  whackybutton11 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_3] },
      $$scope: { ctx }
    }
  });
  whackybutton11.$on(
    "click",
    /*click_handler_10*/
    ctx[27]
  );
  whackybutton12 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_2] },
      $$scope: { ctx }
    }
  });
  whackybutton12.$on(
    "click",
    /*click_handler_11*/
    ctx[28]
  );
  whackybutton13 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot_1] },
      $$scope: { ctx }
    }
  });
  whackybutton13.$on(
    "click",
    /*toggleFullscreen*/
    ctx[11]
  );
  whackybutton14 = new WhackyButton({
    props: {
      $$slots: { default: [create_default_slot] },
      $$scope: { ctx }
    }
  });
  whackybutton14.$on(
    "click",
    /*click_handler_12*/
    ctx[29]
  );
  let main_1_props = {};
  main_1 = new Main({ props: main_1_props });
  ctx[30](main_1);
  return {
    c() {
      header = element("header");
      div = element("div");
      create_component(icon.$$.fragment);
      t0 = space();
      span = element("span");
      t1 = space();
      input = element("input");
      t2 = space();
      ul = element("ul");
      li0 = element("li");
      create_component(whackybutton0.$$.fragment);
      t3 = space();
      li1 = element("li");
      create_component(whackybutton1.$$.fragment);
      t4 = space();
      li2 = element("li");
      create_component(whackybutton2.$$.fragment);
      t5 = space();
      li3 = element("li");
      create_component(whackybutton3.$$.fragment);
      t6 = space();
      li4 = element("li");
      create_component(whackybutton4.$$.fragment);
      t7 = space();
      li5 = element("li");
      create_component(whackybutton5.$$.fragment);
      t8 = space();
      li6 = element("li");
      create_component(whackybutton6.$$.fragment);
      t9 = space();
      li7 = element("li");
      create_component(whackybutton7.$$.fragment);
      t10 = space();
      li8 = element("li");
      create_component(whackybutton8.$$.fragment);
      t11 = space();
      li9 = element("li");
      create_component(whackybutton9.$$.fragment);
      t12 = space();
      li10 = element("li");
      create_component(whackybutton10.$$.fragment);
      t13 = space();
      li11 = element("li");
      create_component(whackybutton11.$$.fragment);
      t14 = space();
      li12 = element("li");
      create_component(whackybutton12.$$.fragment);
      t15 = space();
      li13 = element("li");
      create_component(whackybutton13.$$.fragment);
      t16 = space();
      li14 = element("li");
      create_component(whackybutton14.$$.fragment);
      t17 = space();
      create_component(main_1.$$.fragment);
      attr(span, "class", "spacer svelte-1newdmp");
      attr(input, "type", "text");
      attr(input, "class", "svelte-1newdmp");
      attr(div, "class", "svelte-1newdmp");
      attr(li0, "class", "svelte-1newdmp");
      attr(li1, "class", "svelte-1newdmp");
      attr(li2, "class", "svelte-1newdmp");
      attr(li3, "class", "svelte-1newdmp");
      attr(li4, "class", "svelte-1newdmp");
      attr(li5, "class", "svelte-1newdmp");
      attr(li6, "class", "svelte-1newdmp");
      attr(li7, "class", "svelte-1newdmp");
      attr(li8, "class", "svelte-1newdmp");
      attr(li9, "class", "svelte-1newdmp");
      attr(li10, "class", "svelte-1newdmp");
      attr(li11, "class", "svelte-1newdmp");
      attr(li12, "class", "svelte-1newdmp");
      attr(li13, "class", "svelte-1newdmp");
      attr(li14, "class", "svelte-1newdmp");
      attr(ul, "class", "topbar svelte-1newdmp");
      attr(header, "class", "svelte-1newdmp");
    },
    m(target, anchor) {
      insert(target, header, anchor);
      append(header, div);
      mount_component(icon, div, null);
      append(div, t0);
      append(div, span);
      append(div, t1);
      append(div, input);
      set_input_value(
        input,
        /*$resourceManager*/
        ctx[3].settings.title
      );
      append(header, t2);
      append(header, ul);
      append(ul, li0);
      mount_component(whackybutton0, li0, null);
      append(ul, t3);
      append(ul, li1);
      mount_component(whackybutton1, li1, null);
      append(ul, t4);
      append(ul, li2);
      mount_component(whackybutton2, li2, null);
      append(ul, t5);
      append(ul, li3);
      mount_component(whackybutton3, li3, null);
      append(ul, t6);
      append(ul, li4);
      mount_component(whackybutton4, li4, null);
      append(ul, t7);
      append(ul, li5);
      mount_component(whackybutton5, li5, null);
      append(ul, t8);
      append(ul, li6);
      mount_component(whackybutton6, li6, null);
      append(ul, t9);
      append(ul, li7);
      mount_component(whackybutton7, li7, null);
      append(ul, t10);
      append(ul, li8);
      mount_component(whackybutton8, li8, null);
      append(ul, t11);
      append(ul, li9);
      mount_component(whackybutton9, li9, null);
      append(ul, t12);
      append(ul, li10);
      mount_component(whackybutton10, li10, null);
      append(ul, t13);
      append(ul, li11);
      mount_component(whackybutton11, li11, null);
      append(ul, t14);
      append(ul, li12);
      mount_component(whackybutton12, li12, null);
      append(ul, t15);
      append(ul, li13);
      mount_component(whackybutton13, li13, null);
      append(ul, t16);
      append(ul, li14);
      mount_component(whackybutton14, li14, null);
      insert(target, t17, anchor);
      mount_component(main_1, target, anchor);
      current = true;
      if (!mounted) {
        dispose = listen(
          input,
          "input",
          /*input_input_handler*/
          ctx[16]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty[0] & /*$resourceManager*/
      8 && input.value !== /*$resourceManager*/
      ctx2[3].settings.title) {
        set_input_value(
          input,
          /*$resourceManager*/
          ctx2[3].settings.title
        );
      }
      const whackybutton0_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton0_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton0.$set(whackybutton0_changes);
      const whackybutton1_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton1.$set(whackybutton1_changes);
      const whackybutton2_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton2_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton2.$set(whackybutton2_changes);
      const whackybutton3_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton3_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton3.$set(whackybutton3_changes);
      const whackybutton4_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton4_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton4.$set(whackybutton4_changes);
      const whackybutton5_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton5_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton5.$set(whackybutton5_changes);
      const whackybutton6_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton6_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton6.$set(whackybutton6_changes);
      const whackybutton7_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton7_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton7.$set(whackybutton7_changes);
      const whackybutton8_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton8_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton8.$set(whackybutton8_changes);
      const whackybutton9_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton9_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton9.$set(whackybutton9_changes);
      const whackybutton10_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton10_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton10.$set(whackybutton10_changes);
      const whackybutton11_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton11_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton11.$set(whackybutton11_changes);
      const whackybutton12_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton12_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton12.$set(whackybutton12_changes);
      const whackybutton13_changes = {};
      if (dirty[0] & /*isFullscreen*/
      4 | dirty[1] & /*$$scope*/
      256) {
        whackybutton13_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton13.$set(whackybutton13_changes);
      const whackybutton14_changes = {};
      if (dirty[1] & /*$$scope*/
      256) {
        whackybutton14_changes.$$scope = { dirty, ctx: ctx2 };
      }
      whackybutton14.$set(whackybutton14_changes);
      const main_1_changes = {};
      main_1.$set(main_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      transition_in(whackybutton0.$$.fragment, local);
      transition_in(whackybutton1.$$.fragment, local);
      transition_in(whackybutton2.$$.fragment, local);
      transition_in(whackybutton3.$$.fragment, local);
      transition_in(whackybutton4.$$.fragment, local);
      transition_in(whackybutton5.$$.fragment, local);
      transition_in(whackybutton6.$$.fragment, local);
      transition_in(whackybutton7.$$.fragment, local);
      transition_in(whackybutton8.$$.fragment, local);
      transition_in(whackybutton9.$$.fragment, local);
      transition_in(whackybutton10.$$.fragment, local);
      transition_in(whackybutton11.$$.fragment, local);
      transition_in(whackybutton12.$$.fragment, local);
      transition_in(whackybutton13.$$.fragment, local);
      transition_in(whackybutton14.$$.fragment, local);
      transition_in(main_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      transition_out(whackybutton0.$$.fragment, local);
      transition_out(whackybutton1.$$.fragment, local);
      transition_out(whackybutton2.$$.fragment, local);
      transition_out(whackybutton3.$$.fragment, local);
      transition_out(whackybutton4.$$.fragment, local);
      transition_out(whackybutton5.$$.fragment, local);
      transition_out(whackybutton6.$$.fragment, local);
      transition_out(whackybutton7.$$.fragment, local);
      transition_out(whackybutton8.$$.fragment, local);
      transition_out(whackybutton9.$$.fragment, local);
      transition_out(whackybutton10.$$.fragment, local);
      transition_out(whackybutton11.$$.fragment, local);
      transition_out(whackybutton12.$$.fragment, local);
      transition_out(whackybutton13.$$.fragment, local);
      transition_out(whackybutton14.$$.fragment, local);
      transition_out(main_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(header);
      destroy_component(icon);
      destroy_component(whackybutton0);
      destroy_component(whackybutton1);
      destroy_component(whackybutton2);
      destroy_component(whackybutton3);
      destroy_component(whackybutton4);
      destroy_component(whackybutton5);
      destroy_component(whackybutton6);
      destroy_component(whackybutton7);
      destroy_component(whackybutton8);
      destroy_component(whackybutton9);
      destroy_component(whackybutton10);
      destroy_component(whackybutton11);
      destroy_component(whackybutton12);
      destroy_component(whackybutton13);
      destroy_component(whackybutton14);
      if (detaching)
        detach(t17);
      ctx[30](null);
      destroy_component(main_1, detaching);
      mounted = false;
      dispose();
    }
  };
}
function create_default_slot_14(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 33 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" new project");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_13(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 22 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" sprite");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_12(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 22 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" room");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_11(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 22 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" script");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_10(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 22 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" sound");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_9(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 75 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" play");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_8(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 59 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" help");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_7(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 7 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" save");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_6(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 6 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" load");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_5(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 57 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" export (game)");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_4(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 57 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" export (data)");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_3(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 58 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" import");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_2(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 43 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" settings");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_else_block(ctx) {
  let atlasicon;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 20, height: 16 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      current = true;
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
    }
  };
}
function create_if_block_1(ctx) {
  let atlasicon;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 19, height: 16 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      current = true;
    },
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
    }
  };
}
function create_default_slot_1(ctx) {
  let current_block_type_index;
  let if_block;
  let t;
  let current;
  const if_block_creators = [create_if_block_1, create_else_block];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*isFullscreen*/
      ctx2[2]
    )
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      t = text("\r\n                fullscreen");
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index !== previous_block_index) {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        }
        transition_in(if_block, 1);
        if_block.m(t.parentNode, t);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot(ctx) {
  let atlasicon;
  let t;
  let current;
  atlasicon = new AtlasIcon({ props: { id: 11 } });
  return {
    c() {
      create_component(atlasicon.$$.fragment);
      t = text(" resources");
    },
    m(target, anchor) {
      mount_component(atlasicon, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(atlasicon, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_pending_block_1(ctx) {
  let div;
  let icon;
  let t;
  let current;
  icon = new Icon({});
  return {
    c() {
      div = element("div");
      create_component(icon.$$.fragment);
      t = text("\r\n        saving...");
      attr(div, "class", "saving");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      mount_component(icon, div, null);
      append(div, t);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(icon);
    }
  };
}
function create_pending_block$1(ctx) {
  let div;
  let icon;
  let t;
  let current;
  icon = new Icon({});
  return {
    c() {
      div = element("div");
      create_component(icon.$$.fragment);
      t = text("\r\n        loading...");
      attr(div, "class", "loading");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      mount_component(icon, div, null);
      append(div, t);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(icon);
    }
  };
}
function create_if_block(ctx) {
  let switch_instance;
  let updating_prompt;
  let switch_instance_anchor;
  let current;
  function switch_instance_prompt_binding(value) {
    ctx[31](value);
  }
  var switch_value = (
    /*$blockingPopup*/
    ctx[4].componentType
  );
  function switch_props(ctx2) {
    let switch_instance_props = {};
    if (
      /*$blockingPopup*/
      ctx2[4] !== void 0
    ) {
      switch_instance_props.prompt = /*$blockingPopup*/
      ctx2[4];
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = construct_svelte_component(switch_value, switch_props(ctx));
    binding_callbacks.push(() => bind(switch_instance, "prompt", switch_instance_prompt_binding));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance)
        mount_component(switch_instance, target, anchor);
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (!updating_prompt && dirty[0] & /*$blockingPopup*/
      16) {
        updating_prompt = true;
        switch_instance_changes.prompt = /*$blockingPopup*/
        ctx2[4];
        add_flush_callback(() => updating_prompt = false);
      }
      if (dirty[0] & /*$blockingPopup*/
      16 && switch_value !== (switch_value = /*$blockingPopup*/
      ctx2[4].componentType)) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = construct_svelte_component(switch_value, switch_props(ctx2));
          binding_callbacks.push(() => bind(switch_instance, "prompt", switch_instance_prompt_binding));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_fragment$1(ctx) {
  let title_value;
  let html_tag;
  let raw_value = `<!-- ${licenseText} -->`;
  let html_anchor;
  let t0;
  let t1;
  let if_block_anchor;
  let current;
  let mounted;
  let dispose;
  document_1.title = title_value = /*$resourceManager*/
  ctx[3].settings.title + " | trash engine";
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: true,
    pending: create_pending_block$1,
    then: create_then_block$1,
    catch: create_catch_block_1,
    error: 38,
    blocks: [, , ,]
  };
  handle_promise(
    /*initPromise*/
    ctx[5],
    info
  );
  let if_block = (
    /*$blockingPopup*/
    ctx[4] && create_if_block(ctx)
  );
  return {
    c() {
      html_tag = new HtmlTag(false);
      html_anchor = empty();
      t0 = space();
      info.block.c();
      t1 = space();
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
      html_tag.a = html_anchor;
    },
    m(target, anchor) {
      html_tag.m(raw_value, document_1.head);
      append(document_1.head, html_anchor);
      insert(target, t0, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => t1.parentNode;
      info.anchor = t1;
      insert(target, t1, anchor);
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
      if (!mounted) {
        dispose = listen(window_1, "resize", windowResize);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if ((!current || dirty[0] & /*$resourceManager*/
      8) && title_value !== (title_value = /*$resourceManager*/
      ctx[3].settings.title + " | trash engine")) {
        document_1.title = title_value;
      }
      update_await_block_branch(info, ctx, dirty);
      if (
        /*$blockingPopup*/
        ctx[4]
      ) {
        if (if_block) {
          if_block.p(ctx, dirty);
          if (dirty[0] & /*$blockingPopup*/
          16) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block(ctx);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      transition_in(if_block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block2 = info.blocks[i];
        transition_out(block2);
      }
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      detach(html_anchor);
      if (detaching)
        html_tag.d();
      if (detaching)
        detach(t0);
      info.block.d(detaching);
      info.token = null;
      info = null;
      if (detaching)
        detach(t1);
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
      mounted = false;
      dispose();
    }
  };
}
function makeTimedPromise(promise2, milliseconds = 5e3) {
  return new Promise((resolve, reject) => {
    promise2.then(resolve).catch(reject);
    setTimeout(() => reject("timeout"), milliseconds);
  });
}
function _downloadTextFile(filename, textContent, mimeType = "text/plain") {
  var element2 = document.createElement("a");
  element2.setAttribute("href", `data:${mimeType};charset=utf-8,` + encodeURIComponent(textContent));
  element2.setAttribute("download", filename);
  element2.style.display = "none";
  document.body.appendChild(element2);
  element2.click();
  document.body.removeChild(element2);
}
function windowResize() {
  document.body.style.height = `${innerHeight}px`;
}
function instance$1($$self, $$props, $$invalidate) {
  let $resourceManager;
  let $data;
  let $currentTheme;
  let $blockingPopup;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(3, $resourceManager = $$value));
  component_subscribe($$self, data, ($$value) => $$invalidate(14, $data = $$value));
  component_subscribe($$self, currentTheme, ($$value) => $$invalidate(15, $currentTheme = $$value));
  component_subscribe($$self, blockingPopup, ($$value) => $$invalidate(4, $blockingPopup = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let main2;
  let init$12 = () => __awaiter2(void 0, void 0, void 0, function* () {
    console.log("--- window.onload ---");
    (() => __awaiter2(void 0, void 0, void 0, function* () {
      yield new Promise((resolve) => {
        window.addEventListener("mousedown", resolve);
        window.addEventListener("touchstart", resolve);
        window.addEventListener("keydown", resolve);
      });
      SoundEffect.init();
    }))();
    yield init$2(nameConstructorMap);
    console.log("load app...");
    yield load();
    yield resourceManager.get().load();
    yield init();
    console.log("--- --- ---- --- ---");
    console.log("--- loading done ---");
    console.log("--- --- ---- --- ---");
  });
  let initPromise = makeTimedPromise(init$12());
  let savingPromise = new Promise((resolve) => resolve(null));
  function makeNonCrashingPromise(promise2) {
    return new Promise((resolve, reject) => {
      promise2.then(resolve).catch((error) => __awaiter2(this, void 0, void 0, function* () {
        yield asyncInfoPopup(`${error.name}: ${error.message}`);
        resolve(null);
      }));
    });
  }
  function save2(id) {
    return __awaiter2(this, void 0, void 0, function* () {
      let p1 = resourceManager.get().save(id);
      let p2 = data.save();
      $$invalidate(0, savingPromise = makeNonCrashingPromise(makeTimedPromise(Promise.all([p1, p2]))));
    });
  }
  function promptSave() {
    return __awaiter2(this, void 0, void 0, function* () {
      let result = yield new Promise((resolve) => {
        blockingPopup.set({
          componentType: SaveProjectPopUp,
          data: {},
          resolve
        });
      });
      if (result) {
        if (result.id < 0)
          yield save2();
        else
          yield save2(result.id);
      }
    });
  }
  function asyncLoad() {
    return __awaiter2(this, void 0, void 0, function* () {
      let result = yield new Promise((resolve) => {
        blockingPopup.set({
          componentType: LoadProjectPopUp,
          data: {},
          resolve
        });
      });
      if (result) {
        let p1 = resourceManager.get().load(void 0, result.id);
        let p2 = load();
        $$invalidate(0, savingPromise = makeTimedPromise(Promise.all([p1, p2])));
        cards.reset();
      }
    });
  }
  function exportData() {
    return __awaiter2(this, void 0, void 0, function* () {
      let obj = yield resourceManager.get().getSerializedData();
      const textData = JSON.stringify(obj);
      const filename = `${resourceManager.get().settings.title}.json`;
      _downloadTextFile(filename, textData, "text/plain");
    });
  }
  function exportGame() {
    return __awaiter2(this, void 0, void 0, function* () {
      let obj = yield resourceManager.get().getSerializedData();
      let textData = JSON.stringify(obj);
      let htmltext;
      try {
        let gameFileResponse = yield fetch(location.href);
        htmltext = yield gameFileResponse.text();
      } catch (e) {
        throw new Error("There is no way to get the original source for exporting, therefore we can not export the game. Consider running the game in a server environment, or try a different browser.");
      }
      let parser = new DOMParser();
      let htmlDoc = parser.parseFromString(htmltext, "text/html");
      let gameDataElmt = htmlDoc.querySelector("script[type=gamedata]");
      gameDataElmt.textContent = textData;
      let licenseComment = htmlDoc.createComment(`LICENSE (game data): 
${resourceManager.get().settings.LICENSE}
`);
      gameDataElmt.parentElement.insertBefore(licenseComment, gameDataElmt);
      let text2 = htmlDoc.documentElement.innerHTML;
      const filename = `${resourceManager.get().settings.title}.html`;
      _downloadTextFile(filename, text2, "text/html");
    });
  }
  function importData() {
    return __awaiter2(this, void 0, void 0, function* () {
      let element2 = document.createElement("input");
      element2.setAttribute("type", "file");
      element2.style.display = "none";
      document.body.appendChild(element2);
      element2.click();
      let result = yield new Promise((resolve) => element2.addEventListener("change", () => {
        if (element2.files && element2.files[0]) {
          element2.innerHTML = element2.files[0].name;
          resolve(element2.files[0]);
        } else {
          resolve(null);
        }
      }));
      document.body.removeChild(element2);
      if (result) {
        let fileTextContent = yield result.text();
        let gameData = "";
        if (result.type == "text/html") {
          let parser = new DOMParser();
          let htmlDoc = parser.parseFromString(fileTextContent, "text/html");
          gameData = htmlDoc.querySelector("script[type=gamedata]").textContent;
        } else {
          gameData = fileTextContent;
        }
        yield resourceManager.get().load(gameData);
      }
    });
  }
  function keyPress(event) {
    if (event.ctrlKey && event.key == "s") {
      event.preventDefault();
      save2();
    }
  }
  document.onkeydown = keyPress;
  windowResize();
  let isFullscreen = false;
  function toggleFullscreen() {
    if (document.fullscreenElement) {
      document.exitFullscreen();
      $$invalidate(2, isFullscreen = false);
    } else {
      document.body.parentElement.requestFullscreen();
      $$invalidate(2, isFullscreen = true);
    }
  }
  function newResource(resourceName, resourceConstructor) {
    return __awaiter2(this, void 0, void 0, function* () {
      let name = yield asyncGetTextPopup(`Name of the ${resourceName}:`, `unnamed ${resourceName}`);
      if (name) {
        let newResource2 = new resourceConstructor(name);
        $resourceManager.addResource(newResource2);
        openEditorWindow(newResource2);
      }
    });
  }
  function clearProject() {
    return __awaiter2(this, void 0, void 0, function* () {
      let res = yield asyncYesNoPopup("Do you really want to start over?", true);
      if (res) {
        $resourceManager.clear();
        cards.reset();
        openCard(Resources, false);
      }
    });
  }
  function input_input_handler() {
    $resourceManager.settings.title = this.value;
    resourceManager.set($resourceManager);
  }
  const click_handler = () => newResource("sprite", Sprite);
  const click_handler_1 = () => newResource("room", Room);
  const click_handler_2 = () => newResource("script", Behaviour);
  const click_handler_3 = () => newResource("sound", SoundEffect);
  const click_handler_4 = () => openCard(GamePreview, false);
  const click_handler_5 = () => openCard(Reference, false);
  const click_handler_6 = async () => await promptSave();
  const click_handler_7 = async () => await asyncLoad();
  const click_handler_8 = () => exportGame();
  const click_handler_9 = () => exportData();
  const click_handler_10 = () => importData();
  const click_handler_11 = () => openCard(Settings, false);
  const click_handler_12 = () => openCard(Resources, false);
  function main_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      main2 = $$value;
      $$invalidate(1, main2);
    });
  }
  function switch_instance_prompt_binding(value) {
    $blockingPopup = value;
    blockingPopup.set($blockingPopup);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*$currentTheme*/
    32768) {
      {
        let root = document.body;
        root.style.setProperty("--bg-color", $currentTheme.bgColor);
        root.style.setProperty("--main-color", $currentTheme.mainColor);
        root.style.setProperty("--neutral-color", $currentTheme.neutralColor);
        root.style.setProperty("--off-main-color", $currentTheme.offMainColor);
        root.style.setProperty("--off-bg-color", $currentTheme.offBgColor);
      }
    }
    if ($$self.$$.dirty[0] & /*$data*/
    16384) {
      {
        window.onbeforeunload = $data.editor.settings.showWarningBeforeClosingApp && true ? () => true : null;
      }
    }
    if ($$self.$$.dirty[0] & /*savingPromise*/
    1) {
      Promise.all([initPromise, savingPromise]);
    }
  };
  return [
    savingPromise,
    main2,
    isFullscreen,
    $resourceManager,
    $blockingPopup,
    initPromise,
    promptSave,
    asyncLoad,
    exportData,
    exportGame,
    importData,
    toggleFullscreen,
    newResource,
    clearProject,
    $data,
    $currentTheme,
    input_input_handler,
    click_handler,
    click_handler_1,
    click_handler_2,
    click_handler_3,
    click_handler_4,
    click_handler_5,
    click_handler_6,
    click_handler_7,
    click_handler_8,
    click_handler_9,
    click_handler_10,
    click_handler_11,
    click_handler_12,
    main_1_binding,
    switch_instance_prompt_binding
  ];
}
class Routes extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance$1, create_fragment$1, safe_not_equal, {}, null, [-1, -1]);
  }
}
const testPage_svelte_svelte_type_style_lang = "";
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[7] = list[i];
  child_ctx[9] = i;
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[7] = list[i];
  child_ctx[12] = i;
  const constants_0 = (
    /*row*/
    child_ctx[9] * 15 + /*column*/
    child_ctx[12]
  );
  child_ctx[10] = constants_0;
  return child_ctx;
}
function create_each_block_1(ctx) {
  let td;
  let atlasicon;
  let t0;
  let t1;
  let current;
  atlasicon = new AtlasIcon({
    props: { id: (
      /*id*/
      ctx[10]
    ), height: 32 }
  });
  return {
    c() {
      td = element("td");
      create_component(atlasicon.$$.fragment);
      t0 = space();
      t1 = text(
        /*id*/
        ctx[10]
      );
      attr(td, "class", "svelte-1e44zoz");
    },
    m(target, anchor) {
      insert(target, td, anchor);
      mount_component(atlasicon, td, null);
      append(td, t0);
      append(td, t1);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      transition_in(atlasicon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(atlasicon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(td);
      destroy_component(atlasicon);
    }
  };
}
function create_each_block(ctx) {
  let tr;
  let t;
  let current;
  let each_value_1 = new Array(15);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  return {
    c() {
      tr = element("tr");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t = space();
    },
    m(target, anchor) {
      insert(target, tr, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(tr, null);
        }
      }
      append(tr, t);
      current = true;
    },
    p: noop,
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value_1.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(tr);
      destroy_each(each_blocks, detaching);
    }
  };
}
function create_catch_block(ctx) {
  return { c: noop, m: noop, p: noop, d: noop };
}
function create_then_block(ctx) {
  let canvas_1;
  return {
    c() {
      canvas_1 = element("canvas");
    },
    m(target, anchor) {
      insert(target, canvas_1, anchor);
      ctx[3](canvas_1);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(canvas_1);
      ctx[3](null);
    }
  };
}
function create_pending_block(ctx) {
  return { c: noop, m: noop, p: noop, d: noop };
}
function create_fragment(ctx) {
  let section;
  let h2;
  let t1;
  let table;
  let t2;
  let current;
  let each_value = new Array(7);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block,
    then: create_then_block,
    catch: create_catch_block
  };
  handle_promise(
    /*setupPromise*/
    ctx[1],
    info
  );
  return {
    c() {
      section = element("section");
      h2 = element("h2");
      h2.textContent = "icons:";
      t1 = space();
      table = element("table");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t2 = space();
      info.block.c();
      attr(h2, "class", "svelte-1e44zoz");
      attr(table, "class", "svelte-1e44zoz");
      attr(section, "class", "svelte-1e44zoz");
    },
    m(target, anchor) {
      insert(target, section, anchor);
      append(section, h2);
      append(section, t1);
      append(section, table);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(table, null);
        }
      }
      append(section, t2);
      info.block.m(section, info.anchor = null);
      info.mount = () => section;
      info.anchor = null;
      current = true;
    },
    p(new_ctx, [dirty]) {
      ctx = new_ctx;
      if (dirty & /*Array*/
      0) {
        each_value = new Array(7);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(table, null);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(section);
      destroy_each(each_blocks, detaching);
      info.block.d();
      info.token = null;
      info = null;
    }
  };
}
function instance($$self, $$props, $$invalidate) {
  let $resourceManager;
  component_subscribe($$self, resourceManager, ($$value) => $$invalidate(4, $resourceManager = $$value));
  var __awaiter2 = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  let canvas = null;
  let spriteMap = null;
  let init2 = () => __awaiter2(void 0, void 0, void 0, function* () {
    console.log("--- window.onload ---");
    yield init$2(nameConstructorMap);
    console.log("load app...");
    yield resourceManager.get().load();
    console.log("--- loading done ---");
    $$invalidate(2, spriteMap = makeSpriteMap($resourceManager.getSprites()));
  });
  let setupPromise = init2();
  function canvas_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      canvas = $$value;
      $$invalidate(0, canvas), $$invalidate(2, spriteMap);
    });
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*canvas, spriteMap*/
    5) {
      {
        if (canvas && spriteMap) {
          $$invalidate(0, canvas.width = spriteMap.canvas.width, canvas);
          $$invalidate(0, canvas.height = spriteMap.canvas.height, canvas);
          canvas.getContext("2d").drawImage(spriteMap.canvas, 0, 0);
        }
      }
    }
  };
  return [canvas, setupPromise, spriteMap, canvas_1_binding];
}
class TestPage extends SvelteComponent {
  constructor(options) {
    super();
    init$1(this, options, instance, create_fragment, safe_not_equal, {});
  }
}
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
let customGameData = getDocumentGameData();
let isGame = urlParams.has("game") || !!customGameData;
let isEditor = urlParams.has("editor");
let isTestpage = urlParams.has("testpage");
if (isGame && !isEditor) {
  new Game_1({
    // target: document.getElementById('app')
    target: document.body
  });
} else if (isTestpage) {
  new TestPage({
    target: document.body
  });
} else {
  new Routes({
    // target: document.getElementById('app')
    target: document.body
  });
}

</script>
    <style>
/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}div.svelte-1ialrc4{background-color:var(--main-color);mask-image:var(--svg-kenney-icons);-webkit-mask-image:var(--svg-kenney-icons);display:inline-block;vertical-align:bottom}textarea.svelte-11o6ku6{flex-grow:1;overflow-wrap:normal;width:100%;resize:vertical}p.svelte-11o6ku6{margin-top:1rem}li.svelte-11o6ku6{margin:.2rem 0}.syntax-error.svelte-11o6ku6{color:rgb(171, 173, 126)}table.svelte-1e8c01h.svelte-1e8c01h{width:100%}tr.svelte-1e8c01h>td:last-child .svelte-1e8c01h{vertical-align:top}td.svelte-1e8c01h.svelte-1e8c01h{padding:.2rem 0;line-height:150%}td.svelte-1e8c01h>select.svelte-1e8c01h,td.svelte-1e8c01h>input.svelte-1e8c01h{display:block;width:100%}.contains-main.svelte-oyvjet{height:100vh;display:flex;align-items:center;justify-items:center;;}main.svelte-oyvjet{margin:auto}.canvas-2d.svelte-oyvjet,.text-overlay.svelte-oyvjet{position:absolute;color:white}.gametext.svelte-oyvjet{font-size:2rem;text-shadow:.2rem .2rem black;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.request-editor-overlay.svelte-oyvjet{width:100%;height:100%;background-color:var(--bg-color);color:var(--main-color);display:flex;align-items:center;justify-items:center;flex-direction:column;justify-content:center;gap:1rem}* {
    box-sizing: border-box;
}

body {
    --sqrt2: 1.4142;
    --pattern-stop1: calc(var(--sqrt2) * 7px);
    --pattern-stop2: calc(var(--sqrt2) * 8px);

    --stripey-gradient: repeating-linear-gradient(135deg, transparent, 
        transparent var(--pattern-stop1), var(--main-color) var(--pattern-stop1), 
        var(--main-color) var(--pattern-stop2));
}

/* light mode / default */
body {
    --bg-color: #fdfdfd;
    --main-color: #111;
    --neutral-color: #888;
    --off-main-color: #333;
    --off-bg-color: #ccc;
}

body {
    height: 100%;
    overflow: hidden;
    background-color: var(--bg-color);
    color: var(--main-color);

    display: flex;
    flex-direction: column;
}

body, button {
    font-family: "Comic Sans MS", sans-serif;
}

h3 {
    font-size: 1.2rem;
}

textarea {
    background-color: var(--bg-color);
    color: var(--main-color);
    resize: none;
}

button {
    background-color: var(--bg-color);
    color: var(--main-color);
    border-radius: 3px;
    border: 1px solid var(--main-color);
    /* padding: 4px; */
    /* border: none; */
    /* box-shadow: 2px 2px var(--main-color); */
}

button.borderless {
    border: none;
    color: var(--main-color);
    background: none;
    padding: 0;
    padding-bottom: 2px;
    margin: 0;
    box-shadow: none;
}

button.borderless:hover {
    color: var(--main-color);
    background-color: var(--off-bg-color);
}

.dark *[data-background-tweak="light"] button {
    background-color: var(--off-bg-color);
}

.light *[data-background-tweak="dark"] button {
    background-color: var(--off-bg-color);
}


button:hover {
    background-color: var(--neutral-color);
}

button[data-selected="true"] {
    transform: translate(0, -3px);
    transition: transform .1s cubic-bezier(0.075, 0.82, 0.165, 1);
}

button:active {
    transform: translate(1px, 1px);
    box-shadow: 1px 1px;
    color: var(--bg-color);
    background-color: var(--main-color);
}

button:disabled {
    color: var(--off-bg-color);
    border-color: var(--off-bg-color);
    box-shadow: 2px 2px var(--off-bg-color);
    background-color: var(--bg-color);
    transform: none;
}

button.plain {
    transform: none;
    box-shadow: none;
}

em {
    font-weight: bold;
}

span.spacer {
    width: 8px;
}

canvas {
    /* display: block; */
    /* image-rendering: crisp-edges; */
    image-rendering: pixelated;
}

img {
    image-rendering: pixelated;
    pointer-events: none;
}

select, input {
    color: var(--main-color);
    background-color: var(--bg-color);
    border: 1px solid var(--main-color);
}


.card p {
    margin-bottom: 10px;
}

h4 {
    font-size: small;
    font-style: italic;
    margin-bottom: 10px;
}

p.log {
    width: 100%;
    height: calc(100% - 36px);
    font-family: monospace;
    border: 1px dashed var(--main-color);
    overflow-y: scroll;
    user-select: text;
}

.scroll-box {
    border: 1px dashed var(--main-color);
    overflow: scroll;
}

.grabbable {
    cursor: pointer;
    /* cursor: move; fallback if grab cursor is unsupported */
    /* cursor: grab; */
    /* cursor: -moz-grab; */
    /* cursor: -webkit-grab; */
}

 /* (Optional) Apply a "closed-hand" cursor during drag operation. */
.grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
    background-color: var(--neutral-color);
}

.drag-hover {
    /* content: "_"; */
    background-color: var(--neutral-color);
}


/* firefox scrollbars */

* {
    scrollbar-color: var(--off-bg-color) var(--bg-color);
}

/* chrome scrollbars lol */

::-webkit-scrollbar {
    /* display: none; */
    background-color: var(--bg-color);
    color: var(--main-color);
    width: 16px;
    height: 16px;

}

/* disable 'double buttons' */
::-webkit-scrollbar-button:vertical:start:increment,
::-webkit-scrollbar-button:vertical:end:decrement,
::-webkit-scrollbar-button:horizontal:start:increment, 
::-webkit-scrollbar-button:horizontal:end:decrement {
    display: none;
}

::-webkit-scrollbar-button:hover, ::-webkit-scrollbar-thumb:hover {
    background-color: var(--off-bg-color);
}
::-webkit-scrollbar-button:active, ::-webkit-scrollbar-thumb:active {
    background-color: var(--neutral-color);
}
::-webkit-scrollbar-button:vertical:decrement { background-image: var(--svg-up-arrow) }
::-webkit-scrollbar-button:vertical:increment { background-image: var(--svg-down-arrow) }
::-webkit-scrollbar-button:horizontal:decrement { background-image: var(--svg-left-arrow) }
::-webkit-scrollbar-button:horizontal:increment { background-image: var(--svg-right-arrow) }

::-webkit-scrollbar-button {
    /* background-color: var(--off-bg-color); */
    color: var(--main-color);
    height: 1em;
    width: 16px;
    height: 16px;
}

::-webkit-scrollbar-track { /* Background */
    background-color: var(--bg-color);
}

::-webkit-scrollbar-thumb { /* Foreground */
    background-color: var(--off-bg-color);
}

::-webkit-scrollbar-corner {
    background-color: var(--bg-color);
}


/* text-like environments */

.document {
    user-select: text;
}

.document h1 {
    font-size: larger;
    font-weight: bold;
    margin-top: 2em;
    margin-bottom: 1em;
}

.document h2 {
    font-size: large;
    font-weight: bold;
    margin-top: 2em;
    margin-bottom: 1em;
}

.document h3 {
    /* font-weight: bold; */
    text-decoration: underline;
    margin-top: .8em;
    margin-bottom: .5em;
}

.document p, .document ol, .document ul {
    margin-top: .5em;
    margin-bottom: 1em;

    font-size: 90%;
    line-height: 150%;
}

.document li>ol, .document li>ul {
    margin-top: .25em;
    margin-bottom: .25em;
}

.document ul {
    list-style: circle; 
}

.document ol {
    list-style: decimal;
}

.document li {
    margin-left: 1.5em;
    margin-top: .25em;
    margin-bottom: .25em;
}

.document table {
    border-collapse: collapse;
    /* empty-cells: hide; */
}

.document td, .document th {
    border: 1px solid var(--main-color);
    padding: .5em;
}

.document code {
    font-family: monospace;
    background-color: var(--off-bg-color);
    /* border: 1px solid var(--main-color); */
    padding: 1px 2px;
}

.document pre {
    overflow-x: scroll;
}

.document pre code {
    background-color: var(--bg-color);
}

.document pre {
    border: 1px solid var(--main-color);
    padding: .6em .4em;
}:root {
    --svg-left-arrow: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' height='16' width='16' xml:space='preserve' viewBox='0 0 16 16' y='0px' x='0px' id='Capa_1' version='1.1'%3E%3Cmetadata id='metadata43'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3Ccc:license rdf:resource='http://creativecommons.org/publicdomain/zero/1.0/' /%3E%3C/cc:Work%3E%3Ccc:License rdf:about='http://creativecommons.org/publicdomain/zero/1.0/'%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Reproduction' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Distribution' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23DerivativeWorks' /%3E%3C/cc:License%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cdefs id='defs41' /%3E%3Cpath id='rect4555' d='m 9.5004599,3.0013404 -5,5.0000002 5,5.0000004 1.5000011,-1.5 L 7.5004599,8.0013406 11.000461,4.5013404 Z' style='color:%23000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:0.96399997;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;vector-effect:none;fill:%236d6d6d;fill-opacity:0.98571424;fill-rule:evenodd;stroke:none;stroke-width:2.12050462;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate' /%3E%3C/svg%3E");

    --svg-right-arrow: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' height='16' width='16' xml:space='preserve' viewBox='0 0 16 16' y='0px' x='0px' id='Capa_1' version='1.1'%3E%3Cmetadata id='metadata43'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3Ccc:license rdf:resource='http://creativecommons.org/publicdomain/zero/1.0/' /%3E%3C/cc:Work%3E%3Ccc:License rdf:about='http://creativecommons.org/publicdomain/zero/1.0/'%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Reproduction' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Distribution' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23DerivativeWorks' /%3E%3C/cc:License%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cdefs id='defs41' /%3E%3Cpath id='rect4555' d='M 6.4910573,13.002161 11.491057,8.0021606 6.4910573,3.0021602 l -1.5000011,1.5 3.5000011,3.5000004 -3.5000011,3.5000004 z' style='color:%23000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:0.96399997;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;vector-effect:none;fill:%236d6d6d;fill-opacity:0.98571424;fill-rule:evenodd;stroke:none;stroke-width:2.12050462;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate' /%3E%3C/svg%3E%0A");

    --svg-up-arrow: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' height='16' width='16' xml:space='preserve' viewBox='0 0 16 16' y='0px' x='0px' id='Capa_1' version='1.1'%3E%3Cmetadata id='metadata43'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3Ccc:license rdf:resource='http://creativecommons.org/publicdomain/zero/1.0/' /%3E%3C/cc:Work%3E%3Ccc:License rdf:about='http://creativecommons.org/publicdomain/zero/1.0/'%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Reproduction' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Distribution' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23DerivativeWorks' /%3E%3C/cc:License%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cdefs id='defs41' /%3E%3Cpath id='rect4555' d='m 12.996169,9.5064519 -5.0000004,-5 -5.0000004,5 1.5,1.5000011 3.5000004,-3.5000011 3.5000004,3.5000011 z' style='color:%23000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:0.96399997;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;vector-effect:none;fill:%236d6d6d;fill-opacity:0.98571424;fill-rule:evenodd;stroke:none;stroke-width:2.12050462;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate' /%3E%3C/svg%3E");

    --svg-down-arrow: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' height='16' width='16' xml:space='preserve' viewBox='0 0 16 16' y='0px' x='0px' id='Capa_1' version='1.1'%3E%3Cmetadata id='metadata43'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3Ccc:license rdf:resource='http://creativecommons.org/publicdomain/zero/1.0/' /%3E%3C/cc:Work%3E%3Ccc:License rdf:about='http://creativecommons.org/publicdomain/zero/1.0/'%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Reproduction' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23Distribution' /%3E%3Ccc:permits rdf:resource='http://creativecommons.org/ns%23DerivativeWorks' /%3E%3C/cc:License%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cdefs id='defs41' /%3E%3Cpath id='rect4555' d='m 2.9953482,6.4970493 5.0000004,4.9999997 5.0000004,-4.9999997 -1.5,-1.5000011 L 7.9953486,8.4970493 4.4953482,4.9970482 Z' style='color:%23000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:0.96399997;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;vector-effect:none;fill:%236d6d6d;fill-opacity:0.98571424;fill-rule:evenodd;stroke:none;stroke-width:2.12050462;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate' /%3E%3C/svg%3E");

    --svg-kenney-icons: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='750' height='350'%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke='none' fill='%23FFFFFF' d='M739.05 10.1 L739.05 38.1 Q739.05 38.95 738.45 39.55 737.85 40.1 737.05 40.1 L729.05 40.1 Q728.2 40.1 727.6 39.55 727.05 38.95 727.05 38.1 L727.05 10.15 Q727.05 9.3 727.6 8.7 728.2 8.1 729.05 8.1 L737.05 8.1 Q737.85 8.1 738.45 8.7 739.05 9.3 739.05 10.1 M733.5 66 L733.9 65.5 Q735.3 64.1 737.2 64.1 739.15 64.1 740.55 65.5 741.9 66.9 741.9 68.85 741.9 70.75 740.55 72.15 742.1 72.8 743.4 74.15 745.95 76.75 745.95 80.4 L745.95 80.45 Q745.95 82.4 743.4 83.7 741.7 84.65 739.55 84.95 L739.55 84.8 739.55 84.75 Q739.55 78.85 735.4 74.7 L735.4 74.65 733.35 72.95 733.65 72.25 733.85 72.15 733.7 72.05 Q734.1 70.75 734.1 69.4 734.1 67.55 733.5 66 M730.9 74.2 Q732.45 75.05 733.75 76.35 737.2 79.85 737.2 84.75 L737.2 84.8 737.2 85.1 Q737 87.5 733.75 89.2 730.35 91 725.5 91 720.65 91 717.2 89.2 714 87.5 713.8 85.1 L713.8 84.8 713.8 84.75 Q713.8 79.85 717.2 76.35 718.55 75.05 720.05 74.2 L721 73.75 Q719.25 71.95 719.25 69.4 719.25 66.75 721.1 64.9 722.9 63 725.5 63 728.1 63 729.95 64.9 731.75 66.75 731.75 69.4 731.75 71.95 730 73.75 L730.9 74.2 M722.45 8.7 Q723.05 9.3 723.05 10.1 L723.05 38.1 Q723.05 38.95 722.45 39.55 721.85 40.1 721.05 40.1 L713.05 40.1 Q712.2 40.1 711.6 39.55 711.05 38.95 711.05 38.1 L711.05 10.15 Q711.05 9.3 711.6 8.7 712.2 8.1 713.05 8.1 L721.05 8.1 Q721.85 8.1 722.45 8.7 M691 10 L691 38 Q691 38.85 690.4 39.45 689.8 40 689 40 L685 40 Q684.15 40 683.55 39.45 683 38.85 683 38 L683 10.05 Q683 9.2 683.55 8.6 684.15 8 685 8 L689 8 Q689.8 8 690.4 8.6 691 9.2 691 10 M671.55 8.6 Q672.15 8 673 8 L677 8 Q677.8 8 678.4 8.6 679 9.2 679 10 L679 38 Q679 38.85 678.4 39.45 677.8 40 677 40 L673 40 Q672.15 40 671.55 39.45 671 38.85 671 38 L671 10.05 Q671 9.2 671.55 8.6 M659.55 8.6 Q660.15 8 661 8 L665 8 Q665.8 8 666.4 8.6 667 9.2 667 10 L667 38 Q667 38.85 666.4 39.45 665.8 40 665 40 L661 40 Q660.15 40 659.55 39.45 659 38.85 659 38 L659 10.05 Q659 9.2 659.55 8.6 M677.5 69.45 Q677.5 67.15 679.1 65.6 680.7 64 682.9 64 685.15 64 686.75 65.6 688.3 67.15 688.3 69.45 688.3 71.65 686.75 73.2 688.55 73.95 690.05 75.45 693 78.4 693 82.65 693 84.9 690.05 86.45 687.1 88 682.9 88 L677.75 87.3 Q680.4 85.35 680.2 82.65 680.2 77.85 677 74.35 677.95 73.65 679.05 73.2 677.5 71.65 677.5 69.45 M671.95 73.2 Q673.75 73.95 675.25 75.45 L675.5 75.7 Q678.2 78.6 678.2 82.65 678.2 84.8 675.5 86.3 L675.25 86.45 Q672.3 88 668.1 88 663.9 88 660.95 86.45 658.05 84.9 658 82.65 658 78.4 660.95 75.45 662.45 73.95 664.2 73.2 662.7 71.65 662.7 69.45 662.7 67.15 664.3 65.6 665.85 64 668.1 64 670.35 64 671.95 65.6 673.5 67.15 673.5 69.45 673.5 71.65 671.95 73.2 M717.55 66 Q716.9 67.55 716.9 69.4 716.9 70.75 717.3 72 L717.15 72.15 717.4 72.3 717.65 72.95 Q716.55 73.7 715.6 74.65 L715.6 74.7 Q711.45 78.85 711.45 84.75 L711.45 84.95 Q709.3 84.65 707.6 83.7 705.05 82.4 705 80.45 L705 80.4 Q705 76.75 707.6 74.15 708.85 72.8 710.45 72.15 709.1 70.75 709.1 68.85 709.1 66.9 710.45 65.5 711.85 64.1 713.8 64.1 715.75 64.1 717.15 65.5 L717.55 66 M726 115.7 Q721.85 115.7 718.9 118.6 715.95 121.55 715.95 125.7 715.95 129.9 718.9 132.8 721.85 135.75 726 135.75 730.15 135.75 733.1 132.8 L733.15 132.8 Q736.05 129.9 736.05 125.7 736.05 121.55 733.15 118.6 730.15 115.7 726 115.7 M726 120.05 Q728.35 120.05 730 121.7 731.65 123.35 731.65 125.7 731.65 128.05 730 129.7 728.35 131.4 726 131.4 723.6 131.4 721.95 129.7 720.35 128.05 720.35 125.7 720.35 123.35 721.95 121.7 723.6 120.05 726 120.05 M714.7 114.35 Q719.4 109.7 726 109.7 732.6 109.7 737.3 114.4 742 119.1 742 125.7 742 132.35 737.3 137.05 732.6 141.7 726 141.7 719.4 141.7 714.7 137.05 710 132.35 710 125.7 710 119.1 714.65 114.4 L714.7 114.4 714.7 114.35 M690.8 119.8 Q692 122.65 692 126 692 126.5 691.65 126.85 691.3 127.2 690.8 127.2 L687.5 127.2 687.1 129.25 690.2 130.55 690.85 131.2 Q691.05 131.65 690.85 132.1 689.7 134.95 687.3 137.35 L686.5 137.65 685.65 137.35 683.3 135 681.55 136.2 682.85 139.25 Q683.05 139.7 682.85 140.15 L682.2 140.8 Q679.35 142 676 142 675.5 142 675.15 141.65 674.8 141.3 674.8 140.8 L674.8 137.5 672.75 137.15 671.5 140.2 670.85 140.85 Q670.4 141.05 669.95 140.85 667.05 139.7 664.7 137.35 664.35 137 664.35 136.5 664.35 136 664.7 135.65 L667.05 133.3 665.85 131.55 662.75 132.85 Q662.3 133.05 661.85 132.85 L661.2 132.2 Q660 129.35 660 126 660 125.5 660.35 125.15 660.7 124.8 661.2 124.8 L664.5 124.8 664.9 122.75 661.8 121.5 661.15 120.85 Q660.95 120.4 661.15 119.95 662.3 117.05 664.7 114.7 665.05 114.35 665.5 114.35 666 114.35 666.35 114.7 L668.7 117.05 Q669.55 116.35 670.45 115.85 L669.15 112.75 Q668.95 112.3 669.15 111.85 669.35 111.4 669.8 111.2 672.65 110 676 110 676.5 110 676.85 110.35 677.2 110.7 677.2 111.2 L677.2 114.5 679.25 114.9 680.55 111.8 Q680.7 111.35 681.15 111.15 681.6 110.95 682.1 111.15 683.95 111.9 685.65 113.2 L687.3 114.7 Q687.65 115.05 687.65 115.55 L687.3 116.35 685 118.7 686.15 120.45 689.25 119.15 Q689.7 118.95 690.15 119.15 L690.8 119.8 M676 118.25 Q672.8 118.25 670.5 120.5 668.25 122.8 668.25 126 668.25 129.2 670.5 131.5 672.8 133.75 676 133.75 679.2 133.75 681.5 131.5 683.75 129.2 683.75 126 683.75 122.8 681.5 120.5 679.2 118.25 676 118.25 M676 122.15 Q677.6 122.15 678.75 123.25 679.9 124.4 679.9 126 679.9 127.6 678.75 128.75 677.6 129.9 676 129.9 674.4 129.9 673.25 128.75 672.15 127.6 672.15 126 672.15 124.4 673.25 123.25 674.4 122.15 676 122.15 M679 172 L679 180 671 180 671 172 667 172 667 168 675 160 683 168 683 172 679 172 M665 176 Q665.8 176 666.4 176.6 667 177.2 667 178 L667 184 683 184 683 178.05 Q683 177.2 683.55 176.6 684.15 176 685 176 L689 176 Q689.8 176 690.4 176.6 691 177.2 691 178 L691 190 Q691 190.85 690.4 191.45 689.8 192 689 192 L661 192 Q660.15 192 659.55 191.45 659 190.85 659 190 L659 178.05 Q659 177.2 659.55 176.6 660.15 176 661 176 L665 176 M722.5 167.55 Q721.05 166.05 721.05 164 721.05 161.95 722.5 160.5 724 159 726.05 159 728.15 159 729.6 160.5 L729.55 160.5 Q731.05 162 731.05 164 731.05 166.15 729.55 167.6 L729.55 167.55 Q728.1 169 726.05 169 723.95 169 722.5 167.55 M728.05 171 Q729.25 171 730.15 171.9 731.05 172.8 731.05 174 L731.05 187 732.05 187 Q733.25 187 734.15 187.9 735.05 188.8 735.05 190 L735.05 192 734.75 192.7 734.05 193 718.05 193 Q717.65 193 717.35 192.7 717.05 192.4 717.05 192 L717.05 190.05 Q717.05 188.8 717.9 187.95 L717.9 187.9 Q718.8 187 720.05 187 L721.05 187 721.05 177 718.05 177 Q717.65 177 717.35 176.7 717.05 176.4 717.05 176 L717.05 172 Q717.05 171.6 717.35 171.3 717.65 171 718.05 171 L728.05 171 M732.7 222.3 L733 223 733 231 732.7 231.7 Q732.4 232 732 232 L725 232 725 237 724.7 237.7 724 238 720 238 719.3 237.7 709.3 227.7 Q709 227.4 709 227 709 226.6 709.3 226.3 L719.3 216.3 Q719.6 216 720 216 L724 216 Q724.4 216 724.7 216.3 L725 217 725 222 732 222 Q732.4 222 732.7 222.3 M732 272 Q732 269.5 730.25 267.75 728.5 266 726 266 723.45 266 721.7 267.75 720 269.5 720 272 720 274.45 721.7 276.2 723.45 278 726 278 728.5 278 730.25 276.2 732 274.45 732 272 M739.45 213.6 Q740 214.2 740 215.05 L740 239 Q740 239.85 739.45 240.45 738.85 241 738 241 L728 241 728 237 736 237 736 217 728 217 728 213 738 213 Q738.85 213 739.45 213.6 M738 271.95 Q738 275.95 735.7 279.05 L735.75 279.1 740.8 287.9 740.95 288.55 740.45 289.1 739.8 289.25 735.1 288 733.85 292.7 733.35 293.2 732.7 293.3 732.15 292.9 727.1 284.1 727.05 283.95 726 284 724.9 283.95 724.8 284.1 719.75 292.9 719.2 293.3 718.55 293.2 718.05 292.7 716.8 288 712.1 289.25 711.45 289.1 710.95 288.55 Q710.9 288.2 711.1 287.9 L716.15 279.1 716.25 279 Q714 275.95 714 271.95 714 266.95 717.4 263.45 720.9 260 726 260 731 260 734.5 263.45 738 266.95 738 271.95 M693 227 L692.7 227.7 682.7 237.7 682 238 678 238 677.3 237.7 677 237 677 232 670 232 Q669.6 232 669.3 231.7 669 231.4 669 231 L669 223 Q669 222.6 669.3 222.3 669.6 222 670 222 L677 222 677 217 Q677 216.6 677.3 216.3 677.6 216 678 216 L682 216 Q682.4 216 682.7 216.3 L692.7 226.3 693 227 M674 217 L666 217 666 237 674 237 674 241 664 241 Q663.15 241 662.55 240.45 662 239.85 662 239 L662 215.05 Q662 214.2 662.55 213.6 663.15 213 664 213 L674 213 674 217 M688 271.95 Q688 276.9 684.5 280.4 682.9 282.05 681 282.95 L681 293.05 680.75 293.7 680.1 293.95 679.45 293.75 676 290.3 672.55 293.75 671.9 293.95 671.25 293.7 671 293.05 671 283 Q669.05 282.05 667.4 280.4 664 276.9 664 271.95 664 266.95 667.4 263.45 670.9 260 676 260 681 260 684.5 263.45 688 266.95 688 271.95 M676 266 Q673.45 266 671.7 267.75 670 269.5 670 272 670 274.45 671.7 276.2 673.45 278 676 278 678.5 278 680.25 276.2 682 274.45 682 272 682 269.5 680.25 267.75 678.5 266 676 266 M706 314 L745 314 Q745.8 314 746.4 314.6 747 315.2 747 316 L747 336 Q747 336.85 746.4 337.45 745.8 338 745 338 L706 338 Q705.15 338 704.55 337.45 704 336.85 704 336 L704 316.05 Q704 315.2 704.55 314.6 705.15 314 706 314 M696.4 314.6 Q697 315.2 697 316 L697 336 Q697 336.85 696.4 337.45 L695.95 337.8 695 338 656 338 Q655.15 338 654.55 337.45 654 336.85 654 336 L654 316.05 Q654 315.2 654.55 314.6 655.15 314 656 314 L695 314 695.95 314.25 696.4 314.6 M735.25 327.75 L734.45 326.9 Q733.9 327.65 732.95 327.65 732.3 327.65 731.8 327.2 731.35 326.7 731.35 325.9 731.35 325.15 731.85 324.7 732.35 324.2 733.05 324.2 733.9 324.2 734.5 324.95 L735.3 324.1 Q734.35 323.05 733 323.05 731.75 323.05 730.9 323.85 730.05 324.7 730.05 325.95 730.05 327.2 730.9 328 731.7 328.8 733 328.8 734.3 328.8 735.25 327.75 M740.2 324.25 L740.2 323.15 735.75 323.15 735.75 324.25 737.35 324.25 737.35 328.75 738.6 328.75 738.6 324.25 740.2 324.25 M675.35 326.45 L673.95 326.45 674.65 324.8 675.35 326.45 M675.25 323.15 L674.05 323.15 671.6 328.75 672.95 328.75 673.45 327.55 675.8 327.55 676.3 328.75 677.65 328.75 675.25 323.15 M679.55 326.95 L680.4 326.95 681.65 328.75 683.15 328.75 681.75 326.75 Q682.8 326.35 682.8 325 682.8 324.05 682.25 323.6 681.7 323.15 680.4 323.15 L678.3 323.15 678.3 328.75 679.55 328.75 679.55 326.95 M679.55 324.25 L680.45 324.25 681.3 324.4 681.55 325 681.3 325.7 680.45 325.9 679.55 325.9 679.55 324.25 M686.45 324.25 L688.05 324.25 688.05 323.15 683.6 323.15 683.6 324.25 685.2 324.25 685.2 328.75 686.45 328.75 686.45 324.25 M663.5 324.65 L663.7 324.25 664.2 324.15 Q664.95 324.15 665.7 324.7 L666.35 323.75 665.35 323.2 664.25 323.05 Q663.35 323.05 662.8 323.45 662.25 323.9 662.25 324.7 662.25 325.5 662.7 325.85 663.15 326.25 664.1 326.45 L664.95 326.75 665.15 327.15 664.95 327.55 664.4 327.7 Q663.65 327.7 662.75 326.9 L662 327.85 Q663.05 328.8 664.4 328.8 L665.85 328.35 Q666.45 327.9 666.45 327.15 666.45 326.4 666 326 L664.75 325.4 663.75 325.05 663.5 324.65 M667 323.15 L667 324.25 668.6 324.25 668.6 328.75 669.85 328.75 669.85 324.25 671.45 324.25 671.45 323.15 667 323.15 M714.3 327.15 Q714.3 326.4 713.85 326 713.4 325.6 712.6 325.4 L711.6 325.05 711.35 324.65 711.55 324.25 712.05 324.15 Q712.8 324.15 713.55 324.7 L714.2 323.75 Q713.75 323.4 713.2 323.2 L712.1 323.05 Q711.2 323.05 710.65 323.45 710.1 323.9 710.1 324.7 710.1 325.5 710.55 325.85 711 326.25 711.95 326.45 L712.8 326.75 713 327.15 712.8 327.55 712.25 327.7 Q711.5 327.7 710.6 326.9 L709.85 327.85 Q710.9 328.8 712.25 328.8 713.15 328.8 713.7 328.35 714.3 327.9 714.3 327.15 M721.85 327.65 L721.85 323.15 720.6 323.15 720.6 328.75 724.2 328.75 724.2 327.65 721.85 327.65 M719.35 324.25 L719.35 323.15 715.35 323.15 715.35 328.75 719.45 328.75 719.45 327.65 716.6 327.65 716.6 326.5 719.1 326.5 719.1 325.4 716.6 325.4 716.6 324.25 719.35 324.25 M726.4 327.65 L726.4 326.5 728.9 326.5 728.9 325.4 726.4 325.4 726.4 324.25 729.15 324.25 729.15 323.15 725.15 323.15 725.15 328.75 729.25 328.75 729.25 327.65 726.4 327.65 M645 14 Q645 14.85 644.4 15.45 643.8 16 643 16 L611 16 Q610.15 16 609.55 15.45 609 14.85 609 14 L609 10.05 Q609 9.2 609.55 8.6 610.15 8 611 8 L643 8 Q643.8 8 644.4 8.6 645 9.2 645 10 L645 14 M644.4 20.6 Q645 21.2 645 22 L645 26 Q645 26.85 644.4 27.45 643.8 28 643 28 L611 28 Q610.15 28 609.55 27.45 609 26.85 609 26 L609 22.05 Q609 21.2 609.55 20.6 610.15 20 611 20 L643 20 Q643.8 20 644.4 20.6 M609.55 39.45 Q609 38.85 609 38 L609 34.05 Q609 33.2 609.55 32.6 610.15 32 611 32 L643 32 Q643.8 32 644.4 32.6 645 33.2 645 34 L645 38 Q645 38.85 644.4 39.45 643.8 40 643 40 L611 40 Q610.15 40 609.55 39.45 M590.4 20.6 Q591 21.2 591 22 L591 26 Q591 26.85 590.4 27.45 589.8 28 589 28 L573 28 Q572.15 28 571.55 27.45 571 26.85 571 26 L571 22.05 Q571 21.2 571.55 20.6 572.15 20 573 20 L589 20 Q589.8 20 590.4 20.6 M591 14 Q591 14.85 590.4 15.45 589.8 16 589 16 L573 16 Q572.15 16 571.55 15.45 571 14.85 571 14 L571 10.05 Q571 9.2 571.55 8.6 572.15 8 573 8 L589 8 Q589.8 8 590.4 8.6 591 9.2 591 10 L591 14 M567 14 Q567 14.85 566.4 15.45 565.8 16 565 16 L561 16 Q560.15 16 559.55 15.45 559 14.85 559 14 L559 10.05 Q559 9.2 559.55 8.6 560.15 8 561 8 L565 8 Q565.8 8 566.4 8.6 567 9.2 567 10 L567 14 M567 38 Q567 38.85 566.4 39.45 565.8 40 565 40 L561 40 Q560.15 40 559.55 39.45 559 38.85 559 38 L559 34.05 Q559 33.2 559.55 32.6 560.15 32 561 32 L565 32 Q565.8 32 566.4 32.6 567 33.2 567 34 L567 38 M571.55 39.45 Q571 38.85 571 38 L571 34.05 Q571 33.2 571.55 32.6 572.15 32 573 32 L589 32 Q589.8 32 590.4 32.6 591 33.2 591 34 L591 38 Q591 38.85 590.4 39.45 589.8 40 589 40 L573 40 Q572.15 40 571.55 39.45 M567 26 Q567 26.85 566.4 27.45 565.8 28 565 28 L561 28 Q560.15 28 559.55 27.45 559 26.85 559 26 L559 22.05 Q559 21.2 559.55 20.6 560.15 20 561 20 L565 20 Q565.8 20 566.4 20.6 567 21.2 567 22 L567 26 M580.5 63.5 Q584 67 584 72.05 584 73.9 583.55 75.55 L584.85 76.9 585.15 77.2 585.5 77.55 590.4 82.45 Q592 84.15 592.05 86.4 L592.05 86.65 Q592 88.9 590.4 90.45 589.05 91.85 587.25 92.1 L586.45 92.15 585.7 92.1 Q583.9 91.85 582.45 90.5 L579.95 88 579.95 87.95 575.7 83.65 576.1 84.1 575.55 83.55 572 84 Q567 84 563.45 80.5 560 77 560 72.05 560 67.05 563.45 63.5 567.05 60 572 60 577.05 60 580.5 63.5 M579.9 71.9 Q579.85 68.65 577.6 66.4 L577.6 66.35 Q575.3 64.1 572 64.1 568.7 64.1 566.35 66.35 L566.3 66.4 Q564.05 68.7 564.05 72.05 564.05 75.3 566.35 77.6 568.65 79.85 571.9 79.9 L572 79.9 Q575.3 79.9 577.55 77.6 L577.6 77.6 Q579.9 75.3 579.9 72.05 L579.9 71.9 M630.35 72.25 Q632.85 73.3 634.9 75.25 639 79.2 639 84.85 639 87.85 634.9 89.9 630.85 92 625 92 619.2 92 615.1 89.9 611.05 87.85 611 84.85 611 79.2 615.1 75.25 617.15 73.3 619.65 72.25 617.55 70.15 617.55 67.25 617.55 64.25 619.75 62.15 621.9 60 625 60 628.15 60 630.3 62.15 632.5 64.25 632.5 67.25 632.5 70.15 630.35 72.25 M541 10 L541 14 Q541 14.85 540.4 15.45 539.8 16 539 16 L535 16 Q534.15 16 533.55 15.45 533 14.85 533 14 L533 10.05 Q533 9.2 533.55 8.6 534.15 8 535 8 L539 8 Q539.8 8 540.4 8.6 541 9.2 541 10 M529 10 L529 14 Q529 14.85 528.4 15.45 527.8 16 527 16 L523 16 Q522.15 16 521.55 15.45 521 14.85 521 14 L521 10.05 Q521 9.2 521.55 8.6 522.15 8 523 8 L527 8 Q527.8 8 528.4 8.6 529 9.2 529 10 M535 20 L539 20 Q539.8 20 540.4 20.6 541 21.2 541 22 L541 26 Q541 26.85 540.4 27.45 539.8 28 539 28 L535 28 Q534.15 28 533.55 27.45 533 26.85 533 26 L533 22.05 Q533 21.2 533.55 20.6 534.15 20 535 20 M528.4 20.6 Q529 21.2 529 22 L529 26 Q529 26.85 528.4 27.45 527.8 28 527 28 L523 28 Q522.15 28 521.55 27.45 521 26.85 521 26 L521 22.05 Q521 21.2 521.55 20.6 522.15 20 523 20 L527 20 Q527.8 20 528.4 20.6 M541 34 L541 38 Q541 38.85 540.4 39.45 539.8 40 539 40 L535 40 Q534.15 40 533.55 39.45 533 38.85 533 38 L533 34.05 Q533 33.2 533.55 32.6 534.15 32 535 32 L539 32 Q539.8 32 540.4 32.6 541 33.2 541 34 M528.4 32.6 Q529 33.2 529 34 L529 38 Q529 38.85 528.4 39.45 527.8 40 527 40 L523 40 Q522.15 40 521.55 39.45 521 38.85 521 38 L521 34.05 Q521 33.2 521.55 32.6 522.15 32 523 32 L527 32 Q527.8 32 528.4 32.6 M517 10 L517 14 Q517 14.85 516.4 15.45 515.8 16 515 16 L511 16 Q510.15 16 509.55 15.45 509 14.85 509 14 L509 10.05 Q509 9.2 509.55 8.6 510.15 8 511 8 L515 8 Q515.8 8 516.4 8.6 517 9.2 517 10 M515 20 Q515.8 20 516.4 20.6 517 21.2 517 22 L517 26 Q517 26.85 516.4 27.45 515.8 28 515 28 L511 28 Q510.15 28 509.55 27.45 509 26.85 509 26 L509 22.05 Q509 21.2 509.55 20.6 510.15 20 511 20 L515 20 M490.05 24.1 L489.75 24.8 477.75 36.8 477.05 37.1 Q476.65 37.1 476.35 36.8 476.05 36.5 476.05 36.1 L476.05 12.1 Q476.05 11.7 476.35 11.4 476.65 11.1 477.05 11.1 477.45 11.1 477.75 11.4 L489.75 23.4 490.05 24.1 M517 34 L517 38 Q517 38.85 516.4 39.45 515.8 40 515 40 L511 40 Q510.15 40 509.55 39.45 509 38.85 509 38 L509 34.05 Q509 33.2 509.55 32.6 510.15 32 511 32 L515 32 Q515.8 32 516.4 32.6 517 33.2 517 34 M516.35 66.35 L516.3 66.4 Q514.05 68.7 514.05 72.05 514.05 75.3 516.35 77.6 518.65 79.85 521.9 79.9 L522 79.9 Q525.3 79.9 527.55 77.6 L527.6 77.6 Q529.9 75.3 529.9 72.05 L529.9 71.9 Q529.85 68.65 527.6 66.4 L527.6 66.35 Q525.3 64.1 522 64.1 518.7 64.1 516.35 66.35 M510 72.05 Q510 67.05 513.45 63.5 517.05 60 522 60 527.05 60 530.5 63.5 534 67 534 72.05 534 73.9 533.55 75.55 L534.85 76.9 535.15 77.2 535.5 77.55 540.4 82.45 Q542 84.15 542.05 86.4 L542.05 86.65 Q542 88.9 540.4 90.45 539.05 91.85 537.25 92.1 L536.45 92.15 535.7 92.1 Q533.9 91.85 532.45 90.5 L529.95 88 529.95 87.95 525.7 83.65 526.1 84.1 525.55 83.55 522 84 Q517 84 513.45 80.5 510 77 510 72.05 M526.05 73.1 L526.05 76.1 518.05 76.1 518.05 73.1 526.05 73.1 M518.05 69.1 L526.05 69.1 526.05 72.1 518.05 72.1 518.05 69.1 M486.45 92.15 L485.7 92.1 Q483.9 91.85 482.45 90.5 L475.7 83.65 476.1 84.1 475.55 83.55 472 84 Q467 84 463.45 80.5 460 77 460 72.05 460 67.05 463.45 63.5 467.05 60 472 60 477.05 60 480.5 63.5 484 67 484 72.05 484 73.9 483.55 75.55 L484.85 76.9 485.15 77.2 485.5 77.55 490.4 82.45 Q492 84.15 492.05 86.4 L492.05 86.65 Q492 88.9 490.4 90.45 489.05 91.85 487.25 92.1 L486.45 92.15 M533 118 Q533 119.7 531.8 120.85 530.65 122 529 122 L529 130 539 130 Q539.8 130 540.4 130.6 541 131.2 541 132 L541 142 509 142 509 132.05 Q509 131.2 509.55 130.6 510.15 130 511 130 L521 130 521 122 Q519.3 122 518.15 120.85 517 119.65 517 118 L517 114 Q517 112.35 518.15 111.2 519.35 110 521 110 L529 110 Q530.65 110 531.8 111.2 533 112.4 533 114 L533 118 M537 134 L533 134 533 138 537 138 537 134 M565.1 140 L564.65 129.9 559 121.45 568.6 117.9 575.05 110 581.4 117.9 591 121.45 585.35 129.9 584.8 140 575.05 137.35 565.1 140 M491 120 L491 130 Q491 131.7 489.8 132.85 488.65 134 487 134 L479 134 479 138 485 138 Q485.8 138 486.4 138.6 487 139.2 487 140 L487 142 463 142 463 140.05 Q463 139.2 463.55 138.6 464.15 138 465 138 L471 138 471 134 463 134 Q461.3 134 460.15 132.85 459 131.65 459 130 L459 120.05 Q459 119.2 459.55 118.6 460.15 118 461 118 L465 118 465 114 485 114 485 118 489 118 Q489.8 118 490.4 118.6 491 119.2 491 120 M487 122 L485 122 485 130 487 130 487 122 M523.95 169.3 L523.55 169.6 Q523 170.2 523 171.05 L523 180 Q523 180.85 523.55 181.45 L523.95 181.75 524.95 182 526 182 Q526.8 182 527.4 181.45 528 180.85 528 180 L528 171 Q528 170.2 527.4 169.6 526.8 169 526 169 L524.95 169 Q524.4 169 523.95 169.3 M524.55 161.25 Q525.5 160.8 526.5 161.25 L526.55 161.25 Q527.4 161.6 527.85 162.55 L541.6 187.25 Q542.05 188.2 542 189.25 L542 189.3 Q541.85 190.45 541.1 191.15 L541.15 191.15 Q540.35 192 539.25 192 L511.75 192 Q510.6 192 509.85 191.1 509.15 190.35 509 189.3 508.85 188.25 509.35 187.25 L509.4 187.25 523.15 162.55 523.15 162.5 Q523.65 161.6 524.5 161.25 L524.55 161.25 M525.5 184 Q524.45 184 523.7 184.75 523 185.45 523 186.5 523 187.5 523.7 188.25 524.45 189 525.5 189 526.55 189 527.25 188.25 L527.25 188.3 Q528 187.55 528 186.5 528 185.5 527.25 184.75 L527.3 184.75 Q526.6 184 525.5 184 M565 160 L569.95 160 569.95 164 567 164 567 188 569.95 188 569.95 192 565 192 Q564.15 192 563.55 191.45 563 190.85 563 190 L563 162.05 Q563 161.2 563.55 160.6 564.15 160 565 160 M628 113.15 Q630.75 115.65 631.2 119.3 L631.2 119.4 631.2 119.45 631.2 120.9 631.1 122.05 640.05 130.9 Q641.75 132.4 641.95 134.6 L642 135.5 Q642 138.3 640.1 140.15 L640.05 140.2 Q638.3 142 635.35 142 632.7 142 630.7 140.2 L630.7 140.15 624.75 134.25 624.6 133.85 621.65 131.05 619 130.9 619.1 130.95 Q615.6 130.4 613.15 128.05 L613.15 128 Q609.6 124.3 610.05 119.8 610.1 118.35 610.65 116.9 610.75 116.6 611 116.45 L611.5 116.35 611.9 116.6 617.6 122.3 618.7 122.9 619.7 122.35 619.7 122.3 622.1 119.8 Q622.85 119.1 622.5 118.3 L622.05 117.6 616.35 112.15 616.15 111.75 Q616.05 111.45 616.2 111.25 616.3 111 616.55 110.9 617.2 110.55 617.8 110.35 L617.85 110.35 622.6 110.2 Q625.7 110.75 628.05 113.15 L628 113.15 M637.15 134.1 Q635.55 132.75 633.9 134.1 L633.9 134.15 633.45 135 633.4 135.1 633.3 135.7 Q633.3 136.55 633.9 137.3 634.65 137.9 635.55 137.9 636.5 137.9 637.15 137.3 637.9 136.55 637.9 135.7 L637.8 135.05 637.2 134.15 637.15 134.1 M578.4 177.45 Q579 176.85 579 176 579 175.2 578.4 174.6 L578.45 174.6 Q577.85 174 577 174 576.2 174 575.6 174.6 575 175.2 575 176 575 176.85 575.6 177.45 576.15 178 577 178 577.85 178 578.4 177.45 M572.55 163.45 Q573.15 162.75 573.95 162.6 L588 159.9 588 189.9 573.95 192.6 Q573.15 192.75 572.55 192.3 572 191.8 572 190.95 L572 165 Q572 164.15 572.55 163.45 M633 168 L633 172 625 180 617 172 617 168 621 168 621 160 629 160 629 168 633 168 M617 178 L617 184 633 184 633 178.05 Q633 177.2 633.55 176.6 634.15 176 635 176 L639 176 Q639.8 176 640.4 176.6 641 177.2 641 178 L641 190 Q641 190.85 640.4 191.45 639.8 192 639 192 L611 192 Q610.15 192 609.55 191.45 609 190.85 609 190 L609 178.05 Q609 177.2 609.55 176.6 610.15 176 611 176 L615 176 Q615.8 176 616.4 176.6 617 177.2 617 178 M473.05 11.1 Q473.45 11.1 473.75 11.4 L474.05 12.1 474.05 36.1 473.75 36.8 473.05 37.1 Q472.65 37.1 472.35 36.8 L460.35 24.8 Q460.05 24.5 460.05 24.1 460.05 23.7 460.35 23.4 L472.35 11.4 Q472.65 11.1 473.05 11.1 M437.75 21.4 L438.05 22.1 437.75 22.8 437.05 23.1 413.05 23.1 412.35 22.8 Q412.05 22.5 412.05 22.1 412.05 21.7 412.35 21.4 L424.35 9.4 Q424.65 9.1 425.05 9.1 425.45 9.1 425.75 9.4 L437.75 21.4 M412.05 26.1 Q412.05 25.7 412.35 25.4 412.65 25.1 413.05 25.1 L437.05 25.1 Q437.45 25.1 437.75 25.4 L438.05 26.1 437.75 26.8 425.75 38.8 425.05 39.1 424.35 38.8 412.35 26.8 Q412.05 26.5 412.05 26.1 M429.9 71.9 Q429.85 68.65 427.6 66.4 L427.6 66.35 Q425.3 64.1 422 64.1 418.7 64.1 416.35 66.35 L416.3 66.4 Q414.05 68.7 414.05 72.05 414.05 75.3 416.35 77.6 418.65 79.85 421.9 79.9 L422 79.9 Q425.3 79.9 427.55 77.6 L427.6 77.6 Q429.9 75.3 429.9 72.05 L429.9 71.9 M430.5 63.5 Q434 67 434 72.05 434 73.9 433.55 75.55 L434.85 76.9 435.15 77.2 435.5 77.55 440.4 82.45 Q442 84.15 442.05 86.4 L442.05 86.65 Q442 88.9 440.4 90.45 439.05 91.85 437.25 92.1 L436.45 92.15 435.7 92.1 Q433.9 91.85 432.45 90.5 L429.95 88 429.95 87.95 425.7 83.65 426.1 84.1 425.55 83.55 422 84 Q417 84 413.45 80.5 410 77 410 72.05 410 67.05 413.45 63.5 417.05 60 422 60 427.05 60 430.5 63.5 M426.05 74.1 L418.05 74.1 418.05 70.1 426.05 70.1 426.05 74.1 M470.05 68.1 L474.05 68.1 474.05 70.1 476.05 70.1 476.05 74.1 474.05 74.1 474.05 76.1 470.05 76.1 470.05 74.1 468.05 74.1 468.05 70.1 470.05 70.1 470.05 68.1 M466.35 66.35 L466.3 66.4 Q464.05 68.7 464.05 72.05 464.05 75.3 466.35 77.6 468.65 79.85 471.9 79.9 L472 79.9 Q475.3 79.9 477.55 77.6 L477.6 77.6 Q479.9 75.3 479.9 72.05 L479.9 71.9 Q479.85 68.65 477.6 66.4 L477.6 66.35 Q475.3 64.1 472 64.1 468.7 64.1 466.35 66.35 M392 17 L392 19 376 35 360 19 360 17 Q360 16.15 360.55 15.55 361.15 15 362 15 L389.95 15 Q390.8 15 391.4 15.55 392 16.15 392 17 M340.4 34.45 Q339.8 35 338.95 35 L311 35 Q310.15 35 309.55 34.45 309 33.85 309 33 L309 31 325 15 341 31 341 33 Q341 33.85 340.4 34.45 M362 72 L372 72 372 62.05 Q372 61.2 372.55 60.6 373.15 60 374 60 L378 60 Q378.8 60 379.4 60.6 380 61.2 380 62 L380 72 390 72 Q390.8 72 391.4 72.6 392 73.2 392 74 L392 78 Q392 78.85 391.4 79.45 390.8 80 390 80 L380 80 380 90 Q380 90.85 379.4 91.45 378.8 92 378 92 L374 92 Q373.15 92 372.55 91.45 372 90.85 372 90 L372 80 362 80 Q361.15 80 360.55 79.45 360 78.85 360 78 L360 74.05 Q360 73.2 360.55 72.6 361.15 72 362 72 M341.4 72.6 Q342 73.2 342 74 L342 78 Q342 78.85 341.4 79.45 340.8 80 340 80 L312 80 Q311.15 80 310.55 79.45 310 78.85 310 78 L310 74.05 Q310 73.2 310.55 72.6 311.15 72 312 72 L340 72 Q340.8 72 341.4 72.6 M384.05 134 L384.05 138 388.05 138 388.05 134 384.05 134 M368.05 118 L380.05 118 380.05 130 392.05 130 392.05 142 356.05 142 356.05 126 368.05 126 368.05 118 M376.05 122 L372.05 122 372.05 126 376.05 126 376.05 122 M338 110.95 L338 114.95 334 114.95 334 110.95 318 110.95 318 124.95 342 124.95 342 142.95 Q342 143.8 341.4 144.4 340.8 144.95 340 144.95 L312 144.95 Q311.15 144.95 310.55 144.4 310 143.8 310 142.95 L310 124.95 314 124.95 314 110.95 Q314 109.3 315.15 108.15 316.35 106.95 318 106.95 L334 106.95 Q335.65 106.95 336.8 108.15 338 109.35 338 110.95 M334 117.95 L334 115 338 115 338 117.95 334 117.95 M330 136.95 L330 132.95 322 132.95 322 136.95 324 136.95 324 140.95 328 140.95 328 136.95 330 136.95 M360.05 134 L364.05 134 364.05 130 360.05 130 360.05 134 M361.7 162.85 Q362.1 162.05 362.9 161.85 L367.75 160.55 367.55 159.65 Q367.3 158.8 367.7 158.1 368.1 157.35 368.95 157.15 L374.75 155.6 Q375.5 155.4 376.25 155.85 376.95 156.2 377.15 157 L377.4 157.95 382.25 156.7 Q383 156.45 383.8 156.9 384.5 157.3 384.7 158.1 L386.2 163.8 363.05 170 361.55 164.35 Q361.35 163.5 361.7 162.85 M330.05 162.1 L335.05 162.1 Q335.85 162.1 336.45 162.7 337.05 163.3 337.05 164.1 L337.05 170 313.05 170 313.05 164.15 Q313.05 163.3 313.6 162.7 314.2 162.1 315.05 162.1 L320.05 162.1 320.05 161.15 Q320.05 160.3 320.6 159.7 321.2 159.1 322.05 159.1 L328.05 159.1 Q328.85 159.1 329.45 159.7 330.05 160.3 330.05 161.1 L330.05 162.1 M335.05 194.1 L315.05 194.1 Q314.2 194.1 313.6 193.55 313.05 192.95 313.05 192.1 L313.05 172 337.05 172 337.05 192.1 Q337.05 192.95 336.45 193.55 335.85 194.1 335.05 194.1 M363.05 192.1 L363.05 172 387.05 172 387.05 192.1 Q387.05 192.95 386.45 193.55 385.85 194.1 385.05 194.1 L365.05 194.1 Q364.2 194.1 363.6 193.55 363.05 192.95 363.05 192.1 M465 122 L463 122 463 130 465 130 465 122 M432.4 113.6 Q433 114.2 433 115 L433 126 441 126 Q441.8 126 442.4 126.6 443 127.2 443 128 L443 139 Q443 139.85 442.4 140.45 441.8 141 441 141 L411 141 Q410.15 141 409.55 140.45 409 139.85 409 139 L409 128.05 Q409 127.2 409.55 126.6 410.15 126 411 126 L418 126 418 115.05 Q418 114.2 418.55 113.6 419.15 113 420 113 L431 113 Q431.8 113 432.4 113.6 M438 134.7 Q438 133.95 437.55 133.4 437.1 132.85 436.25 132.7 L437.7 131.1 437.7 130 433.4 130 433.4 131.35 435.6 131.35 434.25 132.9 434.25 134 435.2 133.85 Q435.8 133.85 436.15 134.1 436.5 134.35 436.5 134.8 L436.2 135.45 435.4 135.65 Q434.65 135.65 433.65 134.95 L433 136.2 Q434.2 137 435.35 137 436.5 137 437.25 136.4 438 135.8 438 134.7 M418.8 132.1 Q418.8 131.1 418.1 130.5 417.45 130 416.55 130 415.65 130 415.1 130.4 414.5 130.75 414 131.5 L415.25 132.25 Q415.85 131.3 416.45 131.3 L417.05 131.5 417.3 132.1 417 132.85 416.15 133.8 414.15 135.85 414.15 137 419 137 419 135.6 416.25 135.6 417.5 134.35 418.5 133.1 418.8 132.1 M424 118 L424 119.35 425.45 119.35 425.45 125 427 125 427 118 424 118 M428.4 162.6 Q429 163.2 429 164 L429 179 Q429 179.85 428.4 180.45 427.8 181 427 181 L423 181 Q422.15 181 421.55 180.45 421 179.85 421 179 L421 164.05 Q421 163.2 421.55 162.6 422.15 162 423 162 L427 162 Q427.8 162 428.4 162.6 M421 188 Q421 186.35 422.15 185.2 423.35 184 425 184 426.7 184 427.85 185.2 L427.8 185.2 Q429 186.4 429 188 429 189.7 427.8 190.9 L427.8 190.85 Q426.65 192 425 192 423.3 192 422.15 190.85 421 189.65 421 188 M473.35 171.85 Q473 172.15 472.5 172.15 L466.15 172.15 465.55 171.95 465.1 171.5 465 170.75 Q465.4 166.15 468.25 163.6 471.05 161 475.3 161 479.55 161 482.25 163.3 485 165.75 485 170 485 172.05 484.45 173 L483.9 174.05 483.95 174.05 483.05 175.4 483 175.45 482.2 176.35 482.2 176.4 480.35 178.2 479.6 179.05 479.3 179.05 479.3 179.1 479.6 179.1 479.4 179.35 479.3 180.2 479.3 180.8 479.3 180.9 478.95 181.7 478.05 182 471.95 182 471.1 181.7 Q470.75 181.35 470.7 180.9 L470.7 178.1 470.85 178.1 Q470.95 177.2 471.25 176.65 471.7 175.7 473.25 174.05 L475.95 171.35 476.2 170.25 475.85 169.15 Q475.6 168.8 475.15 168.85 474.7 168.85 474.35 169.25 L474.35 169.2 Q473.9 169.9 473.8 171.05 L473.35 171.85 M475.4 184 Q477.3 184 478.65 185.25 480 186.55 480 188.45 480 190.35 478.65 191.7 477.3 193 475.4 193 473.6 193 472.3 191.7 471 190.4 471 188.45 471 186.55 472.3 185.25 473.6 184 475.4 184 M478.4 218.6 Q479 219.2 479 220 L479 240 Q479 240.85 478.4 241.45 477.8 242 477 242 L473 242 Q472.15 242 471.55 241.45 471 240.85 471 240 L471 220.05 Q471 219.2 471.55 218.6 472.15 218 473 218 L477 218 Q477.8 218 478.4 218.6 M461 242 Q460.15 242 459.55 241.45 459 240.85 459 240 L459 228.05 Q459 227.2 459.55 226.6 460.15 226 461 226 L465 226 Q465.8 226 466.4 226.6 467 227.2 467 228 L467 240 Q467 240.85 466.4 241.45 465.8 242 465 242 L461 242 M417 228 L417 240 Q417 240.85 416.4 241.45 415.8 242 415 242 L411 242 Q410.15 242 409.55 241.45 409 240.85 409 240 L409 228.05 Q409 227.2 409.55 226.6 410.15 226 411 226 L415 226 Q415.8 226 416.4 226.6 417 227.2 417 228 M428.55 270.5 L426.75 272.65 429.55 283.1 438.05 283.1 Q439.25 283.1 440.15 284 441.05 284.9 441.05 286.1 L441.05 292.95 440.75 293.65 440.05 293.95 412.05 293.95 411.35 293.65 Q411.05 293.35 411.05 292.95 L411.05 286.15 Q411.05 284.9 411.9 284.05 L411.9 284 Q412.8 283.1 414.05 283.1 L423.35 283.1 420.95 274.2 Q419.6 274 418.25 273.25 415.6 271.7 414.8 268.7 414 265.75 415.5 263 417.15 260.35 420.15 259.55 423.15 258.75 425.8 260.25 428.5 261.85 429.3 264.8 430.1 267.8 428.55 270.5 M476.1 260.25 Q478.85 258.75 481.85 259.55 484.85 260.35 486.4 263 488 265.75 487.2 268.7 486.4 271.7 483.65 273.25 482.4 274 481.05 274.2 L478.7 283.1 488.05 283.1 Q489.25 283.1 490.15 284 491.05 284.9 491.05 286.1 L491.05 292.95 490.75 293.65 Q490.45 293.95 490.05 293.95 L462.05 293.95 461.35 293.65 Q461.05 293.35 461.05 292.95 L461.05 286.15 Q461.05 284.9 461.9 284.05 L461.9 284 Q462.8 283.1 464.05 283.1 L472.45 283.1 475.25 272.65 Q474.15 271.8 473.35 270.5 471.9 267.8 472.7 264.8 473.5 261.85 476.1 260.25 M386.9 214.45 L387.75 215.2 387.75 215.25 Q392.6 220.1 392.6 227 392.6 233.9 387.75 238.7 L387.7 238.75 Q382.9 243.6 376 243.6 369.1 243.6 364.25 238.75 359.4 233.9 359.4 227 359.4 220.25 364.05 215.45 L364.25 215.2 365.05 214.5 Q365.35 214.25 365.8 214.3 366.2 214.3 366.45 214.65 L369 217.7 369.25 218.4 368.9 219.1 368.5 219.45 368.35 219.6 Q365.4 222.7 365.4 227 365.4 231.4 368.5 234.5 371.6 237.6 376 237.6 380.3 237.6 383.35 234.65 L383.5 234.5 383.65 234.35 Q386.6 231.3 386.6 227 386.6 222.6 383.5 219.5 L383.45 219.5 383 219.05 382.65 218.35 Q382.65 217.95 382.9 217.65 L385.5 214.6 Q385.75 214.25 386.2 214.25 L386.9 214.45 M378.65 210.3 L378.95 211 378.95 228 378.65 228.7 377.95 229 373.95 229 373.25 228.7 Q372.95 228.4 372.95 228 L372.95 211 Q372.95 210.6 373.25 210.3 373.55 210 373.95 210 L377.95 210 Q378.35 210 378.65 210.3 M337 210 Q337.85 210 338.45 210.6 339 211.2 339 212.05 L339 240 Q339 240.85 338.45 241.45 337.85 242 337 242 L335 242 319 226 335 210 337 210 M334.85 258 Q337.8 258 339.9 260.05 342 262.15 342 265.2 342 268.15 339.9 270.25 337.8 272.35 334.85 272.35 331.85 272.35 329.75 270.25 L329.2 269.65 322.2 274.5 322.35 275.95 322.1 277.85 329.15 282.35 329.75 281.65 Q331.85 279.55 334.85 279.55 337.8 279.55 339.9 281.65 342 283.75 342 286.75 342 289.75 339.9 291.85 337.8 293.95 334.85 293.95 331.85 293.95 329.75 291.85 327.7 289.75 327.7 286.75 L327.8 285.7 320.3 280.95 320.2 281.05 Q318.1 283.15 315.15 283.15 312.15 283.15 310.05 281.05 308 278.95 308 275.95 308 272.95 310.05 270.85 312.15 268.75 315.15 268.75 318.1 268.75 320.2 270.85 L320.6 271.25 327.8 266.35 327.7 265.2 Q327.7 262.15 329.75 260.05 331.85 258 334.85 258 M361.05 292.95 L361.05 286.15 Q361.05 284.9 361.9 284.05 L361.9 284 Q362.8 283.1 364.05 283.1 L373 283.1 373 273.4 Q371.75 272.85 370.65 271.8 368.5 269.6 368.5 266.5 368.5 263.4 370.65 261.2 372.9 259 376 259 379.1 259 381.3 261.2 383.5 263.4 383.5 266.5 383.5 269.6 381.3 271.8 380.25 272.85 379 273.4 L379 283.1 388.05 283.1 Q389.25 283.1 390.15 284 391.05 284.9 391.05 286.1 L391.05 292.95 390.75 293.65 390.05 293.95 362.05 293.95 361.35 293.65 Q361.05 293.35 361.05 292.95 M329.4 321.15 L329.4 319.1 321.3 319.1 321.3 321.65 325.45 321.65 322.9 324.65 322.9 326.85 324.65 326.45 Q325.85 326.45 326.5 326.95 327.15 327.45 327.15 328.25 327.15 329.1 326.6 329.55 326 329.95 325.1 329.95 323.65 329.95 321.75 328.65 L320.55 331 Q322.8 332.55 325 332.55 327.2 332.55 328.6 331.35 330.05 330.15 330.05 328.1 330.05 326.7 329.15 325.6 328.3 324.55 326.7 324.25 L329.4 321.15 M393.95 313.95 L393.95 337.95 355.95 337.95 355.95 318.95 Q355.95 313.95 360.95 313.95 L393.95 313.95 M374.4 320 L372 320 372 331 379 331 379 328.8 374.4 328.8 374.4 320 M340.75 318.65 Q342 321.55 342 325 342 328.45 340.75 331.35 339.6 334.05 337.3 336.3 332.65 341 326 341 319.35 341 314.65 336.3 310 331.65 310 325 310 318.35 314.65 313.65 319.35 309 326 309 332.65 309 337.3 313.65 339.6 315.95 340.75 318.65 M455.95 318.95 Q455.95 313.95 460.95 313.95 L493.95 313.95 493.95 337.95 455.95 337.95 455.95 318.95 M470.55 320.75 L468.35 320.75 468.35 330.55 474.7 330.55 474.7 328.6 470.55 328.6 470.55 320.75 M479.5 320.75 L475.55 320.75 475.55 322.65 477.4 322.65 477.4 330.55 479.5 330.55 479.5 320.75 M443.95 318.95 L443.95 337.95 405.95 337.95 405.95 313.95 438.95 313.95 Q443.95 313.95 443.95 318.95 M423.35 323.15 L425.05 323.15 426.6 323.45 Q427 323.75 427 324.65 427 325.55 426.6 325.95 426.2 326.4 425 326.4 L423.35 326.4 423.35 323.15 M424.9 321 L421 321 421 332 423.35 332 423.35 328.5 424.9 328.5 427.15 332 430 332 427.4 328.05 Q429.4 327.3 429.4 324.65 429.4 322.7 428.35 321.9 427.3 321 424.9 321 M639 215.2 L617.45 221 640 221 640 240 Q640 240.85 639.4 241.45 638.8 242 638 242 L612 242 Q611.15 242 610.55 241.45 610 240.85 610 240 L610 223 608.2 216.3 Q607.95 215.45 608.35 214.75 608.8 214 609.6 213.75 L634.7 207.05 636.2 207.25 Q636.95 207.65 637.2 208.45 L639 215.2 M587.9 213 L583.95 213 583.95 218 587.9 218 587.9 213 M591 212 L591 240 Q591 240.85 590.4 241.45 589.8 242 589 242 L561 242 Q560.15 242 559.55 241.45 559 240.85 559 240 L559 212.05 Q559 211.2 559.55 210.6 560.15 210 561 210 L589 210 Q589.8 210 590.4 210.6 591 211.2 591 212 M568.95 213 L568.95 225 580.95 225 580.95 213 568.95 213 M583.95 239 L587.9 239 587.9 234 583.95 234 583.95 239 M583.95 228 L587.9 228 587.9 223 583.95 223 583.95 228 M580.95 239 L580.95 228 568.95 228 568.95 239 580.95 239 M590.75 264.15 L590.8 264.2 Q591.9 265.4 591.7 267.05 L591.7 267.15 589.2 280.4 589.15 280.45 Q588.95 281.65 587.65 282.5 L587.5 282.55 585.5 283 570.5 283 Q569.25 283 568.45 282.5 L568.4 282.5 Q567.05 281.65 566.85 280.45 L566.85 280.4 564.55 267.95 560 267.95 Q559.6 267.95 559.3 267.65 559 267.35 559 266.95 L559 264.05 559 263.95 Q559 263.55 559.3 263.25 559.6 262.95 560 262.95 L571.95 262.95 572.25 263 588 263 Q589.65 263 590.75 264.15 M567 289 Q567 287.35 568.15 286.15 569.35 285 571 285 572.65 285 573.8 286.15 575 287.35 575 289 575 290.65 573.8 291.8 572.65 293 571 293 569.35 293 568.15 291.8 567 290.65 567 289 M581 289 Q581 287.35 582.15 286.15 583.35 285 585 285 586.65 285 587.8 286.15 589 287.35 589 289 589 290.65 587.8 291.8 586.65 293 585 293 583.35 293 582.15 291.8 581 290.65 581 289 M624.95 263.95 Q624.95 265.2 624.1 266.1 L617.1 273.1 Q616.2 273.95 614.95 273.95 613.7 273.95 612.85 273.1 611.95 272.2 611.95 270.95 611.95 269.7 612.85 268.85 L619.85 261.85 Q620.7 260.95 621.95 260.95 623.2 260.95 624.1 261.85 624.95 262.7 624.95 263.95 M632.1 261.85 L639.1 268.85 Q639.95 269.7 639.95 270.95 639.95 272.2 639.1 273.1 638.2 273.95 636.95 273.95 635.7 273.95 634.85 273.1 L627.85 266.1 Q626.95 265.2 626.95 263.95 626.95 262.7 627.85 261.85 628.7 260.95 629.95 260.95 631.2 260.95 632.1 261.85 M614.4 291.65 Q613.85 291.3 613.8 290.8 L611.35 277.8 Q611.2 277.1 611.65 276.55 612.15 276 613 276 L639 276 Q639.8 276 640.3 276.55 640.8 277.1 640.7 277.75 L638.25 290.8 637.6 291.65 Q637.05 292 636.4 292 L615.6 292 614.4 291.65 M565.9 218 L565.9 213 561.95 213 561.95 218 565.9 218 M535 210 L539 210 Q539.8 210 540.4 210.6 541 211.2 541 212 L541 240 Q541 240.85 540.4 241.45 539.8 242 539 242 L535 242 Q534.15 242 533.55 241.45 533 240.85 533 240 L533 212.05 Q533 211.2 533.55 210.6 534.15 210 535 210 M528.4 218.6 Q529 219.2 529 220 L529 240 Q529 240.85 528.4 241.45 527.8 242 527 242 L523 242 Q522.15 242 521.55 241.45 521 240.85 521 240 L521 220.05 Q521 219.2 521.55 218.6 522.15 218 523 218 L527 218 Q527.8 218 528.4 218.6 M561.95 234 L561.95 239 565.9 239 565.9 234 561.95 234 M561.95 228 L565.9 228 565.9 223 561.95 223 561.95 228 M517 228 L517 240 Q517 240.85 516.4 241.45 515.8 242 515 242 L511 242 Q510.15 242 509.55 241.45 509 240.85 509 240 L509 228.05 Q509 227.2 509.55 226.6 510.15 226 511 226 L515 226 Q515.8 226 516.4 226.6 517 227.2 517 228 M512.6 259.7 Q513.2 259.1 514.05 259.1 L538.05 259.1 Q538.85 259.1 539.45 259.7 540.05 260.3 540.05 261.1 L540.05 279.95 540 279.95 Q540 285.75 535.9 289.8 531.85 293.9 526.05 293.9 L526 293.9 Q520.2 293.9 516.1 289.8 512.05 285.75 512.05 279.95 L512.05 261.15 Q512.05 260.3 512.6 259.7 M523.85 265.95 Q524.75 265 526 265 527.25 265 528.1 265.95 529 266.9 529 268.25 L529 275.7 Q529 277.05 528.1 278 527.25 279 526 279 524.75 279 523.85 278 523 277.05 523 275.7 L523 268.25 Q523 266.9 523.85 265.95 M515.05 271.95 L520 271.95 520 275.7 Q520.05 278.2 521.65 280 523.45 282.05 526 282 528.6 282.05 530.4 279.95 L530.3 280.1 Q532 278.25 532 275.7 L532 271.95 537.05 271.95 537.05 262.1 515.05 262.1 515.05 271.95 M555.95 318.95 Q555.95 313.95 560.95 313.95 L593.95 313.95 593.95 337.95 555.95 337.95 555.95 318.95 M543.95 318.95 L543.95 337.95 505.95 337.95 505.95 313.95 538.95 313.95 Q543.95 313.95 543.95 318.95 M630.3 321.35 Q629.35 320.55 628.1 320.55 626.8 320.55 626 321.1 625.2 321.65 624.5 322.7 L626.25 323.75 Q627.05 322.4 628 322.4 628.5 322.4 628.8 322.75 629.15 323.05 629.15 323.55 629.15 324.05 628.75 324.6 L627.55 326 624.65 328.9 624.65 330.55 631.55 330.55 631.55 328.6 627.7 328.6 629.45 326.75 630.9 325 631.25 323.55 Q631.25 322.15 630.3 321.35 M521.95 324 Q521.95 324.8 521.55 325.2 L520.05 325.55 518.45 325.55 518.45 322.65 520.05 322.65 Q521.15 322.65 521.55 322.95 521.95 323.25 521.95 324 M523.2 321.55 Q522.25 320.75 519.95 320.75 L516.25 320.75 516.25 330.55 518.45 330.55 518.45 327.45 519.95 327.45 522.1 330.55 524.8 330.55 522.35 327.05 Q524.2 326.35 524.2 324 524.2 322.3 523.2 321.55 M566.95 320.75 L566.95 330.55 573.3 330.55 573.3 328.6 569.15 328.6 569.15 320.75 566.95 320.75 M527.55 322.65 L527.55 330.55 529.65 330.55 529.65 320.75 525.7 320.75 525.7 322.65 527.55 322.65 M643.95 318.95 L643.95 337.95 605.95 337.95 605.95 313.95 638.95 313.95 Q643.95 313.95 643.95 318.95 M284.45 9.6 Q285 10.2 285 11.05 L285 39 Q285 39.85 284.45 40.45 283.85 41 283 41 L281 41 265 25 281 9 283 9 Q283.85 9 284.45 9.6 M577.95 320.55 Q576.65 320.55 575.85 321.1 575.05 321.65 574.35 322.7 L576.1 323.75 Q576.9 322.4 577.85 322.4 578.35 322.4 578.65 322.75 579 323.05 579 323.55 579 324.05 578.6 324.6 L577.4 326 574.5 328.9 574.5 330.55 581.4 330.55 581.4 328.6 577.55 328.6 579.3 326.75 580.75 325 581.1 323.55 Q581.1 322.15 580.15 321.35 579.2 320.55 577.95 320.55 M618.65 322.65 L620.15 322.95 Q620.55 323.25 620.55 324 620.55 324.8 620.15 325.2 619.75 325.55 618.65 325.55 L617.05 325.55 617.05 322.65 618.65 322.65 M621.8 321.55 Q620.85 320.75 618.55 320.75 L614.85 320.75 614.85 330.55 617.05 330.55 617.05 327.45 618.55 327.45 620.7 330.55 623.4 330.55 620.95 327.05 Q622.8 326.35 622.8 324 622.8 322.3 621.8 321.55 M264.05 68.1 L264.05 72.1 260.05 72.1 260.05 60.1 272.05 60.1 272.05 64.1 268.05 64.1 272.05 68.1 272.05 72.1 268.05 72.1 264.05 68.1 M280.05 68.1 L284.05 64.1 280.05 64.1 280.05 60.1 292.05 60.1 292.05 72.1 288.05 72.1 288.05 68.1 284.05 72.1 280.05 72.1 280.05 68.1 M260.05 80.1 L264.05 80.1 264.05 84.1 268.05 80.1 272.05 80.1 272.05 84.1 268.05 88.1 272.05 88.1 272.05 92.1 260.05 92.1 260.05 80.1 M280.05 80.1 L284.05 80.1 288.05 84.1 288.05 80.1 292.05 80.1 292.05 92.1 280.05 92.1 280.05 88.1 284.05 88.1 280.05 84.1 280.05 80.1 M215.55 9.6 Q216.15 9 217 9 L219 9 235 25 219 41 217 41 Q216.15 41 215.55 40.45 215 39.85 215 39 L215 11.05 Q215 10.2 215.55 9.6 M188.4 24.55 Q189 25.15 189 26 L189 28 175 42 161 28 161 26 Q161 25.15 161.55 24.55 162.15 24 163 24 L169 24 169 10 Q169 9.15 169.55 8.55 170.15 8 171 8 L178.95 8 Q179.8 8 180.4 8.55 181 9.15 181 10 L181 24 186.95 24 Q187.8 24 188.4 24.55 M190.05 69.85 Q190.05 70.65 189.4 71.25 L179.35 81.35 183.6 85.65 Q184.2 86.25 184.25 87.1 184.2 87.95 183.6 88.6 L182.2 90 162.05 90 162.05 69.85 163.45 68.4 Q164.05 67.8 164.95 67.75 165.8 67.8 166.4 68.4 L170.75 72.75 180.8 62.65 Q181.4 62.05 182.2 62 183.05 62.05 183.65 62.65 L189.35 68.35 Q189.95 69 190.05 69.85 M242.05 60.1 L242.05 64.1 238.05 68.1 242.05 68.1 242.05 72.1 230.05 72.1 230.05 60.1 234.05 60.1 234.05 64.1 238.05 60.1 242.05 60.1 M222.05 60.1 L222.05 72.1 210.05 72.1 210.05 68.1 214.05 68.1 210.05 64.1 210.05 60.1 214.05 60.1 218.05 64.1 218.05 60.1 222.05 60.1 M210.05 80.1 L222.05 80.1 222.05 92.1 218.05 92.1 218.05 88.1 214.05 92.1 210.05 92.1 210.05 88.1 214.05 84.1 210.05 84.1 210.05 80.1 M238.05 84.1 L242.05 88.1 242.05 92.1 238.05 92.1 234.05 88.1 234.05 92.1 230.05 92.1 230.05 80.1 242.05 80.1 242.05 84.1 238.05 84.1 M233 114 L217 114 217 122 233 122 233 114 M227 120 L227 116 231 116 231 120 227 120 M241 118 L241 142 209 142 209 110 233 110 241 118 M213 138 L237 138 237 126 213 126 213 138 M189.45 119.15 L190.5 121.1 190.55 121.2 Q193.7 127.45 190 133.95 186.3 140.75 178.95 141 178.35 141.05 177.85 140.65 177.4 140.25 177.35 139.6 176.8 136 176.9 134.3 176.95 133.7 177.3 133.25 177.7 132.8 178.35 132.8 181.4 132.55 182.95 129.95 L182.9 130 Q184.4 127.5 183.3 125 181.85 121.6 178.4 121.4 L178.35 121.4 Q175.9 121.35 174.15 123.1 176.6 124.5 177.6 125.4 178 125.75 178.1 126.25 L178.05 127.25 177.35 128 163.45 136.05 162.35 136.2 Q161.8 136.15 161.4 135.7 L161.05 134.7 161.1 118.4 161.3 117.55 161.9 116.95 161.95 116.9 162.7 116.7 163.45 116.9 166.95 118.9 Q168.85 116.35 171.2 115 L171.2 114.95 Q175.95 112.1 181.1 113.4 186.05 114.6 189.3 119 L189.45 119.15 M172.05 191 L166.05 191 Q165.2 191 164.6 190.45 164.05 189.85 164.05 189 L164.05 179 160.05 179 160.05 175 176.05 159 192.05 175 192.05 179 188.05 179 188.05 189 Q188.05 189.85 187.45 190.45 186.85 191 186.05 191 L180.05 191 180.05 179 172.05 179 172.05 191 M238 163.9 L238 179 238 179.35 Q237.7 182.1 236 183.85 L235.9 183.85 Q234.1 185.85 231.65 186.05 L231.6 186.05 Q229.05 186.3 227.35 184.5 225.7 182.9 225.95 180.2 226.2 177.8 227.95 176 229.65 174.3 231.65 174 L233 174 233 169 223 169 223 186 Q223.1 187.9 220.95 189.8 L220.9 189.95 Q219.1 191.7 216.75 191.95 L216.7 191.95 Q214.1 192.2 212.45 190.5 210.75 188.85 211.05 186.3 211.25 183.8 213 181.95 L213.1 181.9 Q214.75 180.3 216.7 179.9 L216.75 179.9 219 180 219 164 Q218.9 160.9 221.45 161 L235 161 Q238 161 238 163.9 M284 113.95 L268 113.95 268 121.95 284 121.95 284 113.95 M292 121.95 L292 139.95 Q292 140.8 291.4 141.4 290.8 141.95 290 141.95 L262 141.95 Q261.15 141.95 260.55 141.4 260 140.8 260 139.95 L260 121.95 264 121.95 264 113.95 Q264 112.3 265.15 111.15 266.35 109.95 268 109.95 L284 109.95 Q285.65 109.95 286.8 111.15 288 112.35 288 113.95 L288 121.95 292 121.95 M278 133.95 L280 133.95 280 129.95 272 129.95 272 133.95 274 133.95 274 137.95 278 137.95 278 133.95 M269.2 162.5 Q269.65 160.95 271.45 161 L285 161 Q288 161 288 163.9 L288 179 288 179.35 287.7 181 280.9 174.2 281.65 174 283 174 283 169 275.7 169 269.2 162.5 M264.5 163.55 Q265.1 162.95 265.95 162.95 266.8 162.95 267.35 163.55 L290.35 186.55 Q290.95 187.1 290.95 187.95 290.95 188.8 290.35 189.4 289.8 189.95 288.95 189.95 288.1 189.95 287.5 189.4 L264.5 166.4 Q263.95 165.8 263.95 164.95 263.95 164.1 264.5 163.55 M263 181.95 L263.1 181.9 Q264.75 180.3 266.7 179.9 L266.75 179.9 269 180 269 173.7 273 177.7 273 186 Q273.1 187.9 270.95 189.8 L270.9 189.95 Q269.1 191.7 266.75 191.95 L266.7 191.95 Q264.1 192.2 262.45 190.5 260.75 188.85 261.05 186.3 261.25 183.8 263 181.95 M275.95 180.65 L281.4 186.1 Q278.95 186.2 277.35 184.5 275.85 183.05 275.95 180.65 M90 19 Q90.85 19 91.45 19.6 92 20.2 92 21.05 L92 29 Q92 29.85 91.45 30.45 90.85 31 90 31 L76 31 76 37 Q76 37.85 75.45 38.45 74.85 39 74 39 L72 39 58 25 72 11 74 11 Q74.85 11 75.45 11.6 76 12.2 76 13.05 L76 19 90 19 M139 22 L139 24 Q139 24.85 138.4 25.45 137.8 26 136.95 26 L131 26 131 40 Q131 40.85 130.4 41.45 129.8 42 128.95 42 L121 42 Q120.15 42 119.55 41.45 119 40.85 119 40 L119 26 113 26 Q112.15 26 111.55 25.45 111 24.85 111 24 L111 22 125 8 139 22 M118.4 62.7 Q119 62.1 119.85 62.05 120.7 62.05 121.3 62.65 L131.35 72.75 135.65 68.45 Q136.25 67.85 137.1 67.8 138 67.85 138.6 68.45 L140.05 69.9 140.05 90.05 119.85 90.05 118.45 88.6 Q117.85 88 117.8 87.15 117.85 86.3 118.45 85.65 L122.75 81.35 112.7 71.25 Q112.1 70.65 112.05 69.9 112.1 69 112.7 68.4 L118.4 62.7 M87.05 84.3 Q86.2 84.25 85.6 83.6 L81.25 79.3 71.2 89.35 Q70.6 90 69.8 90.05 68.95 90 68.35 89.35 L62.65 83.65 Q62.05 83.05 62 82.2 62 81.4 62.6 80.75 L72.65 70.7 68.4 66.4 Q67.8 65.8 67.75 64.95 67.8 64.05 68.4 63.45 L69.8 62.05 90 62.05 90 82.2 88.55 83.6 Q87.95 84.25 87.05 84.3 M24 13.05 Q24 12.2 24.55 11.6 25.15 11 26 11 L28 11 42 25 28 39 26 39 Q25.15 39 24.55 38.45 24 37.85 24 37 L24 31 10 31 Q9.15 31 8.55 30.45 8 29.85 8 29 L8 21.05 Q8 20.2 8.55 19.6 9.15 19 10 19 L24 19 24 13.05 M29.2 70.7 L39.3 80.8 Q39.9 81.4 39.95 82.25 39.95 83.05 39.35 83.65 L33.6 89.4 Q33 90 32.15 90.05 31.3 90 30.7 89.4 L20.6 79.3 16.3 83.6 Q15.7 84.2 14.85 84.3 14 84.3 13.4 83.7 L11.95 82.25 11.95 62.05 32.15 62.05 33.6 63.5 Q34.2 64.1 34.2 64.95 34.15 65.75 33.55 66.35 L29.2 70.7 M66.55 117.6 Q67.15 117.65 67.6 118.1 L72.6 124.1 82.6 112.25 Q82.95 111.8 83.55 111.7 84.15 111.65 84.6 112.05 L90.55 117.15 Q91 117.5 91.05 118.1 91.1 118.7 90.75 119.2 L73.75 139.5 73.05 139.95 72.25 139.95 71.5 139.5 59.45 125.1 Q59.05 124.6 59.1 124.05 59.15 123.4 59.6 123.05 L65.5 117.95 Q66 117.55 66.55 117.6 M26 110 L42 126 26 142 22 142 22 134 18 134 18 138 10 138 10 122 Q10 120.35 11.15 119.2 12.35 118 14 118 L22 118 22 110 26 110 M37.15 159 Q38.05 159.9 38.05 161.1 L38.05 189.1 Q38.05 190.35 37.15 191.25 L37.15 191.3 Q36.25 192.1 35.05 192.1 L14.05 192.1 Q12.8 192.1 11.95 191.3 L11.9 191.25 Q11.05 190.35 11.05 189.1 L11.05 161.15 Q11.05 159.9 11.9 159.05 L11.9 159 Q12.8 158.1 14.05 158.1 L35.05 158.1 Q36.25 158.1 37.15 159 M32.05 164.1 L17.05 164.1 17.05 184.1 32.05 184.1 32.05 164.1 M63.9 159.05 L63.9 159 Q64.8 158.1 66.05 158.1 L83.05 158.1 Q84.25 158.1 85.15 159 86.05 159.9 86.05 161.1 L86.05 189.1 Q86.05 190.35 85.15 191.25 L85.15 191.3 Q84.25 192.1 83.05 192.1 L66.05 192.1 Q64.8 192.1 63.95 191.3 L63.9 191.25 Q63.05 190.35 63.05 189.1 L63.05 161.15 Q63.05 159.9 63.9 159.05 M69.05 164.1 L69.05 184.1 80.05 184.1 80.05 164.1 69.05 164.1 M139 110 Q139.8 110 140.4 110.6 141 111.2 141 112 L141 118 133 126 141 134 141 140 Q141 140.85 140.4 141.45 139.8 142 139 142 L133 142 125 134 117 142 111 142 Q110.15 142 109.55 141.45 109 140.85 109 140 L109 134 117 126 109 118 109 112.05 Q109 111.2 109.55 110.6 110.15 110 111 110 L117 110 125 118 133 110 139 110 M125 165.75 L124 165.7 124 185.75 125 185.7 Q128.5 185.4 131.1 182.8 L131.15 182.8 Q134.05 179.9 134.05 175.7 134.05 171.55 131.15 168.6 128.5 166.05 125 165.75 M112.7 164.4 L112.7 164.35 Q117.4 159.7 124 159.7 L125 159.75 Q130.95 160.05 135.3 164.4 140 169.1 140 175.7 140 182.35 135.3 187.05 130.95 191.35 125 191.7 L124 191.7 Q117.4 191.7 112.7 187.05 108 182.35 108 175.7 108 169.1 112.65 164.4 L112.7 164.4 M159 210 L161 210 175 224 175 212.05 Q175 211.2 175.55 210.6 176.15 210 177 210 L179 210 195 226 179 242 177 242 Q176.15 242 175.55 241.45 175 240.85 175 240 L175 228 161 242 159 242 Q158.15 242 157.55 241.45 157 240.85 157 240 L157 212.05 Q157 211.2 157.55 210.6 158.15 210 159 210 M139.4 211.6 Q140 212.2 140 213 L140 239 Q140 239.85 139.4 240.45 138.8 241 138 241 L112 241 Q111.15 241 110.55 240.45 110 239.85 110 239 L110 213.05 Q110 212.2 110.55 211.6 111.15 211 112 211 L138 211 Q138.8 211 139.4 211.6 M81.15 270.5 Q81.5 269.9 81.35 269.25 81.2 268.6 80.55 268.3 L79.3 268.1 Q78.65 268.25 78.35 268.9 78.05 269.45 78.2 270.1 78.35 270.75 78.95 271.1 L80.15 271.25 81.15 270.5 M83.7 268.65 Q83.85 269.3 84.45 269.6 L85.7 269.75 86.7 269.05 86.85 267.8 Q86.7 267.15 86.1 266.85 85.45 266.45 84.85 266.6 84.15 266.8 83.85 267.4 83.55 268 83.7 268.65 M86.75 259.95 Q87.35 260.25 87.5 260.9 L90.9 273.4 90.75 274.65 89.75 275.4 61.4 282.9 60.2 282.75 Q59.6 282.45 59.45 281.8 L56.05 269.35 Q55.9 268.65 56.2 268.05 56.55 267.5 57.2 267.3 L69.8 263.95 68.75 260.05 Q68.55 259.4 68.9 258.85 L69.15 258.45 69.1 258.25 69.9 258.05 71.15 258.25 Q71.7 258.6 71.9 259.25 L72.95 263.15 85.55 259.8 86.75 259.95 M115.95 271.65 L115.15 268.55 112 269.35 112.8 272.45 109.65 273.3 110.5 276.4 113.65 275.55 114.5 278.7 117.65 277.9 116.8 274.75 119.9 273.9 119.05 270.8 115.95 271.65 M119.1 258.25 L119.9 258.05 121.15 258.25 Q121.7 258.6 121.9 259.25 L122.95 263.15 135.55 259.8 136.75 259.95 Q137.35 260.25 137.5 260.9 L140.9 273.4 140.75 274.65 139.75 275.4 111.4 282.9 110.2 282.75 Q109.6 282.45 109.45 281.8 L106.05 269.35 Q105.9 268.65 106.2 268.05 106.55 267.5 107.2 267.3 L119.8 263.95 118.75 260.05 Q118.55 259.4 118.9 258.85 L119.15 258.45 119.1 258.25 M83.85 220.15 L86.15 216.85 87.65 218.15 87.7 218.2 Q91 221.55 91 226.25 91 231 87.7 234.3 L87.6 234.4 86.15 235.65 83.85 232.35 84.75 231.6 84.8 231.55 Q87 229.35 87 226.25 87 223.2 84.8 221 L84.75 220.9 83.85 220.15 M96 280 L96 294 95.7 294.7 95 295 93 295 92.3 294.7 Q92 294.4 92 294 L92 283 90 283 89.3 282.7 89 282 89 280 Q89 279.6 89.3 279.3 89.6 279 90 279 L95 279 Q95.4 279 95.7 279.3 L96 280 M136.1 266.85 Q135.45 266.45 134.85 266.6 134.15 266.8 133.85 267.4 133.55 268 133.7 268.65 133.85 269.3 134.45 269.6 L135.7 269.75 Q136.3 269.6 136.7 269.05 137 268.45 136.85 267.8 136.7 267.15 136.1 266.85 M130.15 271.25 L131.15 270.5 Q131.5 269.9 131.35 269.25 131.2 268.6 130.55 268.3 L129.3 268.1 Q128.65 268.25 128.35 268.9 128.05 269.45 128.2 270.1 128.35 270.75 128.95 271.1 L130.15 271.25 M156.05 269.35 Q155.9 268.65 156.2 268.05 156.55 267.5 157.2 267.3 L169.8 263.95 168.75 260.05 Q168.55 259.4 168.9 258.85 L169.15 258.45 169.1 258.25 169.9 258.05 171.15 258.25 Q171.7 258.6 171.9 259.25 L172.95 263.15 185.55 259.8 186.75 259.95 Q187.35 260.25 187.5 260.9 L190.9 273.4 190.75 274.65 Q190.35 275.2 189.75 275.4 L161.4 282.9 160.2 282.75 Q159.6 282.45 159.45 281.8 L156.05 269.35 M135.3 279.3 Q135.6 279 136 279 L144 279 Q144.4 279 144.7 279.3 L145 280 145 288 144.7 288.7 Q144.4 289 144 289 L139 289 139 291 144 291 Q144.4 291 144.7 291.3 L145 292 145 294 144.7 294.7 Q144.4 295 144 295 L136 295 Q135.6 295 135.3 294.7 135 294.4 135 294 L135 286 Q135 285.6 135.3 285.3 135.6 285 136 285 L141 285 141 283 136 283 Q135.6 283 135.3 282.7 135 282.4 135 282 L135 280 Q135 279.6 135.3 279.3 M159.65 273.3 L160.5 276.4 163.65 275.55 164.5 278.7 167.65 277.9 166.8 274.75 169.9 273.9 169.05 270.8 165.95 271.65 165.15 268.55 162 269.35 162.8 272.45 159.65 273.3 M77.05 210.1 Q77.85 210.1 78.45 210.7 79.05 211.3 79.05 212.1 L79.05 240.1 Q79.05 240.95 78.45 241.55 77.85 242.1 77.05 242.1 L75.05 242.1 63.05 230.1 59.05 230.1 59.05 222.1 63.05 222.1 75.05 210.1 77.05 210.1 M27.05 210.1 Q27.85 210.1 28.45 210.7 29.05 211.3 29.05 212.1 L29.05 240.1 Q29.05 240.95 28.45 241.55 27.85 242.1 27.05 242.1 L25.05 242.1 13.05 230.1 9.05 230.1 9.05 222.1 13.05 222.1 25.05 210.1 27.05 210.1 M69.05 270.8 L65.95 271.65 65.15 268.55 62 269.35 62.8 272.45 59.65 273.3 60.5 276.4 63.65 275.55 64.5 278.7 67.65 277.9 66.8 274.75 69.9 273.9 69.05 270.8 M31.55 276.6 Q31 277.2 31 278 31 278.85 31.55 279.4 32.15 280 33 280 33.8 280 34.4 279.4 35 278.85 35 278 35 277.2 34.4 276.6 33.8 276 33 276 32.15 276 31.55 276.6 M40 276 Q39.15 276 38.55 276.6 38 277.2 38 278 38 278.85 38.55 279.4 39.15 280 40 280 40.8 280 41.4 279.4 42 278.85 42 278 42 277.2 41.4 276.6 40.8 276 40 276 M16 272 L12 272 12 275.95 8 275.95 8 279.95 12 279.95 12 283.95 16 283.95 16 279.95 19.95 279.95 19.95 275.95 16 275.95 16 272 M23.55 261.6 L24 261.25 24 261 25 261 Q25.8 261 26.4 261.6 27 262.2 27 263 L27 268 43 268 Q43.8 268 44.4 268.6 45 269.2 45 270 L45 286 Q45 286.85 44.4 287.45 43.8 288 43 288 L7 288 Q6.15 288 5.55 287.45 5 286.85 5 286 L5 270.05 Q5 269.2 5.55 268.6 6.15 268 7 268 L23 268 23 263.05 Q23 262.2 23.55 261.6 M76 309 Q82.65 309 87.3 313.65 92 318.35 92 325 92 331.65 87.3 336.3 82.65 341 76 341 69.35 341 64.65 336.3 60 331.65 60 325 60 318.35 64.65 313.65 69.35 309 76 309 M27.35 318 L24.6 318 19 331 22.05 331 23.25 328.2 28.7 328.2 29.9 331 33 331 27.35 318 M76.45 326.6 L78.45 326.85 Q79.15 327.1 79.15 328.05 79.15 328.9 78.5 329.25 L76.7 329.55 74.8 329.55 74.8 326.6 76.45 326.6 M74.8 321.5 L76.1 321.5 77.9 321.75 Q78.4 322.05 78.4 322.9 78.4 323.75 77.85 324.05 L76.1 324.3 74.8 324.3 74.8 321.5 M76.85 319 L72 319 72 332 77.5 332 Q80.05 332 81.1 330.8 82 329.75 82 328.4 82 327.15 81.3 326.35 80.6 325.5 79.45 325.25 L79.9 325.05 80.35 324.7 Q81.3 324 81.3 322.45 81.3 321.2 80.45 320.2 L79.1 319.35 76.85 319 M37.3 313.65 Q42 318.35 42 325 42 331.65 37.3 336.3 32.65 341 26 341 19.35 341 14.65 336.3 10 331.65 10 325 10 318.35 14.65 313.65 19.35 309 26 309 32.65 309 37.3 313.65 M24.35 325.7 L26 321.85 27.6 325.7 24.35 325.7 M137.3 313.65 Q142 318.35 142 325 142 331.65 137.3 336.3 132.65 341 126 341 119.35 341 114.65 336.3 110 331.65 110 325 110 318.35 114.65 313.65 119.35 309 126 309 132.65 309 137.3 313.65 M311 212 Q311 211.2 311.6 210.6 312.2 210 313 210 L317 210 Q317.85 210 318.45 210.6 319 211.2 319 212.05 L319 226 319 240 Q319 240.85 318.45 241.45 317.85 242 317 242 L313 242 Q312.2 242 311.6 241.45 311 240.85 311 240 L311 212 M132.65 319 L129.05 319 126.5 322.85 123.9 319 120.3 319 124.55 325.35 120 332 123.6 332 126.5 327.75 129.35 332 133 332 128.5 325.3 132.65 319 M288.4 210.6 Q289 211.2 289 212 L289 240 Q289 240.85 288.4 241.45 287.8 242 287 242 L283 242 Q282.15 242 281.55 241.45 281 240.85 281 240 L281 226 265 242 263 242 Q262.15 242 261.55 241.45 261 240.85 261 240 L261 212.05 Q261 211.2 261.55 210.6 262.15 210 263 210 L265 210 281 226 281 212.05 Q281 211.2 281.55 210.6 282.15 210 283 210 L287 210 Q287.8 210 288.4 210.6 M244.45 210.6 Q245 211.2 245 212.05 L245 240 Q245 240.85 244.45 241.45 243.85 242 243 242 L241 242 227 228 227 240 Q227 240.85 226.45 241.45 225.85 242 225 242 L223 242 207 226 223 210 225 210 Q225.85 210 226.45 210.6 227 211.2 227 212.05 L227 224 241 210 243 210 Q243.85 210 244.45 210.6 M269 271 L265 271 265 287 281 287 281 283 285 283 285 289 Q285 289.85 284.45 290.45 L284.4 290.45 Q283.8 291 283 291 L263 291 Q262.15 291 261.55 290.45 261 289.85 261 289 L261 269.05 Q261 268.2 261.55 267.6 262.15 267 263 267 L269 267 269 271 M273 262 L289 262 Q289.4 262 289.7 262.3 L290 263 290 279 289.7 279.7 289 280 288.3 279.7 285 276.4 277.7 283.7 277 284 276.3 283.7 268.3 275.7 Q268 275.4 268 275 268 274.6 268.3 274.3 L275.6 267 272.3 263.7 Q272 263.4 272 263 272 262.6 272.3 262.3 272.6 262 273 262 M244.7 294.7 Q244.4 295 244 295 L242 295 Q241.6 295 241.3 294.7 241 294.4 241 294 L241 289 236 289 Q235.6 289 235.3 288.7 235 288.4 235 288 L235 280 Q235 279.6 235.3 279.3 235.6 279 236 279 L238 279 Q238.4 279 238.7 279.3 L239 280 239 285 241 285 241 280 Q241 279.6 241.3 279.3 241.6 279 242 279 L244 279 Q244.4 279 244.7 279.3 L245 280 245 294 244.7 294.7 M181.35 269.25 Q181.2 268.6 180.55 268.3 L179.3 268.1 Q178.65 268.25 178.35 268.9 178.05 269.45 178.2 270.1 178.35 270.75 178.95 271.1 L180.15 271.25 Q180.8 271.05 181.15 270.5 181.5 269.9 181.35 269.25 M183.7 268.65 Q183.85 269.3 184.45 269.6 L185.7 269.75 186.7 269.05 186.85 267.8 Q186.7 267.15 186.1 266.85 185.45 266.45 184.85 266.6 184.15 266.8 183.85 267.4 183.55 268 183.7 268.65 M194.7 279.3 L195 280 195 294 194.7 294.7 194 295 186 295 185.3 294.7 Q185 294.4 185 294 L185 292 Q185 291.6 185.3 291.3 185.6 291 186 291 L191 291 191 289 186 289 185.3 288.7 Q185 288.4 185 288 L185 286 Q185 285.6 185.3 285.3 185.6 285 186 285 L191 285 191 283 186 283 185.3 282.7 Q185 282.4 185 282 L185 280 Q185 279.6 185.3 279.3 185.6 279 186 279 L194 279 Q194.4 279 194.7 279.3 M219.05 270.8 L215.95 271.65 215.15 268.55 212 269.35 212.8 272.45 209.65 273.3 210.5 276.4 213.65 275.55 214.5 278.7 217.65 277.9 216.8 274.75 219.9 273.9 219.05 270.8 M234.45 269.6 L235.7 269.75 236.7 269.05 236.85 267.8 Q236.7 267.15 236.1 266.85 235.45 266.45 234.85 266.6 234.15 266.8 233.85 267.4 233.55 268 233.7 268.65 233.85 269.3 234.45 269.6 M236.75 259.95 Q237.35 260.25 237.5 260.9 L240.9 273.4 240.75 274.65 239.75 275.4 211.4 282.9 210.2 282.75 Q209.6 282.45 209.45 281.8 L206.05 269.35 Q205.9 268.65 206.2 268.05 206.55 267.5 207.2 267.3 L219.8 263.95 218.75 260.05 Q218.55 259.4 218.9 258.85 L219.15 258.45 219.1 258.25 219.9 258.05 221.15 258.25 Q221.7 258.6 221.9 259.25 L222.95 263.15 235.55 259.8 236.75 259.95 M228.2 270.1 Q228.35 270.75 228.95 271.1 L230.15 271.25 231.15 270.5 Q231.5 269.9 231.35 269.25 231.2 268.6 230.55 268.3 L229.3 268.1 Q228.65 268.25 228.35 268.9 228.05 269.45 228.2 270.1 M237.3 313.65 Q242 318.35 242 325 242 331.65 237.3 336.3 232.65 341 226 341 219.35 341 214.65 336.3 210 331.65 210 325 210 318.35 214.65 313.65 219.35 309 226 309 232.65 309 237.3 313.65 M173.6 319.1 L170.4 319.1 175 327.15 175 332.4 177.95 332.4 177.95 327.15 182.55 319.1 179.35 319.1 176.45 324.05 173.6 319.1 M222.25 319.1 L222.25 321.65 224.75 321.65 224.75 332.4 227.6 332.4 227.6 319.1 222.25 319.1 M176 309 Q182.65 309 187.3 313.65 192 318.35 192 325 192 331.65 187.3 336.3 182.65 341 176 341 169.35 341 164.65 336.3 160 331.65 160 325 160 318.35 164.65 313.65 169.35 309 176 309 M287.3 336.3 Q282.65 341 276 341 269.35 341 264.65 336.3 260 331.65 260 325 260 318.35 264.65 313.65 269.35 309 276 309 282.65 309 287.3 313.65 292 318.35 292 325 292 331.65 287.3 336.3 M278.45 319.9 Q277.15 318.8 275.45 318.8 273.75 318.8 272.6 319.55 271.5 320.3 270.55 321.75 L272.95 323.15 Q274.05 321.35 275.3 321.35 276 321.35 276.45 321.8 276.9 322.25 276.9 322.9 276.9 323.6 276.4 324.3 L274.7 326.2 270.8 330.2 270.8 332.4 280.15 332.4 280.15 329.75 274.9 329.75 277.3 327.25 279.25 324.85 Q279.75 323.9 279.75 322.9 279.75 321 278.45 319.9'/%3E%3C/g%3E%3C/svg%3E");

}.resize.svelte-1n7z1bk.svelte-1n7z1bk{grid-row:2;grid-column:2;border:var(--half-border) solid var(--bg-color);background-color:var(--main-color)}.resize.top.svelte-1n7z1bk.svelte-1n7z1bk{grid-row:1}.resize.bottom.svelte-1n7z1bk.svelte-1n7z1bk{grid-row:3}.resize.left.svelte-1n7z1bk.svelte-1n7z1bk{grid-column:1}.resize.right.svelte-1n7z1bk.svelte-1n7z1bk{grid-column:3}.resize.left.svelte-1n7z1bk.svelte-1n7z1bk{cursor:w-resize}.resize.right.svelte-1n7z1bk.svelte-1n7z1bk{cursor:e-resize}.resize.top.svelte-1n7z1bk.svelte-1n7z1bk{cursor:n-resize}.resize.bottom.svelte-1n7z1bk.svelte-1n7z1bk{cursor:s-resize}.resize.top.left.svelte-1n7z1bk.svelte-1n7z1bk{cursor:nw-resize}.resize.top.right.svelte-1n7z1bk.svelte-1n7z1bk{cursor:ne-resize}.resize.bottom.left.svelte-1n7z1bk.svelte-1n7z1bk{cursor:sw-resize}.resize.bottom.right.svelte-1n7z1bk.svelte-1n7z1bk{cursor:se-resize}.svelte-1n7z1bk.svelte-1n7z1bk{box-sizing:border-box}section.svelte-1n7z1bk.svelte-1n7z1bk{margin:0;display:grid;grid-template-columns:var(--border) 1fr var(--border);grid-template-rows:var(--border) 1fr var(--border);position:absolute;user-select:none;overflow:hidden;background-color:var(--bg-color);width:fit-content;height:fit-content;max-height:100%}.inner-card.svelte-1n7z1bk.svelte-1n7z1bk{grid-row:2;grid-column:2;box-sizing:border-box;display:flex;flex-direction:column;width:100%;height:100%;max-height:100%;overflow:hidden;padding:0;margin:0}.content.svelte-1n7z1bk.svelte-1n7z1bk{padding:4px;flex-grow:1;flex-shrink:1;min-height:0;flex-direction:column;display:flex}h3.svelte-1n7z1bk.svelte-1n7z1bk{margin-top:0px;margin-bottom:10px;border-bottom:1px solid var(--main-color);display:flex;flex-direction:row;justify-content:space-between;align-items:center;color:var(--main-color);background-color:var(--bg-color)}h3.svelte-1n7z1bk>div.svelte-1n7z1bk{height:100%}.name.svelte-1n7z1bk.svelte-1n7z1bk{padding:5px;padding-bottom:7px;font-size:90%;flex:1 1;min-width:0;overflow:hidden}.buttons.svelte-1n7z1bk.svelte-1n7z1bk{display:flex;flex-direction:row}button.svelte-1n7z1bk.svelte-1n7z1bk{width:28px;height:100%;display:block}iframe.svelte-1da5q14{width:100%;height:100%}a.svelte-1da5q14{font-size:small}img.svelte-14pgn31{margin:0}.overlay.svelte-al2jhw{position:absolute;left:0;top:0;width:100vw;height:100vh;background-color:rgba(0, 0, 0, 0.41);z-index:10000;display:flex;justify-content:center;align-items:center}.popup.svelte-al2jhw{width:fit-content;height:fit-content;padding:8px;background-color:var(--bg-color);margin:auto;display:flex;flex-direction:column;gap:10px}.horizontal.svelte-al2jhw{min-height:0;flex:1 1 auto;display:flex;flex-direction:row;justify-content:space-between;gap:8px}ul.svelte-ifu19s{max-height:240px;overflow-y:scroll;border:1px solid var(--main-color)}button.svelte-ifu19s{display:table-cell;width:100%;text-align:left;overflow:hidden;white-space:nowrap}button[data-selected="true"].svelte-ifu19s{background-color:var(--main-color);color:var(--bg-color)}.container.svelte-1qrmxpj{width:15rem}.scroll.svelte-6et4o5{overflow-x:scroll;flex-grow:1}section.svelte-6et4o5{margin:0 3em}textarea.svelte-16ektjy{height:12rem}p.svelte-1bo7i89{font-style:italic;font-size:smaller}h4.svelte-19uhbwd button.svelte-19uhbwd{transition:transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);transform-origin:bottom left}.rotated.svelte-19uhbwd.svelte-19uhbwd{transform:rotate(90deg) translate(-1rem, 0) ;position:absolute}h4.svelte-19uhbwd.svelte-19uhbwd{min-width:1rem}.room-config.svelte-19uhbwd.svelte-19uhbwd{overflow-x:hidden}.left-rider.svelte-19uhbwd.svelte-19uhbwd{display:flex;flex-direction:column;flex-wrap:nowrap}.scroll-box.svelte-19uhbwd.svelte-19uhbwd{flex:1 1 50vh;overflow:hidden;overflow-y:scroll;border:1px solid transparent}.sprite-select.svelte-19uhbwd.svelte-19uhbwd{padding:4px;width:6rem;display:flex;flex-direction:column;gap:0.1rem}button.svelte-19uhbwd.svelte-19uhbwd{border:none;box-shadow:none}.sprite-select.svelte-19uhbwd h4.svelte-19uhbwd{margin-bottom:.1rem}.sprite-select.svelte-19uhbwd .icon.svelte-19uhbwd{height:2rem}button[data-selected="true"].svelte-19uhbwd.svelte-19uhbwd{background-color:var(--off-bg-color);transform:translate(.4rem, 0);box-shadow:none}.room-edit.svelte-19uhbwd.svelte-19uhbwd{flex:1 1 120px;flex-shrink:1;display:flex;flex-direction:row;align-items:stretch;min-width:0}.room-config.svelte-19uhbwd.svelte-19uhbwd{margin-bottom:7px;display:flex;flex-direction:column;gap:4px;align-items:baseline}.canvas-container.svelte-19uhbwd.svelte-19uhbwd{overflow:scroll;flex-shrink:1}.canvas-container.svelte-19uhbwd canvas.svelte-19uhbwd{border:1px dashed var(--main-color)}.room-config.svelte-19uhbwd input[type=number].svelte-19uhbwd{width:3.5em}label.svelte-19uhbwd.svelte-19uhbwd{vertical-align:middle}label.svelte-19uhbwd>.svelte-19uhbwd{vertical-align:middle}.horizontal.svelte-19uhbwd.svelte-19uhbwd{min-height:0;flex:1 1 auto;display:flex;flex-direction:row;justify-content:space-between;gap:8px}canvas.svelte-wzj2wz.svelte-wzj2wz{height:9rem}.buttons.svelte-wzj2wz.svelte-wzj2wz{display:grid;gap:2px;grid-template-columns:1fr 1fr;margin-top:1rem}.slider-area.svelte-wzj2wz.svelte-wzj2wz{display:grid;margin:1rem 0;gap:2px;grid-template-columns:6rem 1fr}.slider-area.svelte-wzj2wz>label.svelte-wzj2wz{grid-column:1;justify-self:start}.slider-area.svelte-wzj2wz>input[type=range].svelte-wzj2wz{grid-column:2;justify-self:stretch}input[type=range].svelte-wzj2wz.svelte-wzj2wz{height:1rem;background:none;border:none;-webkit-appearance:none;appearance:none}input[type=range].svelte-wzj2wz.svelte-wzj2wz::-webkit-slider-runnable-track{height:1px;cursor:pointer;background:var(--off-bg-color);border-radius:2px}input[type=range].svelte-wzj2wz.svelte-wzj2wz:focus::-webkit-slider-runnable-track{background:#444}input[type=range].svelte-wzj2wz.svelte-wzj2wz::-moz-range-track{height:1px;cursor:pointer;background:var(--off-bg-color);border-radius:2px}input[type=range].svelte-wzj2wz.svelte-wzj2wz::-webkit-slider-thumb{height:8px;width:8px;border-radius:2px;background:var(--main-color);cursor:pointer;-webkit-appearance:none;margin-top:-4px}input[type=range].svelte-wzj2wz.svelte-wzj2wz::-moz-range-thumb{height:8px;width:8px;border-radius:2px;background:var(--main-color);cursor:pointer;-webkit-appearance:none;appearance:none;margin-top:-4px}p.behaviour-title.svelte-2virto.svelte-2virto{display:flex}p.behaviour-title.svelte-2virto>.name.svelte-2virto{flex-grow:1}p.bottom-bar.svelte-2virto.svelte-2virto{display:flex;justify-content:space-between}.toolbar.svelte-84nuy.svelte-84nuy.svelte-84nuy{margin-bottom:6px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:4px}.toolbar.svelte-84nuy button.svelte-84nuy.svelte-84nuy{padding:3px;display:block}.toolbar.colors.svelte-84nuy button[data-eraser="true"].svelte-84nuy.svelte-84nuy{background:var(--stripey-gradient)}.toolbar.svelte-84nuy canvas.svelte-84nuy.svelte-84nuy{display:block}.toolbar-container.svelte-84nuy.svelte-84nuy.svelte-84nuy{display:flex;flex-direction:column;flex-wrap:wrap;column-gap:16px;justify-content:center}.canvas-container.svelte-84nuy.svelte-84nuy.svelte-84nuy{flex:1 1;display:flex;overflow:auto}.card-settings.svelte-84nuy.svelte-84nuy.svelte-84nuy{padding-left:8px;padding-right:8px}.card-settings.svelte-84nuy>p.svelte-84nuy.svelte-84nuy{display:flex;align-items:center;justify-content:space-between}.card-settings.svelte-84nuy>p.svelte-84nuy>.svelte-84nuy{font-size:small;display:inline-block;flex-grow:1}.modes.svelte-10d6cnx.svelte-10d6cnx{margin-bottom:8px;border-bottom:1px solid var(--main-color)}.modes.svelte-10d6cnx button.svelte-10d6cnx{box-shadow:none;border-bottom:none;padding-bottom:4px}.modes.svelte-10d6cnx button.selected.svelte-10d6cnx{border-bottom:none;box-shadow:0px 2px var(--bg-color)}ul.behaviours.svelte-10d6cnx.svelte-10d6cnx{display:flex;flex-direction:column;align-items:stretch;overflow-y:auto}ul.behaviours.svelte-10d6cnx>li.svelte-10d6cnx{margin:.8rem 0;margin-right:.2rem;padding:.8rem;border:1px solid var(--main-color)}ul.behaviours.svelte-10d6cnx>li.svelte-10d6cnx:last-child{border:none;margin:0;margin-bottom:.5rem;padding:0}.card.sprite-editor .canvas-container canvas{display:block;margin:auto;border:1px solid var(--main-color);background-color:var(--stripey-gradient);background:var(--stripey-gradient)}.svelte-wko9nl{white-space:nowrap}.container.svelte-wko9nl{width:100%;display:flex;align-items:center;align-content:stretch}.name.svelte-wko9nl{flex-grow:1;flex-shrink:1;min-width:0;text-align:left}.icon.svelte-wko9nl{height:1.5em;width:1.5em;display:inline-block;margin-right:4px;padding:auto;text-align:end}.resource-link.svelte-wko9nl{width:100%}.svelte-bf2bgp{white-space:nowrap}.resource-link.svelte-bf2bgp{width:100%;display:flex;align-items:center;align-content:stretch}button.new.svelte-bf2bgp{padding-left:0}.icon.svelte-bf2bgp{display:inline-block;margin-right:4px;padding:auto;text-align:end}.name.svelte-bf2bgp{flex-grow:1}.scroll-box.svelte-1q73bjx.svelte-1q73bjx{border:1px solid transparent;box-sizing:border-box;flex-grow:1}.resources.svelte-1q73bjx.svelte-1q73bjx{margin-bottom:.5rem}ul.resources.svelte-1q73bjx li.svelte-1q73bjx{margin-left:10px;list-style-position:outside}.container.svelte-18mo8lf{width:15rem}.confirmText.svelte-18mo8lf{overflow:hidden;white-space:nowrap;margin-top:0.5rem;margin-bottom:0.5rem}em.svelte-18mo8lf{text-decoration:underline}button.svelte-1jk4d84{transition:transform .2s}.cards.svelte-10cvrb4{width:max-content;height:100%;justify-content:left;display:flex;align-items:top;gap:4px}main.svelte-10cvrb4{flex-grow:1;flex-shrink:1;flex-basis:0;position:relative;overflow-y:hidden;overflow-x:scroll;padding:0}h2.svelte-8ittxn{margin-bottom:1rem;text-decoration:underline}textarea.svelte-8ittxn{resize:vertical}.spacer.svelte-1newdmp.svelte-1newdmp{width:4px}input.svelte-1newdmp.svelte-1newdmp{background-color:var(--bg-color);border-color:var(--main-color);color:var(--main-color);margin:0;padding:4px 6px}header.svelte-1newdmp div.svelte-1newdmp{display:flex;flex-direction:row;padding:4px;font-family:sans-serif}ul.topbar.svelte-1newdmp.svelte-1newdmp{display:flex;flex-direction:row;flex-wrap:wrap;border-bottom:1px solid var(--main-color);background-color:var(--bg-color);margin-bottom:4px;;}ul.topbar.svelte-1newdmp>li.svelte-1newdmp{padding:4px}h2.svelte-1e44zoz{margin:1rem}section.svelte-1e44zoz{margin-top:1rem;display:flex;flex-direction:column;place-items:center baseline}table.svelte-1e44zoz{width:16rem;border-collapse:collapse}td.svelte-1e44zoz{border:1px solid var(--main-color)}
</style>
  </head>
  <body>
    
  

</body>